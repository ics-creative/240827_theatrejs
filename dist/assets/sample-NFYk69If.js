import{g as Ele,d as je,c as Ln,a as An,S as _le,C as Ple,B as Cle,M as Ile,b as jle,A as Ole,R as Tle,V as zle,P as Dle,W as Ale}from"./index-DxawTaA6.js";/* empty css              */function Bg(Vt){throw new Error('Could not dynamically require "'+Vt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ng={exports:{}};Ng.exports;(function(Vt,dr){var En={},Rg=Object.create,Rd=Object.freeze,ea=Object.defineProperty,Fg=Object.defineProperties,Mg=Object.getOwnPropertyDescriptor,Ug=Object.getOwnPropertyDescriptors,Vg=Object.getOwnPropertyNames,Fd=Object.getOwnPropertySymbols,Sq=Object.getPrototypeOf,Hg=Object.prototype.hasOwnProperty,y2=Object.prototype.propertyIsEnumerable,Kg=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},Eq=Math.pow,Wg=(e,t,n)=>t in e?ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))Hg.call(t,n)&&Wg(e,n,t[n]);if(Fd)for(var n of Fd(t))y2.call(t,n)&&Wg(e,n,t[n]);return e},he=(e,t)=>Fg(e,Ug(t)),Js=(e,t)=>{var n={};for(var o in e)Hg.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Fd)for(var o of Fd(e))t.indexOf(o)<0&&y2.call(e,o)&&(n[o]=e[o]);return n},P=(e,t)=>()=>(e&&(t=e(e=0)),t),He=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b2=(e,t)=>{for(var n in t)ea(e,n,{get:t[n],enumerable:!0})},k2=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vg(t))!Hg.call(e,i)&&i!==n&&ea(e,i,{get:()=>t[i],enumerable:!(o=Mg(t,i))||o.enumerable});return e},$=(e,t,n)=>(n=e!=null?Rg(Sq(e)):{},k2(t||!e||!e.__esModule?ea(n,"default",{value:e,enumerable:!0}):n,e)),_q=e=>k2(ea({},"__esModule",{value:!0}),e),et=(e,t,n)=>(Wg(e,typeof t!="symbol"?t+"":t,n),n),R=(e,t)=>Rd(ea(e,"raw",{value:Rd(e.slice())})),Ht=(e,t,n)=>new Promise((o,i)=>{var l=d=>{try{u(n.next(d))}catch(f){i(f)}},s=d=>{try{u(n.throw(d))}catch(f){i(f)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,s);u((n=n.apply(e,t)).next())}),Pq=function(e,t){this[0]=e,this[1]=t},Cq=e=>{var t=e[Kg("asyncIterator")],n=!1,o,i={};return t==null?(t=e[Kg("iterator")](),o=l=>i[l]=s=>t[l](s)):(t=t.call(e),o=l=>i[l]=s=>{if(n){if(n=!1,l==="throw")throw s;return s}return n=!0,{done:!1,value:new Pq(new Promise(u=>{var d=t[l](s);if(!(d instanceof Object))throw TypeError("Object expected");u(d)}),1)}}),i[Kg("iterator")]=()=>i,o("next"),"throw"in t?o("throw"):i.throw=l=>{throw l},"return"in t&&o("return"),i};function Iq(e){w2=e}function de(){return w2}var w2,Ne=P(()=>{});function Md(e,t,n=[]){if(typeof e=="object"&&e){if(x2(e)||S2(e)){t(e,n);return}for(let[o,i]of Object.entries(e))Md(i,t,[...n,o])}else{if(e==null)return;t(e,n)}}var x2,S2,qg=P(()=>{x2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",S2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function ta(e){return t=>typeof t=="object"&&!!t&&t.type===e}var $g,Ud,E2,fr,_2,P2,Lg,Zg,ni=P(()=>{$g=ta("Theatre_Project"),Ud=ta("Theatre_Sheet"),E2=ta("Theatre_SheetTemplate"),fr=ta("Theatre_SheetObject"),_2=ta("Theatre_Sequence"),P2=ta("Theatre_SheetObjectTemplate"),Lg=ta("Theatre_Sheet_PublicAPI"),Zg=ta("Theatre_SheetObject_PublicAPI")}),C2,Gg,I2=P(()=>{C2=typeof Ln=="object"&&Ln&&Ln.Object===Object&&Ln,Gg=C2}),j2,O2,Gn,pr=P(()=>{I2(),j2=typeof self=="object"&&self&&self.Object===Object&&self,O2=Gg||j2||Function("return this")(),Gn=O2}),T2,hr,eu=P(()=>{pr(),T2=Gn.Symbol,hr=T2});function jq(e){var t=z2.call(e,hl),n=e[hl];try{e[hl]=void 0;var o=!0}catch{}var i=D2.call(e);return o&&(t?e[hl]=n:delete e[hl]),i}var Xg,z2,D2,hl,A2,Oq=P(()=>{eu(),Xg=Object.prototype,z2=Xg.hasOwnProperty,D2=Xg.toString,hl=hr?hr.toStringTag:void 0,A2=jq});function Tq(e){return N2.call(e)}var B2,N2,R2,zq=P(()=>{B2=Object.prototype,N2=B2.toString,R2=Tq});function Dq(e){return e==null?e===void 0?M2:F2:Qg&&Qg in Object(e)?A2(e):R2(e)}var F2,M2,Qg,na,ml=P(()=>{eu(),Oq(),zq(),F2="[object Null]",M2="[object Undefined]",Qg=hr?hr.toStringTag:void 0,na=Dq});function Aq(e){return e!=null&&typeof e=="object"}var ra,gl=P(()=>{ra=Aq});function Bq(e){return typeof e=="symbol"||ra(e)&&na(e)==U2}var U2,ri,tu=P(()=>{ml(),gl(),U2="[object Symbol]",ri=Bq});function Nq(e,t){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}var vl,Yg=P(()=>{vl=Nq}),V2,Bn,mr=P(()=>{V2=Array.isArray,Bn=V2});function H2(e){if(typeof e=="string")return e;if(Bn(e))return vl(e,H2)+"";if(ri(e))return e0?e0.call(e):"";var t=e+"";return t=="0"&&1/e==-K2?"-0":t}var K2,Jg,e0,W2,Rq=P(()=>{eu(),Yg(),mr(),tu(),K2=1/0,Jg=hr?hr.prototype:void 0,e0=Jg?Jg.toString:void 0,W2=H2});function Fq(e){for(var t=e.length;t--&&q2.test(e.charAt(t)););return t}var q2,$2,Mq=P(()=>{q2=/\s/,$2=Fq});function Uq(e){return e&&e.slice(0,$2(e)+1).replace(L2,"")}var L2,Z2,Vq=P(()=>{Mq(),L2=/^\s+/,Z2=Uq});function Hq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Kr,oi=P(()=>{Kr=Hq});function Kq(e){if(typeof e=="number")return e;if(ri(e))return t0;if(Kr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Kr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Z2(e);var n=X2.test(e);return n||Q2.test(e)?Y2(e.slice(2),n?2:8):G2.test(e)?t0:+e}var t0,G2,X2,Q2,Y2,wo,nu=P(()=>{Vq(),oi(),tu(),t0=NaN,G2=/^[-+]0x[0-9a-f]+$/i,X2=/^0b[01]+$/i,Q2=/^0o[0-7]+$/i,Y2=parseInt,wo=Kq});function Wq(e){if(!e)return e===0?e:0;if(e=wo(e),e===n0||e===-n0){var t=e<0?-1:1;return t*J2}return e===e?e:0}var n0,J2,Vd,eS=P(()=>{nu(),n0=1/0,J2=17976931348623157e292,Vd=Wq});function qq(e){var t=Vd(e),n=t%1;return t===t?n?t-n:t:0}var ru,Hd=P(()=>{eS(),ru=qq});function $q(e){return e}var ou,Kd=P(()=>{ou=$q});function Lq(e){if(!Kr(e))return!1;var t=na(e);return t==nS||t==rS||t==tS||t==oS}var tS,nS,rS,oS,r0,aS=P(()=>{ml(),oi(),tS="[object AsyncFunction]",nS="[object Function]",rS="[object GeneratorFunction]",oS="[object Proxy]",r0=Lq}),iS,Wd,Zq=P(()=>{pr(),iS=Gn["__core-js_shared__"],Wd=iS});function Gq(e){return!!o0&&o0 in e}var o0,lS,Xq=P(()=>{Zq(),o0=function(){var e=/[^.]+$/.exec(Wd&&Wd.keys&&Wd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),lS=Gq});function Qq(e){if(e!=null){try{return uS.call(e)}catch{}try{return e+""}catch{}}return""}var sS,uS,oa,cS=P(()=>{sS=Function.prototype,uS=sS.toString,oa=Qq});function Yq(e){if(!Kr(e)||lS(e))return!1;var t=r0(e)?vS:fS;return t.test(oa(e))}var dS,fS,pS,hS,mS,gS,vS,yS,Jq=P(()=>{aS(),Xq(),oi(),cS(),dS=/[\\^$.*+?()[\]{}|]/g,fS=/^\[object .+?Constructor\]$/,pS=Function.prototype,hS=Object.prototype,mS=pS.toString,gS=hS.hasOwnProperty,vS=RegExp("^"+mS.call(gS).replace(dS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yS=Yq});function e$(e,t){return e==null?void 0:e[t]}var bS,t$=P(()=>{bS=e$});function n$(e,t){var n=bS(e,t);return yS(n)?n:void 0}var aa,ai=P(()=>{Jq(),t$(),aa=n$}),kS,qd,r$=P(()=>{ai(),pr(),kS=aa(Gn,"WeakMap"),qd=kS});function o$(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var wS,a$=P(()=>{wS=o$});function i$(){}var xS,l$=P(()=>{xS=i$});function s$(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}var SS,u$=P(()=>{SS=s$});function c$(e){var t=0,n=0;return function(){var o=PS(),i=_S-(o-n);if(n=o,i>0){if(++t>=ES)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ES,_S,PS,CS,d$=P(()=>{ES=800,_S=16,PS=Date.now,CS=c$});function f$(e){return function(){return e}}var IS,p$=P(()=>{IS=f$}),jS,au,OS=P(()=>{ai(),jS=function(){try{var e=aa(Object,"defineProperty");return e({},"",{}),e}catch{}}(),au=jS}),TS,zS,h$=P(()=>{p$(),OS(),Kd(),TS=au?function(e,t){return au(e,"toString",{configurable:!0,enumerable:!1,value:IS(t),writable:!0})}:ou,zS=TS}),DS,AS,m$=P(()=>{h$(),d$(),DS=CS(zS),AS=DS});function g$(e,t,n,o){for(var i=e.length,l=n+(o?1:-1);o?l--:++l<i;)if(t(e[l],l,e))return l;return-1}var $d,a0=P(()=>{$d=g$});function v$(e){return e!==e}var BS,y$=P(()=>{BS=v$});function b$(e,t,n){for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}var NS,k$=P(()=>{NS=b$});function w$(e,t,n){return t===t?NS(e,t,n):$d(e,BS,n)}var i0,RS=P(()=>{a0(),y$(),k$(),i0=w$});function x$(e,t){var n=e==null?0:e.length;return!!n&&i0(e,t,0)>-1}var FS,S$=P(()=>{RS(),FS=x$});function E$(e,t){var n=typeof e;return t=t??MS,!!t&&(n=="number"||n!="symbol"&&US.test(e))&&e>-1&&e%1==0&&e<t}var MS,US,iu,Ld=P(()=>{MS=9007199254740991,US=/^(?:0|[1-9]\d*)$/,iu=E$});function _$(e,t,n){t=="__proto__"&&au?au(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Zd,l0=P(()=>{OS(),Zd=_$});function P$(e,t){return e===t||e!==e&&t!==t}var lu,Gd=P(()=>{lu=P$});function C$(e,t,n){var o=e[t];(!(HS.call(e,t)&&lu(o,n))||n===void 0&&!(t in e))&&Zd(e,t,n)}var VS,HS,KS,I$=P(()=>{l0(),Gd(),VS=Object.prototype,HS=VS.hasOwnProperty,KS=C$});function j$(e,t,n){return t=s0(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=s0(o.length-t,0),s=Array(l);++i<l;)s[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),wS(e,this,u)}}var s0,WS,O$=P(()=>{a$(),s0=Math.max,WS=j$});function T$(e,t){return AS(WS(e,t,ou),e+"")}var u0,qS=P(()=>{Kd(),O$(),m$(),u0=T$});function z$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$S}var $S,Xd,c0=P(()=>{$S=9007199254740991,Xd=z$});function D$(e){return e!=null&&Xd(e.length)&&!r0(e)}var su,Qd=P(()=>{aS(),c0(),su=D$});function A$(e,t,n){if(!Kr(n))return!1;var o=typeof t;return(o=="number"?su(n)&&iu(t,n.length):o=="string"&&t in n)?lu(n[t],e):!1}var d0,B$=P(()=>{Gd(),Qd(),Ld(),oi(),d0=A$});function N$(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||LS;return e===n}var LS,ZS,R$=P(()=>{LS=Object.prototype,ZS=N$});function F$(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var GS,M$=P(()=>{GS=F$});function U$(e){return ra(e)&&na(e)==XS}var XS,f0,V$=P(()=>{ml(),gl(),XS="[object Arguments]",f0=U$}),p0,QS,YS,JS,Yd,h0=P(()=>{V$(),gl(),p0=Object.prototype,QS=p0.hasOwnProperty,YS=p0.propertyIsEnumerable,JS=f0(function(){return arguments}())?f0:function(e){return ra(e)&&QS.call(e,"callee")&&!YS.call(e,"callee")},Yd=JS});function H$(){return!1}var eE,K$=P(()=>{eE=H$}),m0,g0,tE,v0,nE,rE,Jd,oE=P(()=>{pr(),K$(),m0=dr&&!dr.nodeType&&dr,g0=m0&&!0&&Vt&&!Vt.nodeType&&Vt,tE=g0&&g0.exports===m0,v0=tE?Gn.Buffer:void 0,nE=v0?v0.isBuffer:void 0,rE=nE||eE,Jd=rE});function W$(e){return ra(e)&&Xd(e.length)&&!!dt[na(e)]}var aE,iE,lE,sE,uE,cE,dE,fE,pE,hE,mE,gE,vE,yE,bE,kE,wE,xE,SE,EE,_E,PE,CE,IE,dt,jE,q$=P(()=>{ml(),c0(),gl(),aE="[object Arguments]",iE="[object Array]",lE="[object Boolean]",sE="[object Date]",uE="[object Error]",cE="[object Function]",dE="[object Map]",fE="[object Number]",pE="[object Object]",hE="[object RegExp]",mE="[object Set]",gE="[object String]",vE="[object WeakMap]",yE="[object ArrayBuffer]",bE="[object DataView]",kE="[object Float32Array]",wE="[object Float64Array]",xE="[object Int8Array]",SE="[object Int16Array]",EE="[object Int32Array]",_E="[object Uint8Array]",PE="[object Uint8ClampedArray]",CE="[object Uint16Array]",IE="[object Uint32Array]",dt={},dt[kE]=dt[wE]=dt[xE]=dt[SE]=dt[EE]=dt[_E]=dt[PE]=dt[CE]=dt[IE]=!0,dt[aE]=dt[iE]=dt[yE]=dt[lE]=dt[bE]=dt[sE]=dt[uE]=dt[cE]=dt[dE]=dt[fE]=dt[pE]=dt[hE]=dt[mE]=dt[gE]=dt[vE]=!1,jE=W$});function $$(e){return function(t){return e(t)}}var ef,y0=P(()=>{ef=$$}),b0,yl,OE,tf,TE,k0,L$=P(()=>{I2(),b0=dr&&!dr.nodeType&&dr,yl=b0&&!0&&Vt&&!Vt.nodeType&&Vt,OE=yl&&yl.exports===b0,tf=OE&&Gg.process,TE=function(){try{var e=yl&&yl.require&&yl.require("util").types;return e||tf&&tf.binding&&tf.binding("util")}catch{}}(),k0=TE}),w0,zE,x0,DE=P(()=>{q$(),y0(),L$(),w0=k0&&k0.isTypedArray,zE=w0?ef(w0):jE,x0=zE});function Z$(e,t){var n=Bn(e),o=!n&&Yd(e),i=!n&&!o&&Jd(e),l=!n&&!o&&!i&&x0(e),s=n||o||i||l,u=s?GS(e.length,String):[],d=u.length;for(var f in e)(t||BE.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||iu(f,d)))&&u.push(f);return u}var AE,BE,NE,G$=P(()=>{M$(),h0(),mr(),oE(),Ld(),DE(),AE=Object.prototype,BE=AE.hasOwnProperty,NE=Z$});function X$(e,t){return function(n){return e(t(n))}}var S0,RE=P(()=>{S0=X$}),FE,ME,Q$=P(()=>{RE(),FE=S0(Object.keys,Object),ME=FE});function Y$(e){if(!ZS(e))return ME(e);var t=[];for(var n in Object(e))VE.call(e,n)&&n!="constructor"&&t.push(n);return t}var UE,VE,HE,J$=P(()=>{R$(),Q$(),UE=Object.prototype,VE=UE.hasOwnProperty,HE=Y$});function eL(e){return su(e)?NE(e):HE(e)}var nf,E0=P(()=>{G$(),J$(),Qd(),nf=eL});function tL(e,t){if(Bn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ri(e)?!0:WE.test(e)||!KE.test(e)||t!=null&&e in Object(t)}var KE,WE,rf,_0=P(()=>{mr(),tu(),KE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WE=/^\w*$/,rf=tL}),qE,bl,of=P(()=>{ai(),qE=aa(Object,"create"),bl=qE});function nL(){this.__data__=bl?bl(null):{},this.size=0}var $E,rL=P(()=>{of(),$E=nL});function oL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var LE,aL=P(()=>{LE=oL});function iL(e){var t=this.__data__;if(bl){var n=t[e];return n===ZE?void 0:n}return XE.call(t,e)?t[e]:void 0}var ZE,GE,XE,QE,lL=P(()=>{of(),ZE="__lodash_hash_undefined__",GE=Object.prototype,XE=GE.hasOwnProperty,QE=iL});function sL(e){var t=this.__data__;return bl?t[e]!==void 0:JE.call(t,e)}var YE,JE,e_,uL=P(()=>{of(),YE=Object.prototype,JE=YE.hasOwnProperty,e_=sL});function cL(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bl&&t===void 0?t_:t,this}var t_,n_,dL=P(()=>{of(),t_="__lodash_hash_undefined__",n_=cL});function kl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var P0,fL=P(()=>{rL(),aL(),lL(),uL(),dL(),kl.prototype.clear=$E,kl.prototype.delete=LE,kl.prototype.get=QE,kl.prototype.has=e_,kl.prototype.set=n_,P0=kl});function pL(){this.__data__=[],this.size=0}var r_,hL=P(()=>{r_=pL});function mL(e,t){for(var n=e.length;n--;)if(lu(e[n][0],t))return n;return-1}var uu,af=P(()=>{Gd(),uu=mL});function gL(e){var t=this.__data__,n=uu(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():a_.call(t,n,1),--this.size,!0}var o_,a_,i_,vL=P(()=>{af(),o_=Array.prototype,a_=o_.splice,i_=gL});function yL(e){var t=this.__data__,n=uu(t,e);return n<0?void 0:t[n][1]}var l_,bL=P(()=>{af(),l_=yL});function kL(e){return uu(this.__data__,e)>-1}var s_,wL=P(()=>{af(),s_=kL});function xL(e,t){var n=this.__data__,o=uu(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var u_,SL=P(()=>{af(),u_=xL});function wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var cu,lf=P(()=>{hL(),vL(),bL(),wL(),SL(),wl.prototype.clear=r_,wl.prototype.delete=i_,wl.prototype.get=l_,wl.prototype.has=s_,wl.prototype.set=u_,cu=wl}),c_,xl,C0=P(()=>{ai(),pr(),c_=aa(Gn,"Map"),xl=c_});function EL(){this.size=0,this.__data__={hash:new P0,map:new(xl||cu),string:new P0}}var d_,_L=P(()=>{fL(),lf(),C0(),d_=EL});function PL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var f_,CL=P(()=>{f_=PL});function IL(e,t){var n=e.__data__;return f_(t)?n[typeof t=="string"?"string":"hash"]:n.map}var du,sf=P(()=>{CL(),du=IL});function jL(e){var t=du(this,e).delete(e);return this.size-=t?1:0,t}var p_,OL=P(()=>{sf(),p_=jL});function TL(e){return du(this,e).get(e)}var h_,zL=P(()=>{sf(),h_=TL});function DL(e){return du(this,e).has(e)}var m_,AL=P(()=>{sf(),m_=DL});function BL(e,t){var n=du(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var g_,NL=P(()=>{sf(),g_=BL});function Sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var fu,I0=P(()=>{_L(),OL(),zL(),AL(),NL(),Sl.prototype.clear=d_,Sl.prototype.delete=p_,Sl.prototype.get=h_,Sl.prototype.has=m_,Sl.prototype.set=g_,fu=Sl});function j0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(v_);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],l=n.cache;if(l.has(i))return l.get(i);var s=e.apply(this,o);return n.cache=l.set(i,s)||l,s};return n.cache=new(j0.Cache||fu),n}var v_,O0,y_=P(()=>{I0(),v_="Expected a function",j0.Cache=fu,O0=j0});function RL(e){var t=O0(e,function(o){return n.size===b_&&n.clear(),o}),n=t.cache;return t}var b_,k_,FL=P(()=>{y_(),b_=500,k_=RL}),w_,x_,S_,E_,ML=P(()=>{FL(),w_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x_=/\\(\\)?/g,S_=k_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(w_,function(n,o,i,l){t.push(i?l.replace(x_,"$1"):o||n)}),t}),E_=S_});function UL(e){return e==null?"":W2(e)}var uf,__=P(()=>{Rq(),uf=UL});function VL(e,t){return Bn(e)?e:rf(e,t)?[e]:E_(uf(e))}var cf,T0=P(()=>{mr(),_0(),ML(),__(),cf=VL});function HL(e){if(typeof e=="string"||ri(e))return e;var t=e+"";return t=="0"&&1/e==-P_?"-0":t}var P_,El,pu=P(()=>{tu(),P_=1/0,El=HL});function KL(e,t){t=cf(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[El(t[n++])];return n&&n==o?e:void 0}var df,z0=P(()=>{T0(),pu(),df=KL});function WL(e,t,n){var o=e==null?void 0:df(e,t);return o===void 0?n:o}var ii,hu=P(()=>{z0(),ii=WL});function qL(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}var D0,C_=P(()=>{D0=qL});function $L(e){return Bn(e)||Yd(e)||!!(A0&&e&&e[A0])}var A0,I_,LL=P(()=>{eu(),h0(),mr(),A0=hr?hr.isConcatSpreadable:void 0,I_=$L});function j_(e,t,n,o,i){var l=-1,s=e.length;for(n||(n=I_),i||(i=[]);++l<s;){var u=e[l];t>0&&n(u)?t>1?j_(u,t-1,n,o,i):D0(i,u):o||(i[i.length]=u)}return i}var O_,ZL=P(()=>{C_(),LL(),O_=j_}),T_,z_,GL=P(()=>{RE(),T_=S0(Object.getPrototypeOf,Object),z_=T_});function XL(e){if(!ra(e)||na(e)!=D_)return!1;var t=z_(e);if(t===null)return!0;var n=N_.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&B0.call(n)==R_}var D_,A_,B_,B0,N_,R_,ff,F_=P(()=>{ml(),GL(),gl(),D_="[object Object]",A_=Function.prototype,B_=Object.prototype,B0=A_.toString,N_=B_.hasOwnProperty,R_=B0.call(Object),ff=XL});function QL(e){var t=Math[e];return function(n,o){if(n=wo(n),o=o==null?0:U_(ru(o),292),o&&M_(n)){var i=(uf(n)+"e").split("e"),l=t(i[0]+"e"+(+i[1]+o));return i=(uf(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-o))}return t(n)}}var M_,U_,V_,YL=P(()=>{pr(),Hd(),nu(),__(),M_=Gn.isFinite,U_=Math.min,V_=QL});function JL(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var H_,eZ=P(()=>{H_=JL});function tZ(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=wo(n),n=n===n?n:0),t!==void 0&&(t=wo(t),t=t===t?t:0),H_(wo(e),t,n)}var kt,pf=P(()=>{eZ(),nu(),kt=tZ});function nZ(){this.__data__=new cu,this.size=0}var K_,rZ=P(()=>{lf(),K_=nZ});function oZ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var W_,aZ=P(()=>{W_=oZ});function iZ(e){return this.__data__.get(e)}var q_,lZ=P(()=>{q_=iZ});function sZ(e){return this.__data__.has(e)}var $_,uZ=P(()=>{$_=sZ});function cZ(e,t){var n=this.__data__;if(n instanceof cu){var o=n.__data__;if(!xl||o.length<L_-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new fu(o)}return n.set(e,t),this.size=n.size,this}var L_,Z_,dZ=P(()=>{lf(),C0(),I0(),L_=200,Z_=cZ});function _l(e){var t=this.__data__=new cu(e);this.size=t.size}var mu,G_=P(()=>{lf(),rZ(),aZ(),lZ(),uZ(),dZ(),_l.prototype.clear=K_,_l.prototype.delete=W_,_l.prototype.get=q_,_l.prototype.has=$_,_l.prototype.set=Z_,mu=_l});function fZ(e,t){for(var n=-1,o=e==null?0:e.length,i=0,l=[];++n<o;){var s=e[n];t(s,n,e)&&(l[i++]=s)}return l}var X_,pZ=P(()=>{X_=fZ});function hZ(){return[]}var Q_,mZ=P(()=>{Q_=hZ}),Y_,J_,N0,e5,t5,gZ=P(()=>{pZ(),mZ(),Y_=Object.prototype,J_=Y_.propertyIsEnumerable,N0=Object.getOwnPropertySymbols,e5=N0?function(e){return e==null?[]:(e=Object(e),X_(N0(e),function(t){return J_.call(e,t)}))}:Q_,t5=e5});function vZ(e,t,n){var o=t(e);return Bn(e)?o:D0(o,n(e))}var n5,yZ=P(()=>{C_(),mr(),n5=vZ});function bZ(e){return n5(e,nf,t5)}var R0,kZ=P(()=>{yZ(),gZ(),E0(),R0=bZ}),r5,hf,wZ=P(()=>{ai(),pr(),r5=aa(Gn,"DataView"),hf=r5}),o5,mf,xZ=P(()=>{ai(),pr(),o5=aa(Gn,"Promise"),mf=o5}),a5,li,i5=P(()=>{ai(),pr(),a5=aa(Gn,"Set"),li=a5}),F0,l5,M0,U0,V0,H0,s5,u5,c5,d5,f5,ia,K0,SZ=P(()=>{wZ(),C0(),xZ(),i5(),r$(),ml(),cS(),F0="[object Map]",l5="[object Object]",M0="[object Promise]",U0="[object Set]",V0="[object WeakMap]",H0="[object DataView]",s5=oa(hf),u5=oa(xl),c5=oa(mf),d5=oa(li),f5=oa(qd),ia=na,(hf&&ia(new hf(new ArrayBuffer(1)))!=H0||xl&&ia(new xl)!=F0||mf&&ia(mf.resolve())!=M0||li&&ia(new li)!=U0||qd&&ia(new qd)!=V0)&&(ia=function(e){var t=na(e),n=t==l5?e.constructor:void 0,o=n?oa(n):"";if(o)switch(o){case s5:return H0;case u5:return F0;case c5:return M0;case d5:return U0;case f5:return V0}return t}),K0=ia}),p5,W0,EZ=P(()=>{pr(),p5=Gn.Uint8Array,W0=p5});function _Z(e){return this.__data__.set(e,h5),this}var h5,m5,PZ=P(()=>{h5="__lodash_hash_undefined__",m5=_Z});function CZ(e){return this.__data__.has(e)}var g5,IZ=P(()=>{g5=CZ});function gf(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fu;++t<n;)this.add(e[t])}var q0,v5=P(()=>{I0(),PZ(),IZ(),gf.prototype.add=gf.prototype.push=m5,gf.prototype.has=g5,q0=gf});function jZ(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var y5,OZ=P(()=>{y5=jZ});function TZ(e,t){return e.has(t)}var $0,b5=P(()=>{$0=TZ});function zZ(e,t,n,o,i,l){var s=n&k5,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var f=l.get(e),m=l.get(t);if(f&&m)return f==t&&m==e;var v=-1,g=!0,h=n&w5?new q0:void 0;for(l.set(e,t),l.set(t,e);++v<u;){var b=e[v],y=t[v];if(o)var k=s?o(y,b,v,t,e,l):o(b,y,v,e,t,l);if(k!==void 0){if(k)continue;g=!1;break}if(h){if(!y5(t,function(x,S){if(!$0(h,S)&&(b===x||i(b,x,n,o,l)))return h.push(S)})){g=!1;break}}else if(!(b===y||i(b,y,n,o,l))){g=!1;break}}return l.delete(e),l.delete(t),g}var k5,w5,L0,x5=P(()=>{v5(),OZ(),b5(),k5=1,w5=2,L0=zZ});function DZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o,i){n[++t]=[i,o]}),n}var S5,AZ=P(()=>{S5=DZ});function BZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var vf,Z0=P(()=>{vf=BZ});function NZ(e,t,n,o,i,l,s){switch(n){case N5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B5:return!(e.byteLength!=t.byteLength||!l(new W0(e),new W0(t)));case P5:case C5:case O5:return lu(+e,+t);case I5:return e.name==t.name&&e.message==t.message;case T5:case D5:return e==t+"";case j5:var u=S5;case z5:var d=o&E5;if(u||(u=vf),e.size!=t.size&&!d)return!1;var f=s.get(e);if(f)return f==t;o|=_5,s.set(e,t);var m=L0(u(e),u(t),o,i,l,s);return s.delete(e),m;case A5:if(yf)return yf.call(e)==yf.call(t)}return!1}var E5,_5,P5,C5,I5,j5,O5,T5,z5,D5,A5,B5,N5,G0,yf,R5,RZ=P(()=>{eu(),EZ(),Gd(),x5(),AZ(),Z0(),E5=1,_5=2,P5="[object Boolean]",C5="[object Date]",I5="[object Error]",j5="[object Map]",O5="[object Number]",T5="[object RegExp]",z5="[object Set]",D5="[object String]",A5="[object Symbol]",B5="[object ArrayBuffer]",N5="[object DataView]",G0=hr?hr.prototype:void 0,yf=G0?G0.valueOf:void 0,R5=NZ});function FZ(e,t,n,o,i,l){var s=n&F5,u=R0(e),d=u.length,f=R0(t),m=f.length;if(d!=m&&!s)return!1;for(var v=d;v--;){var g=u[v];if(!(s?g in t:U5.call(t,g)))return!1}var h=l.get(e),b=l.get(t);if(h&&b)return h==t&&b==e;var y=!0;l.set(e,t),l.set(t,e);for(var k=s;++v<d;){g=u[v];var x=e[g],S=t[g];if(o)var _=s?o(S,x,g,t,e,l):o(x,S,g,e,t,l);if(!(_===void 0?x===S||i(x,S,n,o,l):_)){y=!1;break}k||(k=g=="constructor")}if(y&&!k){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(y=!1)}return l.delete(e),l.delete(t),y}var F5,M5,U5,V5,MZ=P(()=>{kZ(),F5=1,M5=Object.prototype,U5=M5.hasOwnProperty,V5=FZ});function UZ(e,t,n,o,i,l){var s=Bn(e),u=Bn(t),d=s?Q0:K0(e),f=u?Q0:K0(t);d=d==X0?gu:d,f=f==X0?gu:f;var m=d==gu,v=f==gu,g=d==f;if(g&&Jd(e)){if(!Jd(t))return!1;s=!0,m=!1}if(g&&!m)return l||(l=new mu),s||x0(e)?L0(e,t,n,o,i,l):R5(e,t,d,n,o,i,l);if(!(n&H5)){var h=m&&Y0.call(e,"__wrapped__"),b=v&&Y0.call(t,"__wrapped__");if(h||b){var y=h?e.value():e,k=b?t.value():t;return l||(l=new mu),i(y,k,n,o,l)}}return g?(l||(l=new mu),V5(e,t,n,o,i,l)):!1}var H5,X0,Q0,gu,K5,Y0,W5,VZ=P(()=>{G_(),x5(),RZ(),MZ(),SZ(),mr(),oE(),DE(),H5=1,X0="[object Arguments]",Q0="[object Array]",gu="[object Object]",K5=Object.prototype,Y0=K5.hasOwnProperty,W5=UZ});function q5(e,t,n,o,i){return e===t?!0:e==null||t==null||!ra(e)&&!ra(t)?e!==e&&t!==t:W5(e,t,n,o,q5,i)}var J0,$5=P(()=>{VZ(),gl(),J0=q5});function HZ(e,t,n,o){var i=n.length,l=i,s=!o;if(e==null)return!l;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<l;){u=n[i];var d=u[0],f=e[d],m=u[1];if(s&&u[2]){if(f===void 0&&!(d in e))return!1}else{var v=new mu;if(o)var g=o(f,m,d,e,t,v);if(!(g===void 0?J0(m,f,L5|Z5,o,v):g))return!1}}return!0}var L5,Z5,G5,KZ=P(()=>{G_(),$5(),L5=1,Z5=2,G5=HZ});function WZ(e){return e===e&&!Kr(e)}var ev,X5=P(()=>{oi(),ev=WZ});function qZ(e){for(var t=nf(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,ev(i)]}return t}var Q5,$Z=P(()=>{X5(),E0(),Q5=qZ});function LZ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var tv,Y5=P(()=>{tv=LZ});function ZZ(e){var t=Q5(e);return t.length==1&&t[0][2]?tv(t[0][0],t[0][1]):function(n){return n===e||G5(n,e,t)}}var J5,GZ=P(()=>{KZ(),$Z(),Y5(),J5=ZZ});function XZ(e,t){return e!=null&&t in Object(e)}var eP,QZ=P(()=>{eP=XZ});function YZ(e,t,n){t=cf(t,e);for(var o=-1,i=t.length,l=!1;++o<i;){var s=El(t[o]);if(!(l=e!=null&&n(e,s)))break;e=e[s]}return l||++o!=i?l:(i=e==null?0:e.length,!!i&&Xd(i)&&iu(s,i)&&(Bn(e)||Yd(e)))}var tP,JZ=P(()=>{T0(),h0(),mr(),Ld(),c0(),pu(),tP=YZ});function eG(e,t){return e!=null&&tP(e,t,eP)}var nP,tG=P(()=>{QZ(),JZ(),nP=eG});function nG(e,t){return rf(e)&&ev(t)?tv(El(e),t):function(n){var o=ii(n,e);return o===void 0&&o===t?nP(n,e):J0(t,o,rP|oP)}}var rP,oP,aP,rG=P(()=>{$5(),hu(),tG(),_0(),X5(),Y5(),pu(),rP=1,oP=2,aP=nG});function oG(e){return function(t){return t==null?void 0:t[e]}}var iP,aG=P(()=>{iP=oG});function iG(e){return function(t){return df(t,e)}}var lP,lG=P(()=>{z0(),lP=iG});function sG(e){return rf(e)?iP(El(e)):lP(e)}var sP,uG=P(()=>{aG(),lG(),_0(),pu(),sP=sG});function cG(e){return typeof e=="function"?e:e==null?ou:typeof e=="object"?Bn(e)?aP(e[0],e[1]):J5(e):sP(e)}var Pl,vu=P(()=>{GZ(),rG(),Kd(),mr(),uG(),Pl=cG});function dG(e,t,n,o){for(var i=-1,l=e==null?0:e.length;++i<l;){var s=e[i];t(o,s,n(s),e)}return o}var uP,fG=P(()=>{uP=dG});function pG(e){return function(t,n,o){for(var i=-1,l=Object(t),s=o(t),u=s.length;u--;){var d=s[e?u:++i];if(n(l[d],d,l)===!1)break}return t}}var cP,hG=P(()=>{cP=pG}),dP,fP,mG=P(()=>{hG(),dP=cP(),fP=dP});function gG(e,t){return e&&fP(e,t,nf)}var nv,pP=P(()=>{mG(),E0(),nv=gG});function vG(e,t){return function(n,o){if(n==null)return n;if(!su(n))return e(n,o);for(var i=n.length,l=t?i:-1,s=Object(n);(t?l--:++l<i)&&o(s[l],l,s)!==!1;);return n}}var hP,yG=P(()=>{Qd(),hP=vG}),mP,rv,gP=P(()=>{pP(),yG(),mP=hP(nv),rv=mP});function bG(e,t,n,o){return rv(e,function(i,l,s){t(o,i,n(i),s)}),o}var vP,kG=P(()=>{gP(),vP=bG});function wG(e,t){return function(n,o){var i=Bn(n)?uP:vP,l=t?t():{};return i(n,e,Pl(o,2),l)}}var yP,xG=P(()=>{fG(),kG(),vu(),mr(),yP=wG}),bP,bf,SG=P(()=>{pr(),bP=function(){return Gn.Date.now()},bf=bP});function EG(e,t,n){var o,i,l,s,u,d,f=0,m=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(kP);t=wo(t)||0,Kr(n)&&(m=!!n.leading,v="maxWait"in n,l=v?wP(wo(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g);function h(z){var V=o,W=i;return o=i=void 0,f=z,s=e.apply(W,V),s}function b(z){return f=z,u=setTimeout(x,t),m?h(z):s}function y(z){var V=z-d,W=z-f,B=t-V;return v?xP(B,l-W):B}function k(z){var V=z-d,W=z-f;return d===void 0||V>=t||V<0||v&&W>=l}function x(){var z=bf();if(k(z))return S(z);u=setTimeout(x,y(z))}function S(z){return u=void 0,g&&o?h(z):(o=i=void 0,s)}function _(){u!==void 0&&clearTimeout(u),f=0,o=d=i=u=void 0}function O(){return u===void 0?s:S(bf())}function j(){var z=bf(),V=k(z);if(o=arguments,i=this,d=z,V){if(u===void 0)return b(d);if(v)return clearTimeout(u),u=setTimeout(x,t),h(d)}return u===void 0&&(u=setTimeout(x,t)),s}return j.cancel=_,j.flush=O,j}var kP,wP,xP,ov,SP=P(()=>{oi(),SG(),nu(),kP="Expected a function",wP=Math.max,xP=Math.min,ov=EG});function _G(e,t,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}var EP,PG=P(()=>{EP=_G});function CG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var si,kf=P(()=>{si=CG});function IG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=n==null?0:ru(n);return i<0&&(i=_P(o+i,0)),$d(e,Pl(t,3),i)}var _P,av,jG=P(()=>{a0(),vu(),Hd(),_P=Math.max,av=IG});function OG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=o-1;return n!==void 0&&(i=ru(n),i=n<0?PP(o+i,0):CP(i,o-1)),$d(e,Pl(t,3),i,!0)}var PP,CP,IP,TG=P(()=>{a0(),vu(),Hd(),PP=Math.max,CP=Math.min,IP=OG});function zG(e,t){var n=-1,o=su(e)?Array(e.length):[];return rv(e,function(i,l,s){o[++n]=t(i,l,s)}),o}var jP,DG=P(()=>{gP(),Qd(),jP=zG});function AG(e,t,n){return e>=TP(t,n)&&e<OP(t,n)}var OP,TP,zP,BG=P(()=>{OP=Math.max,TP=Math.min,zP=AG});function NG(e,t,n){return t=Vd(t),n===void 0?(n=t,t=0):n=Vd(n),e=wo(e),zP(e,t,n)}var iv,RG=P(()=>{BG(),eS(),nu(),iv=NG});function FG(e){return typeof e=="number"&&e==ru(e)}var lv,DP=P(()=>{Hd(),lv=FG}),AP,yu,MG=P(()=>{l0(),xG(),AP=yP(function(e,t,n){Zd(e,n,t)}),yu=AP});function UG(e,t){var n={};return t=Pl(t,3),nv(e,function(o,i,l){Zd(n,i,t(o,i,l))}),n}var ui,BP=P(()=>{l0(),pP(),vu(),ui=UG});function VG(e,t,n,o){if(!Kr(e))return e;t=cf(t,e);for(var i=-1,l=t.length,s=l-1,u=e;u!=null&&++i<l;){var d=El(t[i]),f=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var m=u[d];f=o?o(m,d,u):void 0,f===void 0&&(f=Kr(m)?m:iu(t[i+1])?[]:{})}KS(u,d,f),u=u[d]}return e}var NP,HG=P(()=>{I$(),T0(),Ld(),oi(),pu(),NP=VG});function KG(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var RP,WG=P(()=>{RP=KG});function qG(e,t){if(e!==t){var n=e!==void 0,o=e===null,i=e===e,l=ri(e),s=t!==void 0,u=t===null,d=t===t,f=ri(t);if(!u&&!f&&!l&&e>t||l&&s&&d&&!u&&!f||o&&s&&d||!n&&d||!i)return 1;if(!o&&!l&&!f&&e<t||f&&n&&i&&!o&&!l||u&&n&&i||!s&&i||!d)return-1}return 0}var FP,$G=P(()=>{tu(),FP=qG});function LG(e,t,n){for(var o=-1,i=e.criteria,l=t.criteria,s=i.length,u=n.length;++o<s;){var d=FP(i[o],l[o]);if(d){if(o>=u)return d;var f=n[o];return d*(f=="desc"?-1:1)}}return e.index-t.index}var MP,ZG=P(()=>{$G(),MP=LG});function GG(e,t,n){t.length?t=vl(t,function(l){return Bn(l)?function(s){return df(s,l.length===1?l[0]:l)}:l}):t=[ou];var o=-1;t=vl(t,ef(Pl));var i=jP(e,function(l,s,u){var d=vl(t,function(f){return f(l)});return{criteria:d,index:++o,value:l}});return RP(i,function(l,s){return MP(l,s,n)})}var UP,XG=P(()=>{Yg(),z0(),vu(),DG(),WG(),y0(),ZG(),Kd(),mr(),UP=GG});function QG(e,t,n,o){for(var i=n-1,l=e.length;++i<l;)if(o(e[i],t))return i;return-1}var VP,YG=P(()=>{VP=QG});function JG(e,t,n,o){var i=o?VP:i0,l=-1,s=t.length,u=e;for(e===t&&(t=SS(t)),n&&(u=vl(e,ef(n)));++l<s;)for(var d=0,f=t[l],m=n?n(f):f;(d=i(u,m,d,o))>-1;)u!==e&&sv.call(u,d,1),sv.call(e,d,1);return e}var HP,sv,KP,eX=P(()=>{Yg(),RS(),YG(),y0(),u$(),HP=Array.prototype,sv=HP.splice,KP=JG});function tX(e,t){return e&&e.length&&t&&t.length?KP(e,t):e}var WP,nX=P(()=>{eX(),WP=tX}),qP,$P,rX=P(()=>{qS(),nX(),qP=u0(WP),$P=qP}),LP,ZP,oX=P(()=>{YL(),LP=V_("round"),ZP=LP});function aX(e,t,n){return e==null?e:NP(e,t,n)}var Cl,uv=P(()=>{HG(),Cl=aX}),GP,XP,iX=P(()=>{ZL(),XG(),qS(),B$(),GP=u0(function(e,t){if(e==null)return[];var n=t.length;return n>1&&d0(e,t[0],t[1])?t=[]:n>2&&d0(t[0],t[1],t[2])&&(t=[t[0]]),UP(e,O_(t,1),[])}),XP=GP}),QP,YP,JP,lX=P(()=>{i5(),l$(),Z0(),QP=1/0,YP=li&&1/vf(new li([,-0]))[1]==QP?function(e){return new li(e)}:xS,JP=YP});function sX(e,t,n){var o=-1,i=FS,l=e.length,s=!0,u=[],d=u;if(n)s=!1,i=EP;else if(l>=e3){var f=t?null:JP(e);if(f)return vf(f);s=!1,i=$0,d=new q0}else d=t?[]:u;e:for(;++o<l;){var m=e[o],v=t?t(m):m;if(m=n||m!==0?m:0,s&&v===v){for(var g=d.length;g--;)if(d[g]===v)continue e;t&&d.push(v),u.push(m)}else i(d,v,n)||(d!==u&&d.push(v),u.push(m))}return u}var e3,t3,uX=P(()=>{v5(),S$(),PG(),b5(),lX(),Z0(),e3=200,t3=sX});function cX(e){return e&&e.length?t3(e):[]}var la,dX=P(()=>{uX(),la=cX}),Rt=P(()=>{pf(),SP(),jG(),RG(),DP(),F_(),kf(),BP(),y_(),oX(),dX()}),fX=He((e,t)=>{var n;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ln):o=>(n||(n=Promise.resolve())).then(o).catch(i=>setTimeout(()=>{throw i},0))}),pX=He(e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function h(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function x(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}x.prototype.isReactComponent={},x.prototype.setState=function(A,N){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,N,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=x.prototype;function _(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}var O=_.prototype=new S;O.constructor=_,y(O,x.prototype),O.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,V={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function B(A,N,oe){var le,ue={},te=null,Oe=null;if(N!=null)for(le in N.ref!==void 0&&(Oe=N.ref),N.key!==void 0&&(te=""+N.key),N)z.call(N,le)&&!W.hasOwnProperty(le)&&(ue[le]=N[le]);var me=arguments.length-2;if(me===1)ue.children=oe;else if(1<me){for(var Ie=Array(me),Ae=0;Ae<me;Ae++)Ie[Ae]=arguments[Ae+2];ue.children=Ie}if(A&&A.defaultProps)for(le in me=A.defaultProps,me)ue[le]===void 0&&(ue[le]=me[le]);return{$$typeof:t,type:A,key:te,ref:Oe,props:ue,_owner:V.current}}function Z(A,N){return{$$typeof:t,type:A.type,key:N,ref:A.ref,props:A.props,_owner:A._owner}}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function D(A){var N={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(oe){return N[oe]})}var G=/\/+/g;function C(A,N){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):N.toString(36)}function Y(A,N,oe,le,ue){var te=typeof A;(te==="undefined"||te==="boolean")&&(A=null);var Oe=!1;if(A===null)Oe=!0;else switch(te){case"string":case"number":Oe=!0;break;case"object":switch(A.$$typeof){case t:case n:Oe=!0}}if(Oe)return Oe=A,ue=ue(Oe),A=le===""?"."+C(Oe,0):le,j(ue)?(oe="",A!=null&&(oe=A.replace(G,"$&/")+"/"),Y(ue,N,oe,"",function(Ae){return Ae})):ue!=null&&(re(ue)&&(ue=Z(ue,oe+(!ue.key||Oe&&Oe.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+A)),N.push(ue)),1;if(Oe=0,le=le===""?".":le+":",j(A))for(var me=0;me<A.length;me++){te=A[me];var Ie=le+C(te,me);Oe+=Y(te,N,oe,Ie,ue)}else if(Ie=h(A),typeof Ie=="function")for(A=Ie.call(A),me=0;!(te=A.next()).done;)te=te.value,Ie=le+C(te,me++),Oe+=Y(te,N,oe,Ie,ue);else if(te==="object")throw N=String(A),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xe(A,N,oe){if(A==null)return A;var le=[],ue=0;return Y(A,le,"","",function(te){return N.call(oe,te,ue++)}),le}function q(A){if(A._status===-1){var N=A._result;N=N(),N.then(function(oe){(A._status===0||A._status===-1)&&(A._status=1,A._result=oe)},function(oe){(A._status===0||A._status===-1)&&(A._status=2,A._result=oe)}),A._status===-1&&(A._status=0,A._result=N)}if(A._status===1)return A._result.default;throw A._result}var K={current:null},ee={transition:null},ge={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:ee,ReactCurrentOwner:V};e.Children={map:xe,forEach:function(A,N,oe){xe(A,function(){N.apply(this,arguments)},oe)},count:function(A){var N=0;return xe(A,function(){N++}),N},toArray:function(A){return xe(A,function(N){return N})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},e.Component=x,e.Fragment=o,e.Profiler=l,e.PureComponent=_,e.StrictMode=i,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,e.cloneElement=function(A,N,oe){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le=y({},A.props),ue=A.key,te=A.ref,Oe=A._owner;if(N!=null){if(N.ref!==void 0&&(te=N.ref,Oe=V.current),N.key!==void 0&&(ue=""+N.key),A.type&&A.type.defaultProps)var me=A.type.defaultProps;for(Ie in N)z.call(N,Ie)&&!W.hasOwnProperty(Ie)&&(le[Ie]=N[Ie]===void 0&&me!==void 0?me[Ie]:N[Ie])}var Ie=arguments.length-2;if(Ie===1)le.children=oe;else if(1<Ie){me=Array(Ie);for(var Ae=0;Ae<Ie;Ae++)me[Ae]=arguments[Ae+2];le.children=me}return{$$typeof:t,type:A.type,key:ue,ref:te,props:le,_owner:Oe}},e.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},e.createElement=B,e.createFactory=function(A){var N=B.bind(null,A);return N.type=A,N},e.createRef=function(){return{current:null}},e.forwardRef=function(A){return{$$typeof:d,render:A}},e.isValidElement=re,e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:q}},e.memo=function(A,N){return{$$typeof:m,type:A,compare:N===void 0?null:N}},e.startTransition=function(A){var N=ee.transition;ee.transition={};try{A()}finally{ee.transition=N}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(A,N){return K.current.useCallback(A,N)},e.useContext=function(A){return K.current.useContext(A)},e.useDebugValue=function(){},e.useDeferredValue=function(A){return K.current.useDeferredValue(A)},e.useEffect=function(A,N){return K.current.useEffect(A,N)},e.useId=function(){return K.current.useId()},e.useImperativeHandle=function(A,N,oe){return K.current.useImperativeHandle(A,N,oe)},e.useInsertionEffect=function(A,N){return K.current.useInsertionEffect(A,N)},e.useLayoutEffect=function(A,N){return K.current.useLayoutEffect(A,N)},e.useMemo=function(A,N){return K.current.useMemo(A,N)},e.useReducer=function(A,N,oe){return K.current.useReducer(A,N,oe)},e.useRef=function(A){return K.current.useRef(A)},e.useState=function(A){return K.current.useState(A)},e.useSyncExternalStore=function(A,N,oe){return K.current.useSyncExternalStore(A,N,oe)},e.useTransition=function(){return K.current.useTransition()},e.version="18.2.0"}),X=He((e,t)=>{t.exports=pX()}),hX=He(e=>{function t(K,ee){var ge=K.length;K.push(ee);e:for(;0<ge;){var A=ge-1>>>1,N=K[A];if(0<i(N,ee))K[A]=ee,K[ge]=N,ge=A;else break e}}function n(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ee=K[0],ge=K.pop();if(ge!==ee){K[0]=ge;e:for(var A=0,N=K.length,oe=N>>>1;A<oe;){var le=2*(A+1)-1,ue=K[le],te=le+1,Oe=K[te];if(0>i(ue,ge))te<N&&0>i(Oe,ue)?(K[A]=Oe,K[te]=ge,A=te):(K[A]=ue,K[le]=ge,A=le);else if(te<N&&0>i(Oe,ge))K[A]=Oe,K[te]=ge,A=te;else break e}}return ee}function i(K,ee){var ge=K.sortIndex-ee.sortIndex;return ge!==0?ge:K.id-ee.id}typeof performance=="object"&&typeof performance.now=="function"?(l=performance,e.unstable_now=function(){return l.now()}):(s=Date,u=s.now(),e.unstable_now=function(){return s.now()-u});var l,s,u,d=[],f=[],m=1,v=null,g=3,h=!1,b=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ee=n(f);ee!==null;){if(ee.callback===null)o(f);else if(ee.startTime<=K)o(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(f)}}function O(K){if(y=!1,_(K),!b)if(n(d)!==null)b=!0,xe(j);else{var ee=n(f);ee!==null&&q(O,ee.startTime-K)}}function j(K,ee){b=!1,y&&(y=!1,x(W),W=-1),h=!0;var ge=g;try{for(_(ee),v=n(d);v!==null&&(!(v.expirationTime>ee)||K&&!re());){var A=v.callback;if(typeof A=="function"){v.callback=null,g=v.priorityLevel;var N=A(v.expirationTime<=ee);ee=e.unstable_now(),typeof N=="function"?v.callback=N:v===n(d)&&o(d),_(ee)}else o(d);v=n(d)}if(v!==null)var oe=!0;else{var le=n(f);le!==null&&q(O,le.startTime-ee),oe=!1}return oe}finally{v=null,g=ge,h=!1}}var z=!1,V=null,W=-1,B=5,Z=-1;function re(){return!(e.unstable_now()-Z<B)}function D(){if(V!==null){var K=e.unstable_now();Z=K;var ee=!0;try{ee=V(!0,K)}finally{ee?G():(z=!1,V=null)}}else z=!1}var G;typeof S=="function"?G=function(){S(D)}:typeof MessageChannel<"u"?(C=new MessageChannel,Y=C.port2,C.port1.onmessage=D,G=function(){Y.postMessage(null)}):G=function(){k(D,0)};var C,Y;function xe(K){V=K,z||(z=!0,G())}function q(K,ee){W=k(function(){K(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,xe(j))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ge=g;g=ee;try{return K()}finally{g=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=g;g=K;try{return ee()}finally{g=ge}},e.unstable_scheduleCallback=function(K,ee,ge){var A=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?A+ge:A):ge=A,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,K={id:m++,callback:ee,priorityLevel:K,startTime:ge,expirationTime:N,sortIndex:-1},ge>A?(K.sortIndex=ge,t(f,K),n(d)===null&&K===n(f)&&(y?(x(W),W=-1):y=!0,q(O,ge-A))):(K.sortIndex=N,t(d,K),b||h||(b=!0,xe(j))),K},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(K){var ee=g;return function(){var ge=g;g=ee;try{return K.apply(this,arguments)}finally{g=ge}}}}),mX=He((e,t)=>{t.exports=hX()}),gX=He(e=>{var t=X(),n=mX();function o(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function h(r){return f.call(g,r)?!0:f.call(v,r)?!1:m.test(r)?g[r]=!0:(v[r]=!0,!1)}function b(r,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function y(r,a,c,p){if(a===null||typeof a>"u"||b(r,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(r,a,c,p,w,E,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=E,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];x[a]=new k(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,a,c,p){var w=x.hasOwnProperty(a)?x[a]:null;(w!==null?w.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(y(a,c,w,p)&&(c=null),p||w===null?h(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):w.mustUseProperty?r[w.propertyName]=c===null?w.type===3?!1:"":c:(a=w.attributeName,p=w.attributeNamespace,c===null?r.removeAttribute(a):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?r.setAttributeNS(p,a,c):r.setAttribute(a,c))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),V=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var A=Object.assign,N;function oe(r){if(N===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||""}return`
`+N+r}var le=!1;function ue(r,a){if(!r||le)return"";le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(pe){var p=pe}Reflect.construct(r,[],a)}else{try{a.call()}catch(pe){p=pe}r.call(a.prototype)}else{try{throw Error()}catch(pe){p=pe}r()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var w=pe.stack.split(`
`),E=p.stack.split(`
`),T=w.length-1,H=E.length-1;1<=T&&0<=H&&w[T]!==E[H];)H--;for(;1<=T&&0<=H;T--,H--)if(w[T]!==E[H]){if(T!==1||H!==1)do if(T--,H--,0>H||w[T]!==E[H]){var Q=`
`+w[T].replace(" at new "," at ");return r.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",r.displayName)),Q}while(1<=T&&0<=H);break}}}finally{le=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?oe(r):""}function te(r){switch(r.tag){case 5:return oe(r.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case W:return"Fragment";case V:return"Portal";case Z:return"Profiler";case B:return"StrictMode";case C:return"Suspense";case Y:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case re:return(r._context.displayName||"Context")+".Provider";case G:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return a=r.displayName||null,a!==null?a:Oe(r.type)||"Memo";case q:a=r._payload,r=r._init;try{return Oe(r(a))}catch{}}return null}function me(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(r){var a=Ae(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),p=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,E=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return w.call(this)},set:function(T){p=""+T,E.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ve(r){r._valueTracker||(r._valueTracker=We(r))}function it(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return r&&(p=Ae(r)?r.checked?"true":"false":r.value),r=p,r!==c?(a.setValue(r),!0):!1}function I(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fe(r,a){var c=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ce(r,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function U(r,a){a=a.checked,a!=null&&O(r,"checked",a,!1)}function F(r,a){U(r,a);var c=Ie(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?ve(r,a.type,c):a.hasOwnProperty("defaultValue")&&ve(r,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function ne(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function ve(r,a,c){(a!=="number"||I(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var ke=Array.isArray;function ae(r,a,c,p){if(r=r.options,a){a={};for(var w=0;w<c.length;w++)a["$"+c[w]]=!0;for(c=0;c<r.length;c++)w=a.hasOwnProperty("$"+r[c].value),r[c].selected!==w&&(r[c].selected=w),w&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,w=0;w<r.length;w++){if(r[w].value===c){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}a!==null||r[w].disabled||(a=r[w])}a!==null&&(a.selected=!0)}}function Se(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(o(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ye(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(o(92));if(ke(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:Ie(c)}}function we(r,a){var c=Ie(a.value),p=Ie(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Ue(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function ot(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?ot(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nn,Na=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,w){MSApp.execUnsafeLocalFunction(function(){return r(a,c,p,w)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(nn=nn||document.createElement("div"),nn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=nn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function cn(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(r){Et.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Dr[a]=Dr[r]})});function el(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Dr.hasOwnProperty(r)&&Dr[r]?(""+a).trim():a+"px"}function Ps(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=el(c,a[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,w):r[c]=w}}var Ar=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cs(r,a){if(a){if(Ar[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(o(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(o(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(o(61))}if(a.style!=null&&typeof a.style!="object")throw Error(o(62))}}function Xc(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=null;function Yc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,or=null,Br=null;function zH(r){if(r=bd(r)){if(typeof Is!="function")throw Error(o(280));var a=r.stateNode;a&&(a=Qm(a),Is(r.stateNode,r.type,a))}}function DH(r){or?Br?Br.push(r):Br=[r]:or=r}function AH(){if(or){var r=or,a=Br;if(Br=or=null,zH(r),a)for(r=0;r<a.length;r++)zH(a[r])}}function BH(r,a){return r(a)}function NH(){}var Bw=!1;function RH(r,a,c){if(Bw)return r(a,c);Bw=!0;try{return BH(r,a,c)}finally{Bw=!1,(or!==null||Br!==null)&&(NH(),AH())}}function Jc(r,a){var c=r.stateNode;if(c===null)return null;var p=Qm(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(o(231,a,typeof c));return c}var Nw=!1;if(d)try{js={},Object.defineProperty(js,"passive",{get:function(){Nw=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Nw=!1}var js;function zae(r,a,c,p,w,E,T,H,Q){var pe=Array.prototype.slice.call(arguments,3);try{a.apply(c,pe)}catch(_e){this.onError(_e)}}var ed=!1,Pm=null,Cm=!1,Rw=null,Dae={onError:function(r){ed=!0,Pm=r}};function Aae(r,a,c,p,w,E,T,H,Q){ed=!1,Pm=null,zae.apply(Dae,arguments)}function Bae(r,a,c,p,w,E,T,H,Q){if(Aae.apply(this,arguments),ed){if(ed){var pe=Pm;ed=!1,Pm=null}else throw Error(o(198));Cm||(Cm=!0,Rw=pe)}}function tl(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function FH(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function MH(r){if(tl(r)!==r)throw Error(o(188))}function Nae(r){var a=r.alternate;if(!a){if(a=tl(r),a===null)throw Error(o(188));return a!==r?null:r}for(var c=r,p=a;;){var w=c.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===c)return MH(w),r;if(E===p)return MH(w),a;E=E.sibling}throw Error(o(188))}if(c.return!==p.return)c=w,p=E;else{for(var T=!1,H=w.child;H;){if(H===c){T=!0,c=w,p=E;break}if(H===p){T=!0,p=w,c=E;break}H=H.sibling}if(!T){for(H=E.child;H;){if(H===c){T=!0,c=E,p=w;break}if(H===p){T=!0,p=E,c=w;break}H=H.sibling}if(!T)throw Error(o(189))}}if(c.alternate!==p)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?r:a}function UH(r){return r=Nae(r),r!==null?VH(r):null}function VH(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=VH(r);if(a!==null)return a;r=r.sibling}return null}var HH=n.unstable_scheduleCallback,KH=n.unstable_cancelCallback,Rae=n.unstable_shouldYield,Fae=n.unstable_requestPaint,Tt=n.unstable_now,Mae=n.unstable_getCurrentPriorityLevel,Fw=n.unstable_ImmediatePriority,WH=n.unstable_UserBlockingPriority,Im=n.unstable_NormalPriority,Uae=n.unstable_LowPriority,qH=n.unstable_IdlePriority,jm=null,go=null;function Vae(r){if(go&&typeof go.onCommitFiberRoot=="function")try{go.onCommitFiberRoot(jm,r,void 0,(r.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Wae,Hae=Math.log,Kae=Math.LN2;function Wae(r){return r>>>=0,r===0?32:31-(Hae(r)/Kae|0)|0}var Om=64,Tm=4194304;function td(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function zm(r,a){var c=r.pendingLanes;if(c===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,T=c&268435455;if(T!==0){var H=T&~w;H!==0?p=td(H):(E&=T,E!==0&&(p=td(E)))}else T=c&~w,T!==0?p=td(T):E!==0&&(p=td(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&w)&&(w=p&-p,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=p;0<a;)c=31-Nr(a),w=1<<c,p|=r[c],a&=~w;return p}function qae(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $ae(r,a){for(var c=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var T=31-Nr(E),H=1<<T,Q=w[T];Q===-1?(!(H&c)||H&p)&&(w[T]=qae(H,a)):Q<=a&&(r.expiredLanes|=H),E&=~H}}function Mw(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $H(){var r=Om;return Om<<=1,!(Om&4194240)&&(Om=64),r}function Uw(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function nd(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Nr(a),r[a]=c}function Lae(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var w=31-Nr(c),E=1<<w;a[w]=0,p[w]=-1,r[w]=-1,c&=~E}}function Vw(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var p=31-Nr(c),w=1<<p;w&a|r[p]&a&&(r[p]|=a),c&=~w}}var ut=0;function LH(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ZH,Hw,GH,XH,QH,Kw=!1,Dm=[],Ra=null,Fa=null,Ma=null,rd=new Map,od=new Map,Ua=[],Zae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YH(r,a){switch(r){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":rd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":od.delete(a.pointerId)}}function ad(r,a,c,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},a!==null&&(a=bd(a),a!==null&&Hw(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),r)}function Gae(r,a,c,p,w){switch(a){case"focusin":return Ra=ad(Ra,r,a,c,p,w),!0;case"dragenter":return Fa=ad(Fa,r,a,c,p,w),!0;case"mouseover":return Ma=ad(Ma,r,a,c,p,w),!0;case"pointerover":var E=w.pointerId;return rd.set(E,ad(rd.get(E)||null,r,a,c,p,w)),!0;case"gotpointercapture":return E=w.pointerId,od.set(E,ad(od.get(E)||null,r,a,c,p,w)),!0}return!1}function JH(r){var a=nl(r.target);if(a!==null){var c=tl(a);if(c!==null){if(a=c.tag,a===13){if(a=FH(c),a!==null){r.blockedOn=a,QH(r.priority,function(){GH(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Am(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=qw(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Qc=p,c.target.dispatchEvent(p),Qc=null}else return a=bd(c),a!==null&&Hw(a),r.blockedOn=c,!1;a.shift()}return!0}function eK(r,a,c){Am(r)&&c.delete(a)}function Xae(){Kw=!1,Ra!==null&&Am(Ra)&&(Ra=null),Fa!==null&&Am(Fa)&&(Fa=null),Ma!==null&&Am(Ma)&&(Ma=null),rd.forEach(eK),od.forEach(eK)}function id(r,a){r.blockedOn===a&&(r.blockedOn=null,Kw||(Kw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Xae)))}function ld(r){function a(w){return id(w,r)}if(0<Dm.length){id(Dm[0],r);for(var c=1;c<Dm.length;c++){var p=Dm[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Ra!==null&&id(Ra,r),Fa!==null&&id(Fa,r),Ma!==null&&id(Ma,r),rd.forEach(a),od.forEach(a),c=0;c<Ua.length;c++)p=Ua[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Ua.length&&(c=Ua[0],c.blockedOn===null);)JH(c),c.blockedOn===null&&Ua.shift()}var Os=j.ReactCurrentBatchConfig,Bm=!0;function Qae(r,a,c,p){var w=ut,E=Os.transition;Os.transition=null;try{ut=1,Ww(r,a,c,p)}finally{ut=w,Os.transition=E}}function Yae(r,a,c,p){var w=ut,E=Os.transition;Os.transition=null;try{ut=4,Ww(r,a,c,p)}finally{ut=w,Os.transition=E}}function Ww(r,a,c,p){if(Bm){var w=qw(r,a,c,p);if(w===null)ix(r,a,p,Nm,c),YH(r,p);else if(Gae(w,r,a,c,p))p.stopPropagation();else if(YH(r,p),a&4&&-1<Zae.indexOf(r)){for(;w!==null;){var E=bd(w);if(E!==null&&ZH(E),E=qw(r,a,c,p),E===null&&ix(r,a,p,Nm,c),E===w)break;w=E}w!==null&&p.stopPropagation()}else ix(r,a,p,null,c)}}var Nm=null;function qw(r,a,c,p){if(Nm=null,r=Yc(p),r=nl(r),r!==null)if(a=tl(r),a===null)r=null;else if(c=a.tag,c===13){if(r=FH(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Nm=r,null}function tK(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mae()){case Fw:return 1;case WH:return 4;case Im:case Uae:return 16;case qH:return 536870912;default:return 16}default:return 16}}var Va=null,$w=null,Rm=null;function nK(){if(Rm)return Rm;var r,a=$w,c=a.length,p,w="value"in Va?Va.value:Va.textContent,E=w.length;for(r=0;r<c&&a[r]===w[r];r++);var T=c-r;for(p=1;p<=T&&a[c-p]===w[E-p];p++);return Rm=w.slice(r,1<p?1-p:void 0)}function Fm(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Mm(){return!0}function rK(){return!1}function Kn(r){function a(c,p,w,E,T){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(c=r[H],this[H]=c?c(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Mm:rK,this.isPropagationStopped=rK,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mm)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mm)},persist:function(){},isPersistent:Mm}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Kn(Ts),sd=A({},Ts,{view:0,detail:0}),Jae=Kn(sd),Zw,Gw,ud,Um=A({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qw,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ud&&(ud&&r.type==="mousemove"?(Zw=r.screenX-ud.screenX,Gw=r.screenY-ud.screenY):Gw=Zw=0,ud=r),Zw)},movementY:function(r){return"movementY"in r?r.movementY:Gw}}),oK=Kn(Um),eie=A({},Um,{dataTransfer:0}),tie=Kn(eie),nie=A({},sd,{relatedTarget:0}),Xw=Kn(nie),rie=A({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),oie=Kn(rie),aie=A({},Ts,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iie=Kn(aie),lie=A({},Ts,{data:0}),aK=Kn(lie),sie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function die(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=cie[r])?!!a[r]:!1}function Qw(){return die}var fie=A({},sd,{key:function(r){if(r.key){var a=sie[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Fm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uie[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qw,charCode:function(r){return r.type==="keypress"?Fm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Fm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),pie=Kn(fie),hie=A({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iK=Kn(hie),mie=A({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qw}),gie=Kn(mie),vie=A({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),yie=Kn(vie),bie=A({},Um,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kie=Kn(bie),wie=[9,13,27,32],Yw=d&&"CompositionEvent"in window,cd=null;d&&"documentMode"in document&&(cd=document.documentMode);var xie=d&&"TextEvent"in window&&!cd,lK=d&&(!Yw||cd&&8<cd&&11>=cd),sK=" ",uK=!1;function cK(r,a){switch(r){case"keyup":return wie.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dK(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zs=!1;function Sie(r,a){switch(r){case"compositionend":return dK(a);case"keypress":return a.which!==32?null:(uK=!0,sK);case"textInput":return r=a.data,r===sK&&uK?null:r;default:return null}}function Eie(r,a){if(zs)return r==="compositionend"||!Yw&&cK(r,a)?(r=nK(),Rm=$w=Va=null,zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return lK&&a.locale!=="ko"?null:a.data;default:return null}}var _ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fK(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!_ie[r.type]:a==="textarea"}function pK(r,a,c,p){DH(p),a=Zm(a,"onChange"),0<a.length&&(c=new Lw("onChange","change",null,c,p),r.push({event:c,listeners:a}))}var dd=null,fd=null;function Pie(r){zK(r,0)}function Vm(r){var a=Rs(r);if(it(a))return r}function Cie(r,a){if(r==="change")return a}var hK=!1;d&&(d?(Hm="oninput"in document,Hm||(ex=document.createElement("div"),ex.setAttribute("oninput","return;"),Hm=typeof ex.oninput=="function"),Jw=Hm):Jw=!1,hK=Jw&&(!document.documentMode||9<document.documentMode));var Jw,Hm,ex;function mK(){dd&&(dd.detachEvent("onpropertychange",gK),fd=dd=null)}function gK(r){if(r.propertyName==="value"&&Vm(fd)){var a=[];pK(a,fd,r,Yc(r)),RH(Pie,a)}}function Iie(r,a,c){r==="focusin"?(mK(),dd=a,fd=c,dd.attachEvent("onpropertychange",gK)):r==="focusout"&&mK()}function jie(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vm(fd)}function Oie(r,a){if(r==="click")return Vm(a)}function Tie(r,a){if(r==="input"||r==="change")return Vm(a)}function zie(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Rr=typeof Object.is=="function"?Object.is:zie;function pd(r,a){if(Rr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!f.call(a,w)||!Rr(r[w],a[w]))return!1}return!0}function vK(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function yK(r,a){var c=vK(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=a&&p>=a)return{node:c,offset:a-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vK(c)}}function bK(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?bK(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function kK(){for(var r=window,a=I();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=I(r.document)}return a}function tx(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Die(r){var a=kK(),c=r.focusedElem,p=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&bK(c.ownerDocument.documentElement,c)){if(p!==null&&tx(c)){if(a=p.start,r=p.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var w=c.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=yK(c,E);var T=yK(c,p);w&&T&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(a),r.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Aie=d&&"documentMode"in document&&11>=document.documentMode,Ds=null,nx=null,hd=null,rx=!1;function wK(r,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rx||Ds==null||Ds!==I(p)||(p=Ds,"selectionStart"in p&&tx(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hd&&pd(hd,p)||(hd=p,p=Zm(nx,"onSelect"),0<p.length&&(a=new Lw("onSelect","select",null,a,c),r.push({event:a,listeners:p}),a.target=Ds)))}function Km(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var As={animationend:Km("Animation","AnimationEnd"),animationiteration:Km("Animation","AnimationIteration"),animationstart:Km("Animation","AnimationStart"),transitionend:Km("Transition","TransitionEnd")},ox={},xK={};d&&(xK=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Wm(r){if(ox[r])return ox[r];if(!As[r])return r;var a=As[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in xK)return ox[r]=a[c];return r}var SK=Wm("animationend"),EK=Wm("animationiteration"),_K=Wm("animationstart"),PK=Wm("transitionend"),CK=new Map,IK="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(r,a){CK.set(r,a),s(a,[r])}for($m=0;$m<IK.length;$m++)qm=IK[$m],jK=qm.toLowerCase(),OK=qm[0].toUpperCase()+qm.slice(1),Ha(jK,"on"+OK);var qm,jK,OK,$m;Ha(SK,"onAnimationEnd"),Ha(EK,"onAnimationIteration"),Ha(_K,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(PK,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bie=new Set("cancel close invalid load scroll toggle".split(" ").concat(md));function TK(r,a,c){var p=r.type||"unknown-event";r.currentTarget=c,Bae(p,a,void 0,r),r.currentTarget=null}function zK(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],w=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var T=p.length-1;0<=T;T--){var H=p[T],Q=H.instance,pe=H.currentTarget;if(H=H.listener,Q!==E&&w.isPropagationStopped())break e;TK(w,H,pe),E=Q}else for(T=0;T<p.length;T++){if(H=p[T],Q=H.instance,pe=H.currentTarget,H=H.listener,Q!==E&&w.isPropagationStopped())break e;TK(w,H,pe),E=Q}}}if(Cm)throw r=Rw,Cm=!1,Rw=null,r}function yt(r,a){var c=a[fx];c===void 0&&(c=a[fx]=new Set);var p=r+"__bubble";c.has(p)||(DK(a,r,2,!1),c.add(p))}function ax(r,a,c){var p=0;a&&(p|=4),DK(c,r,p,a)}var Lm="_reactListening"+Math.random().toString(36).slice(2);function gd(r){if(!r[Lm]){r[Lm]=!0,i.forEach(function(c){c!=="selectionchange"&&(Bie.has(c)||ax(c,!1,r),ax(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Lm]||(a[Lm]=!0,ax("selectionchange",!1,a))}}function DK(r,a,c,p){switch(tK(a)){case 1:var w=Qae;break;case 4:w=Yae;break;default:w=Ww}c=w.bind(null,a,c,r),w=void 0,!Nw||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(a,c,{capture:!0,passive:w}):r.addEventListener(a,c,!0):w!==void 0?r.addEventListener(a,c,{passive:w}):r.addEventListener(a,c,!1)}function ix(r,a,c,p,w){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var H=p.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(T===4)for(T=p.return;T!==null;){var Q=T.tag;if((Q===3||Q===4)&&(Q=T.stateNode.containerInfo,Q===w||Q.nodeType===8&&Q.parentNode===w))return;T=T.return}for(;H!==null;){if(T=nl(H),T===null)return;if(Q=T.tag,Q===5||Q===6){p=E=T;continue e}H=H.parentNode}}p=p.return}RH(function(){var pe=E,_e=Yc(c),Pe=[];e:{var Ee=CK.get(r);if(Ee!==void 0){var Te=Lw,Be=r;switch(r){case"keypress":if(Fm(c)===0)break e;case"keydown":case"keyup":Te=pie;break;case"focusin":Be="focus",Te=Xw;break;case"focusout":Be="blur",Te=Xw;break;case"beforeblur":case"afterblur":Te=Xw;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=oK;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=tie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=gie;break;case SK:case EK:case _K:Te=oie;break;case PK:Te=yie;break;case"scroll":Te=Jae;break;case"wheel":Te=kie;break;case"copy":case"cut":case"paste":Te=iie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=iK}var Re=(a&4)!==0,zt=!Re&&r==="scroll",ie=Re?Ee!==null?Ee+"Capture":null:Ee;Re=[];for(var J=pe,se;J!==null;){se=J;var Ce=se.stateNode;if(se.tag===5&&Ce!==null&&(se=Ce,ie!==null&&(Ce=Jc(J,ie),Ce!=null&&Re.push(vd(J,Ce,se)))),zt)break;J=J.return}0<Re.length&&(Ee=new Te(Ee,Be,null,c,_e),Pe.push({event:Ee,listeners:Re}))}}if(!(a&7)){e:{if(Ee=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Ee&&c!==Qc&&(Be=c.relatedTarget||c.fromElement)&&(nl(Be)||Be[$o]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Be=c.relatedTarget||c.toElement,Te=pe,Be=Be?nl(Be):null,Be!==null&&(zt=tl(Be),Be!==zt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Te=null,Be=pe),Te!==Be)){if(Re=oK,Ce="onMouseLeave",ie="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Re=iK,Ce="onPointerLeave",ie="onPointerEnter",J="pointer"),zt=Te==null?Ee:Rs(Te),se=Be==null?Ee:Rs(Be),Ee=new Re(Ce,J+"leave",Te,c,_e),Ee.target=zt,Ee.relatedTarget=se,Ce=null,nl(_e)===pe&&(Re=new Re(ie,J+"enter",Be,c,_e),Re.target=se,Re.relatedTarget=zt,Ce=Re),zt=Ce,Te&&Be)t:{for(Re=Te,ie=Be,J=0,se=Re;se;se=Bs(se))J++;for(se=0,Ce=ie;Ce;Ce=Bs(Ce))se++;for(;0<J-se;)Re=Bs(Re),J--;for(;0<se-J;)ie=Bs(ie),se--;for(;J--;){if(Re===ie||ie!==null&&Re===ie.alternate)break t;Re=Bs(Re),ie=Bs(ie)}Re=null}else Re=null;Te!==null&&AK(Pe,Ee,Te,Re,!1),Be!==null&&zt!==null&&AK(Pe,zt,Be,Re,!0)}}e:{if(Ee=pe?Rs(pe):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Me=Cie;else if(fK(Ee))if(hK)Me=Tie;else{Me=jie;var qe=Iie}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Me=Oie);if(Me&&(Me=Me(r,pe))){pK(Pe,Me,c,_e);break e}qe&&qe(r,Ee,pe),r==="focusout"&&(qe=Ee._wrapperState)&&qe.controlled&&Ee.type==="number"&&ve(Ee,"number",Ee.value)}switch(qe=pe?Rs(pe):window,r){case"focusin":(fK(qe)||qe.contentEditable==="true")&&(Ds=qe,nx=pe,hd=null);break;case"focusout":hd=nx=Ds=null;break;case"mousedown":rx=!0;break;case"contextmenu":case"mouseup":case"dragend":rx=!1,wK(Pe,c,_e);break;case"selectionchange":if(Aie)break;case"keydown":case"keyup":wK(Pe,c,_e)}var $e;if(Yw)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else zs?cK(r,c)&&(Ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(lK&&c.locale!=="ko"&&(zs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&zs&&($e=nK()):(Va=_e,$w="value"in Va?Va.value:Va.textContent,zs=!0)),qe=Zm(pe,Ge),0<qe.length&&(Ge=new aK(Ge,r,null,c,_e),Pe.push({event:Ge,listeners:qe}),$e?Ge.data=$e:($e=dK(c),$e!==null&&(Ge.data=$e)))),($e=xie?Sie(r,c):Eie(r,c))&&(pe=Zm(pe,"onBeforeInput"),0<pe.length&&(_e=new aK("onBeforeInput","beforeinput",null,c,_e),Pe.push({event:_e,listeners:pe}),_e.data=$e))}zK(Pe,a)})}function vd(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Zm(r,a){for(var c=a+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Jc(r,c),E!=null&&p.unshift(vd(r,E,w)),E=Jc(r,a),E!=null&&p.push(vd(r,E,w))),r=r.return}return p}function Bs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function AK(r,a,c,p,w){for(var E=a._reactName,T=[];c!==null&&c!==p;){var H=c,Q=H.alternate,pe=H.stateNode;if(Q!==null&&Q===p)break;H.tag===5&&pe!==null&&(H=pe,w?(Q=Jc(c,E),Q!=null&&T.unshift(vd(c,Q,H))):w||(Q=Jc(c,E),Q!=null&&T.push(vd(c,Q,H)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var Nie=/\r\n?/g,Rie=/\u0000|\uFFFD/g;function BK(r){return(typeof r=="string"?r:""+r).replace(Nie,`
`).replace(Rie,"")}function Gm(r,a,c){if(a=BK(a),BK(r)!==a&&c)throw Error(o(425))}function Xm(){}var lx=null,sx=null;function ux(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cx=typeof setTimeout=="function"?setTimeout:void 0,Fie=typeof clearTimeout=="function"?clearTimeout:void 0,NK=typeof Promise=="function"?Promise:void 0,Mie=typeof queueMicrotask=="function"?queueMicrotask:typeof NK<"u"?function(r){return NK.resolve(null).then(r).catch(Uie)}:cx;function Uie(r){setTimeout(function(){throw r})}function dx(r,a){var c=a,p=0;do{var w=c.nextSibling;if(r.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){r.removeChild(w),ld(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);ld(a)}function Ka(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function RK(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),vo="__reactFiber$"+Ns,yd="__reactProps$"+Ns,$o="__reactContainer$"+Ns,fx="__reactEvents$"+Ns,Vie="__reactListeners$"+Ns,Hie="__reactHandles$"+Ns;function nl(r){var a=r[vo];if(a)return a;for(var c=r.parentNode;c;){if(a=c[$o]||c[vo]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=RK(r);r!==null;){if(c=r[vo])return c;r=RK(r)}return a}r=c,c=r.parentNode}return null}function bd(r){return r=r[vo]||r[$o],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Rs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(o(33))}function Qm(r){return r[yd]||null}var px=[],Fs=-1;function Wa(r){return{current:r}}function bt(r){0>Fs||(r.current=px[Fs],px[Fs]=null,Fs--)}function mt(r,a){Fs++,px[Fs]=r.current,r.current=a}var qa={},dn=Wa(qa),jn=Wa(!1),rl=qa;function Ms(r,a){var c=r.type.contextTypes;if(!c)return qa;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in c)w[E]=a[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=w),w}function On(r){return r=r.childContextTypes,r!=null}function Ym(){bt(jn),bt(dn)}function FK(r,a,c){if(dn.current!==qa)throw Error(o(168));mt(dn,a),mt(jn,c)}function MK(r,a,c){var p=r.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in a))throw Error(o(108,me(r)||"Unknown",w));return A({},c,p)}function Jm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||qa,rl=dn.current,mt(dn,r),mt(jn,jn.current),!0}function UK(r,a,c){var p=r.stateNode;if(!p)throw Error(o(169));c?(r=MK(r,a,rl),p.__reactInternalMemoizedMergedChildContext=r,bt(jn),bt(dn),mt(dn,r)):bt(jn),mt(jn,c)}var Lo=null,eg=!1,hx=!1;function VK(r){Lo===null?Lo=[r]:Lo.push(r)}function Kie(r){eg=!0,VK(r)}function $a(){if(!hx&&Lo!==null){hx=!0;var r=0,a=ut;try{var c=Lo;for(ut=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}Lo=null,eg=!1}catch(w){throw Lo!==null&&(Lo=Lo.slice(r+1)),HH(Fw,$a),w}finally{ut=a,hx=!1}}return null}var Us=[],Vs=0,tg=null,ng=0,ar=[],ir=0,ol=null,Zo=1,Go="";function al(r,a){Us[Vs++]=ng,Us[Vs++]=tg,tg=r,ng=a}function HK(r,a,c){ar[ir++]=Zo,ar[ir++]=Go,ar[ir++]=ol,ol=r;var p=Zo;r=Go;var w=32-Nr(p)-1;p&=~(1<<w),c+=1;var E=32-Nr(a)+w;if(30<E){var T=w-w%5;E=(p&(1<<T)-1).toString(32),p>>=T,w-=T,Zo=1<<32-Nr(a)+w|c<<w|p,Go=E+r}else Zo=1<<E|c<<w|p,Go=r}function mx(r){r.return!==null&&(al(r,1),HK(r,1,0))}function gx(r){for(;r===tg;)tg=Us[--Vs],Us[Vs]=null,ng=Us[--Vs],Us[Vs]=null;for(;r===ol;)ol=ar[--ir],ar[ir]=null,Go=ar[--ir],ar[ir]=null,Zo=ar[--ir],ar[ir]=null}var Wn=null,qn=null,wt=!1,Fr=null;function KK(r,a){var c=cr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function WK(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Wn=r,qn=Ka(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Wn=r,qn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ol!==null?{id:Zo,overflow:Go}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=cr(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Wn=r,qn=null,!0):!1;default:return!1}}function vx(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yx(r){if(wt){var a=qn;if(a){var c=a;if(!WK(r,a)){if(vx(r))throw Error(o(418));a=Ka(c.nextSibling);var p=Wn;a&&WK(r,a)?KK(p,c):(r.flags=r.flags&-4097|2,wt=!1,Wn=r)}}else{if(vx(r))throw Error(o(418));r.flags=r.flags&-4097|2,wt=!1,Wn=r}}}function qK(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wn=r}function rg(r){if(r!==Wn)return!1;if(!wt)return qK(r),wt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!ux(r.type,r.memoizedProps)),a&&(a=qn)){if(vx(r))throw $K(),Error(o(418));for(;a;)KK(r,a),a=Ka(a.nextSibling)}if(qK(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){qn=Ka(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}qn=null}}else qn=Wn?Ka(r.stateNode.nextSibling):null;return!0}function $K(){for(var r=qn;r;)r=Ka(r.nextSibling)}function Hs(){qn=Wn=null,wt=!1}function bx(r){Fr===null?Fr=[r]:Fr.push(r)}var Wie=j.ReactCurrentBatchConfig;function Mr(r,a){if(r&&r.defaultProps){a=A({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}var og=Wa(null),ag=null,Ks=null,kx=null;function wx(){kx=Ks=ag=null}function xx(r){var a=og.current;bt(og),r._currentValue=a}function Sx(r,a,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===c)break;r=r.return}}function Ws(r,a){ag=r,kx=Ks=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(Tn=!0),r.firstContext=null)}function lr(r){var a=r._currentValue;if(kx!==r)if(r={context:r,memoizedValue:a,next:null},Ks===null){if(ag===null)throw Error(o(308));Ks=r,ag.dependencies={lanes:0,firstContext:r}}else Ks=Ks.next=r;return a}var il=null;function Ex(r){il===null?il=[r]:il.push(r)}function LK(r,a,c,p){var w=a.interleaved;return w===null?(c.next=c,Ex(a)):(c.next=w.next,w.next=c),a.interleaved=c,Xo(r,p)}function Xo(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var La=!1;function _x(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZK(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qo(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Za(r,a,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,at&2){var w=p.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),p.pending=a,Xo(r,c)}return w=p.interleaved,w===null?(a.next=a,Ex(p)):(a.next=w.next,w.next=a),p.interleaved=a,Xo(r,c)}function ig(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Vw(r,c)}}function GK(r,a){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?w=E=T:E=E.next=T,c=c.next}while(c!==null);E===null?w=E=a:E=E.next=a}else w=E=a;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function lg(r,a,c,p){var w=r.updateQueue;La=!1;var E=w.firstBaseUpdate,T=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var Q=H,pe=Q.next;Q.next=null,T===null?E=pe:T.next=pe,T=Q;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,H=_e.lastBaseUpdate,H!==T&&(H===null?_e.firstBaseUpdate=pe:H.next=pe,_e.lastBaseUpdate=Q))}if(E!==null){var Pe=w.baseState;T=0,_e=pe=Q=null,H=E;do{var Ee=H.lane,Te=H.eventTime;if((p&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Be=r,Re=H;switch(Ee=a,Te=c,Re.tag){case 1:if(Be=Re.payload,typeof Be=="function"){Pe=Be.call(Te,Pe,Ee);break e}Pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Re.payload,Ee=typeof Be=="function"?Be.call(Te,Pe,Ee):Be,Ee==null)break e;Pe=A({},Pe,Ee);break e;case 2:La=!0}}H.callback!==null&&H.lane!==0&&(r.flags|=64,Ee=w.effects,Ee===null?w.effects=[H]:Ee.push(H))}else Te={eventTime:Te,lane:Ee,tag:H.tag,payload:H.payload,callback:H.callback,next:null},_e===null?(pe=_e=Te,Q=Pe):_e=_e.next=Te,T|=Ee;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;Ee=H,H=Ee.next,Ee.next=null,w.lastBaseUpdate=Ee,w.shared.pending=null}}while(!0);if(_e===null&&(Q=Pe),w.baseState=Q,w.firstBaseUpdate=pe,w.lastBaseUpdate=_e,a=w.shared.interleaved,a!==null){w=a;do T|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);ul|=T,r.lanes=T,r.memoizedState=Pe}}function XK(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(o(191,w));w.call(p)}}}var QK=new t.Component().refs;function Px(r,a,c,p){a=r.memoizedState,c=c(p,a),c=c==null?a:A({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var sg={isMounted:function(r){return(r=r._reactInternals)?tl(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var p=Sn(),w=Ya(r),E=Qo(p,w);E.payload=a,c!=null&&(E.callback=c),a=Za(r,E,w),a!==null&&(Hr(a,r,w,p),ig(a,r,w))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var p=Sn(),w=Ya(r),E=Qo(p,w);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=Za(r,E,w),a!==null&&(Hr(a,r,w,p),ig(a,r,w))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Sn(),p=Ya(r),w=Qo(c,p);w.tag=2,a!=null&&(w.callback=a),a=Za(r,w,p),a!==null&&(Hr(a,r,p,c),ig(a,r,p))}};function YK(r,a,c,p,w,E,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,T):a.prototype&&a.prototype.isPureReactComponent?!pd(c,p)||!pd(w,E):!0}function JK(r,a,c){var p=!1,w=qa,E=a.contextType;return typeof E=="object"&&E!==null?E=lr(E):(w=On(a)?rl:dn.current,p=a.contextTypes,E=(p=p!=null)?Ms(r,w):qa),a=new a(c,E),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=sg,r.stateNode=a,a._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),a}function eW(r,a,c,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==r&&sg.enqueueReplaceState(a,a.state,null)}function Cx(r,a,c,p){var w=r.stateNode;w.props=c,w.state=r.memoizedState,w.refs=QK,_x(r);var E=a.contextType;typeof E=="object"&&E!==null?w.context=lr(E):(E=On(a)?rl:dn.current,w.context=Ms(r,E)),w.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Px(r,a,E,c),w.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&sg.enqueueReplaceState(w,w.state,null),lg(r,c,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function kd(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o(309));var p=c.stateNode}if(!p)throw Error(o(147,r));var w=p,E=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(T){var H=w.refs;H===QK&&(H=w.refs={}),T===null?delete H[E]:H[E]=T},a._stringRef=E,a)}if(typeof r!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,r))}return r}function ug(r,a){throw r=Object.prototype.toString.call(a),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function tW(r){var a=r._init;return a(r._payload)}function nW(r){function a(ie,J){if(r){var se=ie.deletions;se===null?(ie.deletions=[J],ie.flags|=16):se.push(J)}}function c(ie,J){if(!r)return null;for(;J!==null;)a(ie,J),J=J.sibling;return null}function p(ie,J){for(ie=new Map;J!==null;)J.key!==null?ie.set(J.key,J):ie.set(J.index,J),J=J.sibling;return ie}function w(ie,J){return ie=ei(ie,J),ie.index=0,ie.sibling=null,ie}function E(ie,J,se){return ie.index=se,r?(se=ie.alternate,se!==null?(se=se.index,se<J?(ie.flags|=2,J):se):(ie.flags|=2,J)):(ie.flags|=1048576,J)}function T(ie){return r&&ie.alternate===null&&(ie.flags|=2),ie}function H(ie,J,se,Ce){return J===null||J.tag!==6?(J=u2(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Q(ie,J,se,Ce){var Me=se.type;return Me===W?_e(ie,J,se.props.children,Ce,se.key):J!==null&&(J.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&tW(Me)===J.type)?(Ce=w(J,se.props),Ce.ref=kd(ie,J,se),Ce.return=ie,Ce):(Ce=Ig(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=kd(ie,J,se),Ce.return=ie,Ce)}function pe(ie,J,se,Ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=c2(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se.children||[]),J.return=ie,J)}function _e(ie,J,se,Ce,Me){return J===null||J.tag!==7?(J=pl(se,ie.mode,Ce,Me),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Pe(ie,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=u2(""+J,ie.mode,se),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return se=Ig(J.type,J.key,J.props,null,ie.mode,se),se.ref=kd(ie,null,J),se.return=ie,se;case V:return J=c2(J,ie.mode,se),J.return=ie,J;case q:var Ce=J._init;return Pe(ie,Ce(J._payload),se)}if(ke(J)||ge(J))return J=pl(J,ie.mode,se,null),J.return=ie,J;ug(ie,J)}return null}function Ee(ie,J,se,Ce){var Me=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Me!==null?null:H(ie,J,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return se.key===Me?Q(ie,J,se,Ce):null;case V:return se.key===Me?pe(ie,J,se,Ce):null;case q:return Me=se._init,Ee(ie,J,Me(se._payload),Ce)}if(ke(se)||ge(se))return Me!==null?null:_e(ie,J,se,Ce,null);ug(ie,se)}return null}function Te(ie,J,se,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ie=ie.get(se)||null,H(J,ie,""+Ce,Me);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case z:return ie=ie.get(Ce.key===null?se:Ce.key)||null,Q(J,ie,Ce,Me);case V:return ie=ie.get(Ce.key===null?se:Ce.key)||null,pe(J,ie,Ce,Me);case q:var qe=Ce._init;return Te(ie,J,se,qe(Ce._payload),Me)}if(ke(Ce)||ge(Ce))return ie=ie.get(se)||null,_e(J,ie,Ce,Me,null);ug(J,Ce)}return null}function Be(ie,J,se,Ce){for(var Me=null,qe=null,$e=J,Ge=J=0,$t=null;$e!==null&&Ge<se.length;Ge++){$e.index>Ge?($t=$e,$e=null):$t=$e.sibling;var lt=Ee(ie,$e,se[Ge],Ce);if(lt===null){$e===null&&($e=$t);break}r&&$e&&lt.alternate===null&&a(ie,$e),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt,$e=$t}if(Ge===se.length)return c(ie,$e),wt&&al(ie,Ge),Me;if($e===null){for(;Ge<se.length;Ge++)$e=Pe(ie,se[Ge],Ce),$e!==null&&(J=E($e,J,Ge),qe===null?Me=$e:qe.sibling=$e,qe=$e);return wt&&al(ie,Ge),Me}for($e=p(ie,$e);Ge<se.length;Ge++)$t=Te($e,ie,Ge,se[Ge],Ce),$t!==null&&(r&&$t.alternate!==null&&$e.delete($t.key===null?Ge:$t.key),J=E($t,J,Ge),qe===null?Me=$t:qe.sibling=$t,qe=$t);return r&&$e.forEach(function(ti){return a(ie,ti)}),wt&&al(ie,Ge),Me}function Re(ie,J,se,Ce){var Me=ge(se);if(typeof Me!="function")throw Error(o(150));if(se=Me.call(se),se==null)throw Error(o(151));for(var qe=Me=null,$e=J,Ge=J=0,$t=null,lt=se.next();$e!==null&&!lt.done;Ge++,lt=se.next()){$e.index>Ge?($t=$e,$e=null):$t=$e.sibling;var ti=Ee(ie,$e,lt.value,Ce);if(ti===null){$e===null&&($e=$t);break}r&&$e&&ti.alternate===null&&a(ie,$e),J=E(ti,J,Ge),qe===null?Me=ti:qe.sibling=ti,qe=ti,$e=$t}if(lt.done)return c(ie,$e),wt&&al(ie,Ge),Me;if($e===null){for(;!lt.done;Ge++,lt=se.next())lt=Pe(ie,lt.value,Ce),lt!==null&&(J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return wt&&al(ie,Ge),Me}for($e=p(ie,$e);!lt.done;Ge++,lt=se.next())lt=Te($e,ie,Ge,lt.value,Ce),lt!==null&&(r&&lt.alternate!==null&&$e.delete(lt.key===null?Ge:lt.key),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return r&&$e.forEach(function(Sle){return a(ie,Sle)}),wt&&al(ie,Ge),Me}function zt(ie,J,se,Ce){if(typeof se=="object"&&se!==null&&se.type===W&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case z:e:{for(var Me=se.key,qe=J;qe!==null;){if(qe.key===Me){if(Me=se.type,Me===W){if(qe.tag===7){c(ie,qe.sibling),J=w(qe,se.props.children),J.return=ie,ie=J;break e}}else if(qe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&tW(Me)===qe.type){c(ie,qe.sibling),J=w(qe,se.props),J.ref=kd(ie,qe,se),J.return=ie,ie=J;break e}c(ie,qe);break}else a(ie,qe);qe=qe.sibling}se.type===W?(J=pl(se.props.children,ie.mode,Ce,se.key),J.return=ie,ie=J):(Ce=Ig(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=kd(ie,J,se),Ce.return=ie,ie=Ce)}return T(ie);case V:e:{for(qe=se.key;J!==null;){if(J.key===qe)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){c(ie,J.sibling),J=w(J,se.children||[]),J.return=ie,ie=J;break e}else{c(ie,J);break}else a(ie,J);J=J.sibling}J=c2(se,ie.mode,Ce),J.return=ie,ie=J}return T(ie);case q:return qe=se._init,zt(ie,J,qe(se._payload),Ce)}if(ke(se))return Be(ie,J,se,Ce);if(ge(se))return Re(ie,J,se,Ce);ug(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(c(ie,J.sibling),J=w(J,se),J.return=ie,ie=J):(c(ie,J),J=u2(se,ie.mode,Ce),J.return=ie,ie=J),T(ie)):c(ie,J)}return zt}var qs=nW(!0),rW=nW(!1),wd={},yo=Wa(wd),xd=Wa(wd),Sd=Wa(wd);function ll(r){if(r===wd)throw Error(o(174));return r}function Ix(r,a){switch(mt(Sd,a),mt(xd,r),mt(yo,wd),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ze(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Ze(a,r)}bt(yo),mt(yo,a)}function $s(){bt(yo),bt(xd),bt(Sd)}function oW(r){ll(Sd.current);var a=ll(yo.current),c=Ze(a,r.type);a!==c&&(mt(xd,r),mt(yo,c))}function jx(r){xd.current===r&&(bt(yo),bt(xd))}var _t=Wa(0);function cg(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ox=[];function Tx(){for(var r=0;r<Ox.length;r++)Ox[r]._workInProgressVersionPrimary=null;Ox.length=0}var dg=j.ReactCurrentDispatcher,zx=j.ReactCurrentBatchConfig,sl=0,Pt=null,Mt=null,Wt=null,fg=!1,Ed=!1,_d=0,qie=0;function fn(){throw Error(o(321))}function Dx(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Rr(r[c],a[c]))return!1;return!0}function Ax(r,a,c,p,w,E){if(sl=E,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,dg.current=r===null||r.memoizedState===null?Gie:Xie,r=c(p,w),Ed){E=0;do{if(Ed=!1,_d=0,25<=E)throw Error(o(301));E+=1,Wt=Mt=null,a.updateQueue=null,dg.current=Qie,r=c(p,w)}while(Ed)}if(dg.current=mg,a=Mt!==null&&Mt.next!==null,sl=0,Wt=Mt=Pt=null,fg=!1,a)throw Error(o(300));return r}function Bx(){var r=_d!==0;return _d=0,r}function bo(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Pt.memoizedState=Wt=r:Wt=Wt.next=r,Wt}function sr(){if(Mt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=Wt===null?Pt.memoizedState:Wt.next;if(a!==null)Wt=a,Mt=r;else{if(r===null)throw Error(o(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?Pt.memoizedState=Wt=r:Wt=Wt.next=r}return Wt}function Pd(r,a){return typeof a=="function"?a(r):a}function Nx(r){var a=sr(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=Mt,w=p.baseQueue,E=c.pending;if(E!==null){if(w!==null){var T=w.next;w.next=E.next,E.next=T}p.baseQueue=w=E,c.pending=null}if(w!==null){E=w.next,p=p.baseState;var H=T=null,Q=null,pe=E;do{var _e=pe.lane;if((sl&_e)===_e)Q!==null&&(Q=Q.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:r(p,pe.action);else{var Pe={lane:_e,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Q===null?(H=Q=Pe,T=p):Q=Q.next=Pe,Pt.lanes|=_e,ul|=_e}pe=pe.next}while(pe!==null&&pe!==E);Q===null?T=p:Q.next=H,Rr(p,a.memoizedState)||(Tn=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=Q,c.lastRenderedState=p}if(r=c.interleaved,r!==null){w=r;do E=w.lane,Pt.lanes|=E,ul|=E,w=w.next;while(w!==r)}else w===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Rx(r){var a=sr(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=c.dispatch,w=c.pending,E=a.memoizedState;if(w!==null){c.pending=null;var T=w=w.next;do E=r(E,T.action),T=T.next;while(T!==w);Rr(E,a.memoizedState)||(Tn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function aW(){}function iW(r,a){var c=Pt,p=sr(),w=a(),E=!Rr(p.memoizedState,w);if(E&&(p.memoizedState=w,Tn=!0),p=p.queue,Fx(uW.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,Cd(9,sW.bind(null,c,p,w,a),void 0,null),qt===null)throw Error(o(349));sl&30||lW(c,a,w)}return w}function lW(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function sW(r,a,c,p){a.value=c,a.getSnapshot=p,cW(a)&&dW(r)}function uW(r,a,c){return c(function(){cW(a)&&dW(r)})}function cW(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Rr(r,c)}catch{return!0}}function dW(r){var a=Xo(r,1);a!==null&&Hr(a,r,1,-1)}function fW(r){var a=bo();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:r},a.queue=r,r=r.dispatch=Zie.bind(null,Pt,r),[a.memoizedState,r]}function Cd(r,a,c,p){return r={tag:r,create:a,destroy:c,deps:p,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,a.lastEffect=r)),r}function pW(){return sr().memoizedState}function pg(r,a,c,p){var w=bo();Pt.flags|=r,w.memoizedState=Cd(1|a,c,void 0,p===void 0?null:p)}function hg(r,a,c,p){var w=sr();p=p===void 0?null:p;var E=void 0;if(Mt!==null){var T=Mt.memoizedState;if(E=T.destroy,p!==null&&Dx(p,T.deps)){w.memoizedState=Cd(a,c,E,p);return}}Pt.flags|=r,w.memoizedState=Cd(1|a,c,E,p)}function hW(r,a){return pg(8390656,8,r,a)}function Fx(r,a){return hg(2048,8,r,a)}function mW(r,a){return hg(4,2,r,a)}function gW(r,a){return hg(4,4,r,a)}function vW(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function yW(r,a,c){return c=c!=null?c.concat([r]):null,hg(4,4,vW.bind(null,a,r),c)}function Mx(){}function bW(r,a){var c=sr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Dx(a,p[1])?p[0]:(c.memoizedState=[r,a],r)}function kW(r,a){var c=sr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Dx(a,p[1])?p[0]:(r=r(),c.memoizedState=[r,a],r)}function wW(r,a,c){return sl&21?(Rr(c,a)||(c=$H(),Pt.lanes|=c,ul|=c,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=c)}function $ie(r,a){var c=ut;ut=c!==0&&4>c?c:4,r(!0);var p=zx.transition;zx.transition={};try{r(!1),a()}finally{ut=c,zx.transition=p}}function xW(){return sr().memoizedState}function Lie(r,a,c){var p=Ya(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},SW(r))EW(a,c);else if(c=LK(r,a,c,p),c!==null){var w=Sn();Hr(c,r,p,w),_W(c,a,p)}}function Zie(r,a,c){var p=Ya(r),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(SW(r))EW(a,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var T=a.lastRenderedState,H=E(T,c);if(w.hasEagerState=!0,w.eagerState=H,Rr(H,T)){var Q=a.interleaved;Q===null?(w.next=w,Ex(a)):(w.next=Q.next,Q.next=w),a.interleaved=w;return}}catch{}finally{}c=LK(r,a,w,p),c!==null&&(w=Sn(),Hr(c,r,p,w),_W(c,a,p))}}function SW(r){var a=r.alternate;return r===Pt||a!==null&&a===Pt}function EW(r,a){Ed=fg=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function _W(r,a,c){if(c&4194240){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,Vw(r,c)}}var mg={readContext:lr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},Gie={readContext:lr,useCallback:function(r,a){return bo().memoizedState=[r,a===void 0?null:a],r},useContext:lr,useEffect:hW,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,pg(4194308,4,vW.bind(null,a,r),c)},useLayoutEffect:function(r,a){return pg(4194308,4,r,a)},useInsertionEffect:function(r,a){return pg(4,2,r,a)},useMemo:function(r,a){var c=bo();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var p=bo();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},p.queue=r,r=r.dispatch=Lie.bind(null,Pt,r),[p.memoizedState,r]},useRef:function(r){var a=bo();return r={current:r},a.memoizedState=r},useState:fW,useDebugValue:Mx,useDeferredValue:function(r){return bo().memoizedState=r},useTransition:function(){var r=fW(!1),a=r[0];return r=$ie.bind(null,r[1]),bo().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var p=Pt,w=bo();if(wt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=a(),qt===null)throw Error(o(349));sl&30||lW(p,a,c)}w.memoizedState=c;var E={value:c,getSnapshot:a};return w.queue=E,hW(uW.bind(null,p,E,r),[r]),p.flags|=2048,Cd(9,sW.bind(null,p,E,c,a),void 0,null),c},useId:function(){var r=bo(),a=qt.identifierPrefix;if(wt){var c=Go,p=Zo;c=(p&~(1<<32-Nr(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=_d++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=qie++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},Xie={readContext:lr,useCallback:bW,useContext:lr,useEffect:Fx,useImperativeHandle:yW,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:kW,useReducer:Nx,useRef:pW,useState:function(){return Nx(Pd)},useDebugValue:Mx,useDeferredValue:function(r){var a=sr();return wW(a,Mt.memoizedState,r)},useTransition:function(){var r=Nx(Pd)[0],a=sr().memoizedState;return[r,a]},useMutableSource:aW,useSyncExternalStore:iW,useId:xW,unstable_isNewReconciler:!1},Qie={readContext:lr,useCallback:bW,useContext:lr,useEffect:Fx,useImperativeHandle:yW,useInsertionEffect:mW,useLayoutEffect:gW,useMemo:kW,useReducer:Rx,useRef:pW,useState:function(){return Rx(Pd)},useDebugValue:Mx,useDeferredValue:function(r){var a=sr();return Mt===null?a.memoizedState=r:wW(a,Mt.memoizedState,r)},useTransition:function(){var r=Rx(Pd)[0],a=sr().memoizedState;return[r,a]},useMutableSource:aW,useSyncExternalStore:iW,useId:xW,unstable_isNewReconciler:!1};function Ls(r,a){try{var c="",p=a;do c+=te(p),p=p.return;while(p);var w=c}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:a,stack:w,digest:null}}function Ux(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function Vx(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Yie=typeof WeakMap=="function"?WeakMap:Map;function PW(r,a,c){c=Qo(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){xg||(xg=!0,t2=p),Vx(r,a)},c}function CW(r,a,c){c=Qo(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=a.value;c.payload=function(){return p(w)},c.callback=function(){Vx(r,a)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){Vx(r,a),typeof p!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function IW(r,a,c){var p=r.pingCache;if(p===null){p=r.pingCache=new Yie;var w=new Set;p.set(a,w)}else w=p.get(a),w===void 0&&(w=new Set,p.set(a,w));w.has(c)||(w.add(c),r=fle.bind(null,r,a,c),a.then(r,r))}function jW(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function OW(r,a,c,p,w){return r.mode&1?(r.flags|=65536,r.lanes=w,r):(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Qo(-1,1),a.tag=2,Za(c,a,1))),c.lanes|=1),r)}var Jie=j.ReactCurrentOwner,Tn=!1;function xn(r,a,c,p){a.child=r===null?rW(a,null,c,p):qs(a,r.child,c,p)}function TW(r,a,c,p,w){c=c.render;var E=a.ref;return Ws(a,w),p=Ax(r,a,c,p,E,w),c=Bx(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Yo(r,a,w)):(wt&&c&&mx(a),a.flags|=1,xn(r,a,p,w),a.child)}function zW(r,a,c,p,w){if(r===null){var E=c.type;return typeof E=="function"&&!s2(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,DW(r,a,E,p,w)):(r=Ig(c.type,null,p,a,a.mode,w),r.ref=a.ref,r.return=a,a.child=r)}if(E=r.child,!(r.lanes&w)){var T=E.memoizedProps;if(c=c.compare,c=c!==null?c:pd,c(T,p)&&r.ref===a.ref)return Yo(r,a,w)}return a.flags|=1,r=ei(E,p),r.ref=a.ref,r.return=a,a.child=r}function DW(r,a,c,p,w){if(r!==null){var E=r.memoizedProps;if(pd(E,p)&&r.ref===a.ref)if(Tn=!1,a.pendingProps=p=E,(r.lanes&w)!==0)r.flags&131072&&(Tn=!0);else return a.lanes=r.lanes,Yo(r,a,w)}return Hx(r,a,c,p,w)}function AW(r,a,c){var p=a.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Gs,$n),$n|=c;else{if(!(c&1073741824))return r=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,mt(Gs,$n),$n|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,mt(Gs,$n),$n|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,mt(Gs,$n),$n|=p;return xn(r,a,w,c),a.child}function BW(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Hx(r,a,c,p,w){var E=On(c)?rl:dn.current;return E=Ms(a,E),Ws(a,w),c=Ax(r,a,c,p,E,w),p=Bx(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Yo(r,a,w)):(wt&&p&&mx(a),a.flags|=1,xn(r,a,c,w),a.child)}function NW(r,a,c,p,w){if(On(c)){var E=!0;Jm(a)}else E=!1;if(Ws(a,w),a.stateNode===null)vg(r,a),JK(a,c,p),Cx(a,c,p,w),p=!0;else if(r===null){var T=a.stateNode,H=a.memoizedProps;T.props=H;var Q=T.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=lr(pe):(pe=On(c)?rl:dn.current,pe=Ms(a,pe));var _e=c.getDerivedStateFromProps,Pe=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function";Pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==p||Q!==pe)&&eW(a,T,p,pe),La=!1;var Ee=a.memoizedState;T.state=Ee,lg(a,p,T,w),Q=a.memoizedState,H!==p||Ee!==Q||jn.current||La?(typeof _e=="function"&&(Px(a,c,_e,p),Q=a.memoizedState),(H=La||YK(a,c,H,p,Ee,Q,pe))?(Pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Q),T.props=p,T.state=Q,T.context=pe,p=H):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,ZK(r,a),H=a.memoizedProps,pe=a.type===a.elementType?H:Mr(a.type,H),T.props=pe,Pe=a.pendingProps,Ee=T.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=lr(Q):(Q=On(c)?rl:dn.current,Q=Ms(a,Q));var Te=c.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==Pe||Ee!==Q)&&eW(a,T,p,Q),La=!1,Ee=a.memoizedState,T.state=Ee,lg(a,p,T,w);var Be=a.memoizedState;H!==Pe||Ee!==Be||jn.current||La?(typeof Te=="function"&&(Px(a,c,Te,p),Be=a.memoizedState),(pe=La||YK(a,c,pe,p,Ee,Be,Q)||!1)?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Be,Q),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Be,Q)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Be),T.props=p,T.state=Be,T.context=Q,p=pe):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),p=!1)}return Kx(r,a,c,p,E,w)}function Kx(r,a,c,p,w,E){BW(r,a);var T=(a.flags&128)!==0;if(!p&&!T)return w&&UK(a,c,!1),Yo(r,a,E);p=a.stateNode,Jie.current=a;var H=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&T?(a.child=qs(a,r.child,null,E),a.child=qs(a,null,H,E)):xn(r,a,H,E),a.memoizedState=p.state,w&&UK(a,c,!0),a.child}function RW(r){var a=r.stateNode;a.pendingContext?FK(r,a.pendingContext,a.pendingContext!==a.context):a.context&&FK(r,a.context,!1),Ix(r,a.containerInfo)}function FW(r,a,c,p,w){return Hs(),bx(w),a.flags|=256,xn(r,a,c,p),a.child}var Wx={dehydrated:null,treeContext:null,retryLane:0};function qx(r){return{baseLanes:r,cachePool:null,transitions:null}}function MW(r,a,c){var p=a.pendingProps,w=_t.current,E=!1,T=(a.flags&128)!==0,H;if((H=T)||(H=r!==null&&r.memoizedState===null?!1:(w&2)!==0),H?(E=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),mt(_t,w&1),r===null)return yx(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(T=p.children,r=p.fallback,E?(p=a.mode,E=a.child,T={mode:"hidden",children:T},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=T):E=jg(T,p,0,null),r=pl(r,p,c,null),E.return=a,r.return=a,E.sibling=r,a.child=E,a.child.memoizedState=qx(c),a.memoizedState=Wx,r):$x(a,T));if(w=r.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return ele(r,a,T,p,H,w,c);if(E){E=p.fallback,T=a.mode,w=r.child,H=w.sibling;var Q={mode:"hidden",children:p.children};return!(T&1)&&a.child!==w?(p=a.child,p.childLanes=0,p.pendingProps=Q,a.deletions=null):(p=ei(w,Q),p.subtreeFlags=w.subtreeFlags&14680064),H!==null?E=ei(H,E):(E=pl(E,T,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,T=r.child.memoizedState,T=T===null?qx(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},E.memoizedState=T,E.childLanes=r.childLanes&~c,a.memoizedState=Wx,p}return E=r.child,r=E.sibling,p=ei(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=p,a.memoizedState=null,p}function $x(r,a){return a=jg({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function gg(r,a,c,p){return p!==null&&bx(p),qs(a,r.child,null,c),r=$x(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function ele(r,a,c,p,w,E,T){if(c)return a.flags&256?(a.flags&=-257,p=Ux(Error(o(422))),gg(r,a,T,p)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(E=p.fallback,w=a.mode,p=jg({mode:"visible",children:p.children},w,0,null),E=pl(E,w,T,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&qs(a,r.child,null,T),a.child.memoizedState=qx(T),a.memoizedState=Wx,E);if(!(a.mode&1))return gg(r,a,T,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var H=p.dgst;return p=H,E=Error(o(419)),p=Ux(E,p,void 0),gg(r,a,T,p)}if(H=(T&r.childLanes)!==0,Tn||H){if(p=qt,p!==null){switch(T&-T){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|T)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Xo(r,w),Hr(p,r,w,-1))}return l2(),p=Ux(Error(o(421))),gg(r,a,T,p)}return w.data==="$?"?(a.flags|=128,a.child=r.child,a=ple.bind(null,r),w._reactRetry=a,null):(r=E.treeContext,qn=Ka(w.nextSibling),Wn=a,wt=!0,Fr=null,r!==null&&(ar[ir++]=Zo,ar[ir++]=Go,ar[ir++]=ol,Zo=r.id,Go=r.overflow,ol=a),a=$x(a,p.children),a.flags|=4096,a)}function UW(r,a,c){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),Sx(r.return,a,c)}function Lx(r,a,c,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=w)}function VW(r,a,c){var p=a.pendingProps,w=p.revealOrder,E=p.tail;if(xn(r,a,p.children,c),p=_t.current,p&2)p=p&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&UW(r,c,a);else if(r.tag===19)UW(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(mt(_t,p),!(a.mode&1))a.memoizedState=null;else switch(w){case"forwards":for(c=a.child,w=null;c!==null;)r=c.alternate,r!==null&&cg(r)===null&&(w=c),c=c.sibling;c=w,c===null?(w=a.child,a.child=null):(w=c.sibling,c.sibling=null),Lx(a,!1,w,c,E);break;case"backwards":for(c=null,w=a.child,a.child=null;w!==null;){if(r=w.alternate,r!==null&&cg(r)===null){a.child=w;break}r=w.sibling,w.sibling=c,c=w,w=r}Lx(a,!0,c,null,E);break;case"together":Lx(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vg(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Yo(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),ul|=a.lanes,!(c&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(o(153));if(a.child!==null){for(r=a.child,c=ei(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=ei(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function tle(r,a,c){switch(a.tag){case 3:RW(a),Hs();break;case 5:oW(a);break;case 1:On(a.type)&&Jm(a);break;case 4:Ix(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,w=a.memoizedProps.value;mt(og,p._currentValue),p._currentValue=w;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(mt(_t,_t.current&1),a.flags|=128,null):c&a.child.childLanes?MW(r,a,c):(mt(_t,_t.current&1),r=Yo(r,a,c),r!==null?r.sibling:null);mt(_t,_t.current&1);break;case 19:if(p=(c&a.childLanes)!==0,r.flags&128){if(p)return VW(r,a,c);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(_t,_t.current),p)break;return null;case 22:case 23:return a.lanes=0,AW(r,a,c)}return Yo(r,a,c)}var HW,Zx,KW,WW;HW=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Zx=function(){},KW=function(r,a,c,p){var w=r.memoizedProps;if(w!==p){r=a.stateNode,ll(yo.current);var E=null;switch(c){case"input":w=fe(r,w),p=fe(r,p),E=[];break;case"select":w=A({},w,{value:void 0}),p=A({},p,{value:void 0}),E=[];break;case"textarea":w=Se(r,w),p=Se(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Xm)}Cs(c,p);var T;c=null;for(pe in w)if(!p.hasOwnProperty(pe)&&w.hasOwnProperty(pe)&&w[pe]!=null)if(pe==="style"){var H=w[pe];for(T in H)H.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(l.hasOwnProperty(pe)?E||(E=[]):(E=E||[]).push(pe,null));for(pe in p){var Q=p[pe];if(H=w!=null?w[pe]:void 0,p.hasOwnProperty(pe)&&Q!==H&&(Q!=null||H!=null))if(pe==="style")if(H){for(T in H)!H.hasOwnProperty(T)||Q&&Q.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in Q)Q.hasOwnProperty(T)&&H[T]!==Q[T]&&(c||(c={}),c[T]=Q[T])}else c||(E||(E=[]),E.push(pe,c)),c=Q;else pe==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,H=H?H.__html:void 0,Q!=null&&H!==Q&&(E=E||[]).push(pe,Q)):pe==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(pe,""+Q):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(l.hasOwnProperty(pe)?(Q!=null&&pe==="onScroll"&&yt("scroll",r),E||H===Q||(E=[])):(E=E||[]).push(pe,Q))}c&&(E=E||[]).push("style",c);var pe=E;(a.updateQueue=pe)&&(a.flags|=4)}},WW=function(r,a,c,p){c!==p&&(a.flags|=4)};function Id(r,a){if(!wt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function pn(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(a)for(var w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=c,a}function nle(r,a,c){var p=a.pendingProps;switch(gx(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(a),null;case 1:return On(a.type)&&Ym(),pn(a),null;case 3:return p=a.stateNode,$s(),bt(jn),bt(dn),Tx(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(rg(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Fr!==null&&(o2(Fr),Fr=null))),Zx(r,a),pn(a),null;case 5:jx(a);var w=ll(Sd.current);if(c=a.type,r!==null&&a.stateNode!=null)KW(r,a,c,p,w),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(o(166));return pn(a),null}if(r=ll(yo.current),rg(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[vo]=a,p[yd]=E,r=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(w=0;w<md.length;w++)yt(md[w],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":ce(p,E),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},yt("invalid",p);break;case"textarea":ye(p,E),yt("invalid",p)}Cs(c,E),w=null;for(var T in E)if(E.hasOwnProperty(T)){var H=E[T];T==="children"?typeof H=="string"?p.textContent!==H&&(E.suppressHydrationWarning!==!0&&Gm(p.textContent,H,r),w=["children",H]):typeof H=="number"&&p.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&Gm(p.textContent,H,r),w=["children",""+H]):l.hasOwnProperty(T)&&H!=null&&T==="onScroll"&&yt("scroll",p)}switch(c){case"input":Ve(p),ne(p,E,!0);break;case"textarea":Ve(p),Ue(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Xm)}p=w,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ot(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=T.createElement(c,{is:p.is}):(r=T.createElement(c),c==="select"&&(T=r,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):r=T.createElementNS(r,c),r[vo]=a,r[yd]=p,HW(r,a,!1,!1),a.stateNode=r;e:{switch(T=Xc(c,p),c){case"dialog":yt("cancel",r),yt("close",r),w=p;break;case"iframe":case"object":case"embed":yt("load",r),w=p;break;case"video":case"audio":for(w=0;w<md.length;w++)yt(md[w],r);w=p;break;case"source":yt("error",r),w=p;break;case"img":case"image":case"link":yt("error",r),yt("load",r),w=p;break;case"details":yt("toggle",r),w=p;break;case"input":ce(r,p),w=fe(r,p),yt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=A({},p,{value:void 0}),yt("invalid",r);break;case"textarea":ye(r,p),w=Se(r,p),yt("invalid",r);break;default:w=p}Cs(c,w),H=w;for(E in H)if(H.hasOwnProperty(E)){var Q=H[E];E==="style"?Ps(r,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Na(r,Q)):E==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&cn(r,Q):typeof Q=="number"&&cn(r,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&yt("scroll",r):Q!=null&&O(r,E,Q,T))}switch(c){case"input":Ve(r),ne(r,p,!1);break;case"textarea":Ve(r),Ue(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ie(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?ae(r,!!p.multiple,E,!1):p.defaultValue!=null&&ae(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=Xm)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return pn(a),null;case 6:if(r&&a.stateNode!=null)WW(r,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(o(166));if(c=ll(Sd.current),ll(yo.current),rg(a)){if(p=a.stateNode,c=a.memoizedProps,p[vo]=a,(E=p.nodeValue!==c)&&(r=Wn,r!==null))switch(r.tag){case 3:Gm(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Gm(p.nodeValue,c,(r.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[vo]=a,a.stateNode=p}return pn(a),null;case 13:if(bt(_t),p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&qn!==null&&a.mode&1&&!(a.flags&128))$K(),Hs(),a.flags|=98560,E=!1;else if(E=rg(a),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(o(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));E[vo]=a}else Hs(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;pn(a),E=!1}else Fr!==null&&(o2(Fr),Fr=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(r===null||_t.current&1?Ut===0&&(Ut=3):l2())),a.updateQueue!==null&&(a.flags|=4),pn(a),null);case 4:return $s(),Zx(r,a),r===null&&gd(a.stateNode.containerInfo),pn(a),null;case 10:return xx(a.type._context),pn(a),null;case 17:return On(a.type)&&Ym(),pn(a),null;case 19:if(bt(_t),E=a.memoizedState,E===null)return pn(a),null;if(p=(a.flags&128)!==0,T=E.rendering,T===null)if(p)Id(E,!1);else{if(Ut!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(T=cg(r),T!==null){for(a.flags|=128,Id(E,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,r=p,E.flags&=14680066,T=E.alternate,T===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=T.childLanes,E.lanes=T.lanes,E.child=T.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=T.memoizedProps,E.memoizedState=T.memoizedState,E.updateQueue=T.updateQueue,E.type=T.type,r=T.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return mt(_t,_t.current&1|2),a.child}r=r.sibling}E.tail!==null&&Tt()>Xs&&(a.flags|=128,p=!0,Id(E,!1),a.lanes=4194304)}else{if(!p)if(r=cg(T),r!==null){if(a.flags|=128,p=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Id(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!wt)return pn(a),null}else 2*Tt()-E.renderingStartTime>Xs&&c!==1073741824&&(a.flags|=128,p=!0,Id(E,!1),a.lanes=4194304);E.isBackwards?(T.sibling=a.child,a.child=T):(c=E.last,c!==null?c.sibling=T:a.child=T,E.last=T)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Tt(),a.sibling=null,c=_t.current,mt(_t,p?c&1|2:c&1),a):(pn(a),null);case 22:case 23:return i2(),p=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?$n&1073741824&&(pn(a),a.subtreeFlags&6&&(a.flags|=8192)):pn(a),null;case 24:return null;case 25:return null}throw Error(o(156,a.tag))}function rle(r,a){switch(gx(a),a.tag){case 1:return On(a.type)&&Ym(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return $s(),bt(jn),bt(dn),Tx(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return jx(a),null;case 13:if(bt(_t),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Hs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(_t),null;case 4:return $s(),null;case 10:return xx(a.type._context),null;case 22:case 23:return i2(),null;case 24:return null;default:return null}}var yg=!1,hn=!1,ole=typeof WeakSet=="function"?WeakSet:Set,De=null;function Zs(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ct(r,a,p)}else c.current=null}function qW(r,a,c){try{c()}catch(p){Ct(r,a,p)}}var $W=!1;function ale(r,a){if(lx=Bm,r=kK(),tx(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var T=0,H=-1,Q=-1,pe=0,_e=0,Pe=r,Ee=null;t:for(;;){for(var Te;Pe!==c||w!==0&&Pe.nodeType!==3||(H=T+w),Pe!==E||p!==0&&Pe.nodeType!==3||(Q=T+p),Pe.nodeType===3&&(T+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ee=Pe,Pe=Te;for(;;){if(Pe===r)break t;if(Ee===c&&++pe===w&&(H=T),Ee===E&&++_e===p&&(Q=T),(Te=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Te}c=H===-1||Q===-1?null:{start:H,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(sx={focusedElem:r,selectionRange:c},Bm=!1,De=a;De!==null;)if(a=De,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,De=r;else for(;De!==null;){a=De;try{var Be=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Re=Be.memoizedProps,zt=Be.memoizedState,ie=a.stateNode,J=ie.getSnapshotBeforeUpdate(a.elementType===a.type?Re:Mr(a.type,Re),zt);ie.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=a.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Ct(a,a.return,Ce)}if(r=a.sibling,r!==null){r.return=a.return,De=r;break}De=a.return}return Be=$W,$W=!1,Be}function jd(r,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&qW(a,c,E)}w=w.next}while(w!==p)}}function bg(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Gx(r){var a=r.ref;if(a!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof a=="function"?a(r):a.current=r}}function LW(r){var a=r.alternate;a!==null&&(r.alternate=null,LW(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[vo],delete a[yd],delete a[fx],delete a[Vie],delete a[Hie])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ZW(r){return r.tag===5||r.tag===3||r.tag===4}function GW(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ZW(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xx(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Xm));else if(p!==4&&(r=r.child,r!==null))for(Xx(r,a,c),r=r.sibling;r!==null;)Xx(r,a,c),r=r.sibling}function Qx(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Qx(r,a,c),r=r.sibling;r!==null;)Qx(r,a,c),r=r.sibling}var rn=null,Ur=!1;function Ga(r,a,c){for(c=c.child;c!==null;)XW(r,a,c),c=c.sibling}function XW(r,a,c){if(go&&typeof go.onCommitFiberUnmount=="function")try{go.onCommitFiberUnmount(jm,c)}catch{}switch(c.tag){case 5:hn||Zs(c,a);case 6:var p=rn,w=Ur;rn=null,Ga(r,a,c),rn=p,Ur=w,rn!==null&&(Ur?(r=rn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):rn.removeChild(c.stateNode));break;case 18:rn!==null&&(Ur?(r=rn,c=c.stateNode,r.nodeType===8?dx(r.parentNode,c):r.nodeType===1&&dx(r,c),ld(r)):dx(rn,c.stateNode));break;case 4:p=rn,w=Ur,rn=c.stateNode.containerInfo,Ur=!0,Ga(r,a,c),rn=p,Ur=w;break;case 0:case 11:case 14:case 15:if(!hn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&qW(c,a,T),w=w.next}while(w!==p)}Ga(r,a,c);break;case 1:if(!hn&&(Zs(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(H){Ct(c,a,H)}Ga(r,a,c);break;case 21:Ga(r,a,c);break;case 22:c.mode&1?(hn=(p=hn)||c.memoizedState!==null,Ga(r,a,c),hn=p):Ga(r,a,c);break;default:Ga(r,a,c)}}function QW(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new ole),a.forEach(function(p){var w=hle.bind(null,r,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Vr(r,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var E=r,T=a,H=T;e:for(;H!==null;){switch(H.tag){case 5:rn=H.stateNode,Ur=!1;break e;case 3:rn=H.stateNode.containerInfo,Ur=!0;break e;case 4:rn=H.stateNode.containerInfo,Ur=!0;break e}H=H.return}if(rn===null)throw Error(o(160));XW(E,T,w),rn=null,Ur=!1;var Q=w.alternate;Q!==null&&(Q.return=null),w.return=null}catch(pe){Ct(w,a,pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)YW(a,r),a=a.sibling}function YW(r,a){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vr(a,r),ko(r),p&4){try{jd(3,r,r.return),bg(3,r)}catch(Re){Ct(r,r.return,Re)}try{jd(5,r,r.return)}catch(Re){Ct(r,r.return,Re)}}break;case 1:Vr(a,r),ko(r),p&512&&c!==null&&Zs(c,c.return);break;case 5:if(Vr(a,r),ko(r),p&512&&c!==null&&Zs(c,c.return),r.flags&32){var w=r.stateNode;try{cn(w,"")}catch(Re){Ct(r,r.return,Re)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,T=c!==null?c.memoizedProps:E,H=r.type,Q=r.updateQueue;if(r.updateQueue=null,Q!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&U(w,E),Xc(H,T);var pe=Xc(H,E);for(T=0;T<Q.length;T+=2){var _e=Q[T],Pe=Q[T+1];_e==="style"?Ps(w,Pe):_e==="dangerouslySetInnerHTML"?Na(w,Pe):_e==="children"?cn(w,Pe):O(w,_e,Pe,pe)}switch(H){case"input":F(w,E);break;case"textarea":we(w,E);break;case"select":var Ee=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?ae(w,!!E.multiple,Te,!1):Ee!==!!E.multiple&&(E.defaultValue!=null?ae(w,!!E.multiple,E.defaultValue,!0):ae(w,!!E.multiple,E.multiple?[]:"",!1))}w[yd]=E}catch(Re){Ct(r,r.return,Re)}}break;case 6:if(Vr(a,r),ko(r),p&4){if(r.stateNode===null)throw Error(o(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(Re){Ct(r,r.return,Re)}}break;case 3:if(Vr(a,r),ko(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ld(a.containerInfo)}catch(Re){Ct(r,r.return,Re)}break;case 4:Vr(a,r),ko(r);break;case 13:Vr(a,r),ko(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(e2=Tt())),p&4&&QW(r);break;case 22:if(_e=c!==null&&c.memoizedState!==null,r.mode&1?(hn=(pe=hn)||_e,Vr(a,r),hn=pe):Vr(a,r),ko(r),p&8192){if(pe=r.memoizedState!==null,(r.stateNode.isHidden=pe)&&!_e&&r.mode&1)for(De=r,_e=r.child;_e!==null;){for(Pe=De=_e;De!==null;){switch(Ee=De,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:jd(4,Ee,Ee.return);break;case 1:Zs(Ee,Ee.return);var Be=Ee.stateNode;if(typeof Be.componentWillUnmount=="function"){p=Ee,c=Ee.return;try{a=p,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(Re){Ct(p,c,Re)}}break;case 5:Zs(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){tq(Pe);continue}}Te!==null?(Te.return=Ee,De=Te):tq(Pe)}_e=_e.sibling}e:for(_e=null,Pe=r;;){if(Pe.tag===5){if(_e===null){_e=Pe;try{w=Pe.stateNode,pe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=Pe.stateNode,Q=Pe.memoizedProps.style,T=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,H.style.display=el("display",T))}catch(Re){Ct(r,r.return,Re)}}}else if(Pe.tag===6){if(_e===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Re){Ct(r,r.return,Re)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===r)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===r)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===r)break e;_e===Pe&&(_e=null),Pe=Pe.return}_e===Pe&&(_e=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Vr(a,r),ko(r),p&4&&QW(r);break;case 21:break;default:Vr(a,r),ko(r)}}function ko(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(ZW(c)){var p=c;break e}c=c.return}throw Error(o(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(cn(w,""),p.flags&=-33);var E=GW(r);Qx(r,E,w);break;case 3:case 4:var T=p.stateNode.containerInfo,H=GW(r);Xx(r,H,T);break;default:throw Error(o(161))}}catch(Q){Ct(r,r.return,Q)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function ile(r,a,c){De=r,JW(r)}function JW(r,a,c){for(var p=(r.mode&1)!==0;De!==null;){var w=De,E=w.child;if(w.tag===22&&p){var T=w.memoizedState!==null||yg;if(!T){var H=w.alternate,Q=H!==null&&H.memoizedState!==null||hn;H=yg;var pe=hn;if(yg=T,(hn=Q)&&!pe)for(De=w;De!==null;)T=De,Q=T.child,T.tag===22&&T.memoizedState!==null?nq(w):Q!==null?(Q.return=T,De=Q):nq(w);for(;E!==null;)De=E,JW(E),E=E.sibling;De=w,yg=H,hn=pe}eq(r)}else w.subtreeFlags&8772&&E!==null?(E.return=w,De=E):eq(r)}}function eq(r){for(;De!==null;){var a=De;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:hn||bg(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!hn)if(c===null)p.componentDidMount();else{var w=a.elementType===a.type?c.memoizedProps:Mr(a.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&XK(a,E,p);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}XK(a,T,c)}break;case 5:var H=a.stateNode;if(c===null&&a.flags&4){c=H;var Q=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var pe=a.alternate;if(pe!==null){var _e=pe.memoizedState;if(_e!==null){var Pe=_e.dehydrated;Pe!==null&&ld(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}hn||a.flags&512&&Gx(a)}catch(Ee){Ct(a,a.return,Ee)}}if(a===r){De=null;break}if(c=a.sibling,c!==null){c.return=a.return,De=c;break}De=a.return}}function tq(r){for(;De!==null;){var a=De;if(a===r){De=null;break}var c=a.sibling;if(c!==null){c.return=a.return,De=c;break}De=a.return}}function nq(r){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{bg(4,a)}catch(Q){Ct(a,c,Q)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var w=a.return;try{p.componentDidMount()}catch(Q){Ct(a,w,Q)}}var E=a.return;try{Gx(a)}catch(Q){Ct(a,E,Q)}break;case 5:var T=a.return;try{Gx(a)}catch(Q){Ct(a,T,Q)}}}catch(Q){Ct(a,a.return,Q)}if(a===r){De=null;break}var H=a.sibling;if(H!==null){H.return=a.return,De=H;break}De=a.return}}var lle=Math.ceil,kg=j.ReactCurrentDispatcher,Yx=j.ReactCurrentOwner,ur=j.ReactCurrentBatchConfig,at=0,qt=null,Nt=null,on=0,$n=0,Gs=Wa(0),Ut=0,Od=null,ul=0,wg=0,Jx=0,Td=null,zn=null,e2=0,Xs=1/0,Jo=null,xg=!1,t2=null,Xa=null,Sg=!1,Qa=null,Eg=0,zd=0,n2=null,_g=-1,Pg=0;function Sn(){return at&6?Tt():_g!==-1?_g:_g=Tt()}function Ya(r){return r.mode&1?at&2&&on!==0?on&-on:Wie.transition!==null?(Pg===0&&(Pg=$H()),Pg):(r=ut,r!==0||(r=window.event,r=r===void 0?16:tK(r.type)),r):1}function Hr(r,a,c,p){if(50<zd)throw zd=0,n2=null,Error(o(185));nd(r,c,p),(!(at&2)||r!==qt)&&(r===qt&&(!(at&2)&&(wg|=c),Ut===4&&Ja(r,on)),Dn(r,p),c===1&&at===0&&!(a.mode&1)&&(Xs=Tt()+500,eg&&$a()))}function Dn(r,a){var c=r.callbackNode;$ae(r,a);var p=zm(r,r===qt?on:0);if(p===0)c!==null&&KH(c),r.callbackNode=null,r.callbackPriority=0;else if(a=p&-p,r.callbackPriority!==a){if(c!=null&&KH(c),a===1)r.tag===0?Kie(oq.bind(null,r)):VK(oq.bind(null,r)),Mie(function(){!(at&6)&&$a()}),c=null;else{switch(LH(p)){case 1:c=Fw;break;case 4:c=WH;break;case 16:c=Im;break;case 536870912:c=qH;break;default:c=Im}c=fq(c,rq.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function rq(r,a){if(_g=-1,Pg=0,at&6)throw Error(o(327));var c=r.callbackNode;if(Qs()&&r.callbackNode!==c)return null;var p=zm(r,r===qt?on:0);if(p===0)return null;if(p&30||p&r.expiredLanes||a)a=Cg(r,p);else{a=p;var w=at;at|=2;var E=iq();(qt!==r||on!==a)&&(Jo=null,Xs=Tt()+500,dl(r,a));do try{cle();break}catch(H){aq(r,H)}while(!0);wx(),kg.current=E,at=w,Nt!==null?a=0:(qt=null,on=0,a=Ut)}if(a!==0){if(a===2&&(w=Mw(r),w!==0&&(p=w,a=r2(r,w))),a===1)throw c=Od,dl(r,0),Ja(r,p),Dn(r,Tt()),c;if(a===6)Ja(r,p);else{if(w=r.current.alternate,!(p&30)&&!sle(w)&&(a=Cg(r,p),a===2&&(E=Mw(r),E!==0&&(p=E,a=r2(r,E))),a===1))throw c=Od,dl(r,0),Ja(r,p),Dn(r,Tt()),c;switch(r.finishedWork=w,r.finishedLanes=p,a){case 0:case 1:throw Error(o(345));case 2:fl(r,zn,Jo);break;case 3:if(Ja(r,p),(p&130023424)===p&&(a=e2+500-Tt(),10<a)){if(zm(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){Sn(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=cx(fl.bind(null,r,zn,Jo),a);break}fl(r,zn,Jo);break;case 4:if(Ja(r,p),(p&4194240)===p)break;for(a=r.eventTimes,w=-1;0<p;){var T=31-Nr(p);E=1<<T,T=a[T],T>w&&(w=T),p&=~E}if(p=w,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*lle(p/1960))-p,10<p){r.timeoutHandle=cx(fl.bind(null,r,zn,Jo),p);break}fl(r,zn,Jo);break;case 5:fl(r,zn,Jo);break;default:throw Error(o(329))}}}return Dn(r,Tt()),r.callbackNode===c?rq.bind(null,r):null}function r2(r,a){var c=Td;return r.current.memoizedState.isDehydrated&&(dl(r,a).flags|=256),r=Cg(r,a),r!==2&&(a=zn,zn=c,a!==null&&o2(a)),r}function o2(r){zn===null?zn=r:zn.push.apply(zn,r)}function sle(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],E=w.getSnapshot;w=w.value;try{if(!Rr(E(),w))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ja(r,a){for(a&=~Jx,a&=~wg,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-Nr(a),p=1<<c;r[c]=-1,a&=~p}}function oq(r){if(at&6)throw Error(o(327));Qs();var a=zm(r,0);if(!(a&1))return Dn(r,Tt()),null;var c=Cg(r,a);if(r.tag!==0&&c===2){var p=Mw(r);p!==0&&(a=p,c=r2(r,p))}if(c===1)throw c=Od,dl(r,0),Ja(r,a),Dn(r,Tt()),c;if(c===6)throw Error(o(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,fl(r,zn,Jo),Dn(r,Tt()),null}function a2(r,a){var c=at;at|=1;try{return r(a)}finally{at=c,at===0&&(Xs=Tt()+500,eg&&$a())}}function cl(r){Qa!==null&&Qa.tag===0&&!(at&6)&&Qs();var a=at;at|=1;var c=ur.transition,p=ut;try{if(ur.transition=null,ut=1,r)return r()}finally{ut=p,ur.transition=c,at=a,!(at&6)&&$a()}}function i2(){$n=Gs.current,bt(Gs)}function dl(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,Fie(c)),Nt!==null)for(c=Nt.return;c!==null;){var p=c;switch(gx(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ym();break;case 3:$s(),bt(jn),bt(dn),Tx();break;case 5:jx(p);break;case 4:$s();break;case 13:bt(_t);break;case 19:bt(_t);break;case 10:xx(p.type._context);break;case 22:case 23:i2()}c=c.return}if(qt=r,Nt=r=ei(r.current,null),on=$n=a,Ut=0,Od=null,Jx=wg=ul=0,zn=Td=null,il!==null){for(a=0;a<il.length;a++)if(c=il[a],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,E=c.pending;if(E!==null){var T=E.next;E.next=w,p.next=T}c.pending=p}il=null}return r}function aq(r,a){do{var c=Nt;try{if(wx(),dg.current=mg,fg){for(var p=Pt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}fg=!1}if(sl=0,Wt=Mt=Pt=null,Ed=!1,_d=0,Yx.current=null,c===null||c.return===null){Ut=1,Od=a,Nt=null;break}e:{var E=r,T=c.return,H=c,Q=a;if(a=on,H.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var pe=Q,_e=H,Pe=_e.tag;if(!(_e.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=jW(T);if(Te!==null){Te.flags&=-257,OW(Te,T,H,E,a),Te.mode&1&&IW(E,pe,a),a=Te,Q=pe;var Be=a.updateQueue;if(Be===null){var Re=new Set;Re.add(Q),a.updateQueue=Re}else Be.add(Q);break e}else{if(!(a&1)){IW(E,pe,a),l2();break e}Q=Error(o(426))}}else if(wt&&H.mode&1){var zt=jW(T);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),OW(zt,T,H,E,a),bx(Ls(Q,H));break e}}E=Q=Ls(Q,H),Ut!==4&&(Ut=2),Td===null?Td=[E]:Td.push(E),E=T;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ie=PW(E,Q,a);GK(E,ie);break e;case 1:H=Q;var J=E.type,se=E.stateNode;if(!(E.flags&128)&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Xa===null||!Xa.has(se)))){E.flags|=65536,a&=-a,E.lanes|=a;var Ce=CW(E,H,a);GK(E,Ce);break e}}E=E.return}while(E!==null)}sq(c)}catch(Me){a=Me,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}while(!0)}function iq(){var r=kg.current;return kg.current=mg,r===null?mg:r}function l2(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),qt===null||!(ul&268435455)&&!(wg&268435455)||Ja(qt,on)}function Cg(r,a){var c=at;at|=2;var p=iq();(qt!==r||on!==a)&&(Jo=null,dl(r,a));do try{ule();break}catch(w){aq(r,w)}while(!0);if(wx(),at=c,kg.current=p,Nt!==null)throw Error(o(261));return qt=null,on=0,Ut}function ule(){for(;Nt!==null;)lq(Nt)}function cle(){for(;Nt!==null&&!Rae();)lq(Nt)}function lq(r){var a=dq(r.alternate,r,$n);r.memoizedProps=r.pendingProps,a===null?sq(r):Nt=a,Yx.current=null}function sq(r){var a=r;do{var c=a.alternate;if(r=a.return,a.flags&32768){if(c=rle(c,a),c!==null){c.flags&=32767,Nt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ut=6,Nt=null;return}}else if(c=nle(c,a,$n),c!==null){Nt=c;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=r}while(a!==null);Ut===0&&(Ut=5)}function fl(r,a,c){var p=ut,w=ur.transition;try{ur.transition=null,ut=1,dle(r,a,c,p)}finally{ur.transition=w,ut=p}return null}function dle(r,a,c,p){do Qs();while(Qa!==null);if(at&6)throw Error(o(327));c=r.finishedWork;var w=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(o(177));r.callbackNode=null,r.callbackPriority=0;var E=c.lanes|c.childLanes;if(Lae(r,E),r===qt&&(Nt=qt=null,on=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Sg||(Sg=!0,fq(Im,function(){return Qs(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=ur.transition,ur.transition=null;var T=ut;ut=1;var H=at;at|=4,Yx.current=null,ale(r,c),YW(c,r),Die(sx),Bm=!!lx,sx=lx=null,r.current=c,ile(c),Fae(),at=H,ut=T,ur.transition=E}else r.current=c;if(Sg&&(Sg=!1,Qa=r,Eg=w),E=r.pendingLanes,E===0&&(Xa=null),Vae(c.stateNode),Dn(r,Tt()),a!==null)for(p=r.onRecoverableError,c=0;c<a.length;c++)w=a[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(xg)throw xg=!1,r=t2,t2=null,r;return Eg&1&&r.tag!==0&&Qs(),E=r.pendingLanes,E&1?r===n2?zd++:(zd=0,n2=r):zd=0,$a(),null}function Qs(){if(Qa!==null){var r=LH(Eg),a=ur.transition,c=ut;try{if(ur.transition=null,ut=16>r?16:r,Qa===null)var p=!1;else{if(r=Qa,Qa=null,Eg=0,at&6)throw Error(o(331));var w=at;for(at|=4,De=r.current;De!==null;){var E=De,T=E.child;if(De.flags&16){var H=E.deletions;if(H!==null){for(var Q=0;Q<H.length;Q++){var pe=H[Q];for(De=pe;De!==null;){var _e=De;switch(_e.tag){case 0:case 11:case 15:jd(8,_e,E)}var Pe=_e.child;if(Pe!==null)Pe.return=_e,De=Pe;else for(;De!==null;){_e=De;var Ee=_e.sibling,Te=_e.return;if(LW(_e),_e===pe){De=null;break}if(Ee!==null){Ee.return=Te,De=Ee;break}De=Te}}}var Be=E.alternate;if(Be!==null){var Re=Be.child;if(Re!==null){Be.child=null;do{var zt=Re.sibling;Re.sibling=null,Re=zt}while(Re!==null)}}De=E}}if(E.subtreeFlags&2064&&T!==null)T.return=E,De=T;else e:for(;De!==null;){if(E=De,E.flags&2048)switch(E.tag){case 0:case 11:case 15:jd(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,De=ie;break e}De=E.return}}var J=r.current;for(De=J;De!==null;){T=De;var se=T.child;if(T.subtreeFlags&2064&&se!==null)se.return=T,De=se;else e:for(T=J;De!==null;){if(H=De,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:bg(9,H)}}catch(Me){Ct(H,H.return,Me)}if(H===T){De=null;break e}var Ce=H.sibling;if(Ce!==null){Ce.return=H.return,De=Ce;break e}De=H.return}}if(at=w,$a(),go&&typeof go.onPostCommitFiberRoot=="function")try{go.onPostCommitFiberRoot(jm,r)}catch{}p=!0}return p}finally{ut=c,ur.transition=a}}return!1}function uq(r,a,c){a=Ls(c,a),a=PW(r,a,1),r=Za(r,a,1),a=Sn(),r!==null&&(nd(r,1,a),Dn(r,a))}function Ct(r,a,c){if(r.tag===3)uq(r,r,c);else for(;a!==null;){if(a.tag===3){uq(a,r,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xa===null||!Xa.has(p))){r=Ls(c,r),r=CW(a,r,1),a=Za(a,r,1),r=Sn(),a!==null&&(nd(a,1,r),Dn(a,r));break}}a=a.return}}function fle(r,a,c){var p=r.pingCache;p!==null&&p.delete(a),a=Sn(),r.pingedLanes|=r.suspendedLanes&c,qt===r&&(on&c)===c&&(Ut===4||Ut===3&&(on&130023424)===on&&500>Tt()-e2?dl(r,0):Jx|=c),Dn(r,a)}function cq(r,a){a===0&&(r.mode&1?(a=Tm,Tm<<=1,!(Tm&130023424)&&(Tm=4194304)):a=1);var c=Sn();r=Xo(r,a),r!==null&&(nd(r,a,c),Dn(r,c))}function ple(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),cq(r,c)}function hle(r,a){var c=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(a),cq(r,c)}var dq;dq=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||jn.current)Tn=!0;else{if(!(r.lanes&c)&&!(a.flags&128))return Tn=!1,tle(r,a,c);Tn=!!(r.flags&131072)}else Tn=!1,wt&&a.flags&1048576&&HK(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;vg(r,a),r=a.pendingProps;var w=Ms(a,dn.current);Ws(a,c),w=Ax(null,a,p,r,w,c);var E=Bx();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(p)?(E=!0,Jm(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,_x(a),w.updater=sg,a.stateNode=w,w._reactInternals=a,Cx(a,p,r,c),a=Kx(null,a,p,!0,E,c)):(a.tag=0,wt&&E&&mx(a),xn(null,a,w,c),a=a.child),a;case 16:p=a.elementType;e:{switch(vg(r,a),r=a.pendingProps,w=p._init,p=w(p._payload),a.type=p,w=a.tag=gle(p),r=Mr(p,r),w){case 0:a=Hx(null,a,p,r,c);break e;case 1:a=NW(null,a,p,r,c);break e;case 11:a=TW(null,a,p,r,c);break e;case 14:a=zW(null,a,p,Mr(p.type,r),c);break e}throw Error(o(306,p,""))}return a;case 0:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Mr(p,w),Hx(r,a,p,w,c);case 1:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Mr(p,w),NW(r,a,p,w,c);case 3:e:{if(RW(a),r===null)throw Error(o(387));p=a.pendingProps,E=a.memoizedState,w=E.element,ZK(r,a),lg(a,p,null,c);var T=a.memoizedState;if(p=T.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=Ls(Error(o(423)),a),a=FW(r,a,p,c,w);break e}else if(p!==w){w=Ls(Error(o(424)),a),a=FW(r,a,p,c,w);break e}else for(qn=Ka(a.stateNode.containerInfo.firstChild),Wn=a,wt=!0,Fr=null,c=rW(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Hs(),p===w){a=Yo(r,a,c);break e}xn(r,a,p,c)}a=a.child}return a;case 5:return oW(a),r===null&&yx(a),p=a.type,w=a.pendingProps,E=r!==null?r.memoizedProps:null,T=w.children,ux(p,w)?T=null:E!==null&&ux(p,E)&&(a.flags|=32),BW(r,a),xn(r,a,T,c),a.child;case 6:return r===null&&yx(a),null;case 13:return MW(r,a,c);case 4:return Ix(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=qs(a,null,p,c):xn(r,a,p,c),a.child;case 11:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Mr(p,w),TW(r,a,p,w,c);case 7:return xn(r,a,a.pendingProps,c),a.child;case 8:return xn(r,a,a.pendingProps.children,c),a.child;case 12:return xn(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,w=a.pendingProps,E=a.memoizedProps,T=w.value,mt(og,p._currentValue),p._currentValue=T,E!==null)if(Rr(E.value,T)){if(E.children===w.children&&!jn.current){a=Yo(r,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var H=E.dependencies;if(H!==null){T=E.child;for(var Q=H.firstContext;Q!==null;){if(Q.context===p){if(E.tag===1){Q=Qo(-1,c&-c),Q.tag=2;var pe=E.updateQueue;if(pe!==null){pe=pe.shared;var _e=pe.pending;_e===null?Q.next=Q:(Q.next=_e.next,_e.next=Q),pe.pending=Q}}E.lanes|=c,Q=E.alternate,Q!==null&&(Q.lanes|=c),Sx(E.return,c,a),H.lanes|=c;break}Q=Q.next}}else if(E.tag===10)T=E.type===a.type?null:E.child;else if(E.tag===18){if(T=E.return,T===null)throw Error(o(341));T.lanes|=c,H=T.alternate,H!==null&&(H.lanes|=c),Sx(T,c,a),T=E.sibling}else T=E.child;if(T!==null)T.return=E;else for(T=E;T!==null;){if(T===a){T=null;break}if(E=T.sibling,E!==null){E.return=T.return,T=E;break}T=T.return}E=T}xn(r,a,w.children,c),a=a.child}return a;case 9:return w=a.type,p=a.pendingProps.children,Ws(a,c),w=lr(w),p=p(w),a.flags|=1,xn(r,a,p,c),a.child;case 14:return p=a.type,w=Mr(p,a.pendingProps),w=Mr(p.type,w),zW(r,a,p,w,c);case 15:return DW(r,a,a.type,a.pendingProps,c);case 17:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Mr(p,w),vg(r,a),a.tag=1,On(p)?(r=!0,Jm(a)):r=!1,Ws(a,c),JK(a,p,w),Cx(a,p,w,c),Kx(null,a,p,!0,r,c);case 19:return VW(r,a,c);case 22:return AW(r,a,c)}throw Error(o(156,a.tag))};function fq(r,a){return HH(r,a)}function mle(r,a,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(r,a,c,p){return new mle(r,a,c,p)}function s2(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gle(r){if(typeof r=="function")return s2(r)?1:0;if(r!=null){if(r=r.$$typeof,r===G)return 11;if(r===xe)return 14}return 2}function ei(r,a){var c=r.alternate;return c===null?(c=cr(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Ig(r,a,c,p,w,E){var T=2;if(p=r,typeof r=="function")s2(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case W:return pl(c.children,w,E,a);case B:T=8,w|=8;break;case Z:return r=cr(12,c,a,w|2),r.elementType=Z,r.lanes=E,r;case C:return r=cr(13,c,a,w),r.elementType=C,r.lanes=E,r;case Y:return r=cr(19,c,a,w),r.elementType=Y,r.lanes=E,r;case K:return jg(c,w,E,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:T=10;break e;case D:T=9;break e;case G:T=11;break e;case xe:T=14;break e;case q:T=16,p=null;break e}throw Error(o(130,r==null?r:typeof r,""))}return a=cr(T,c,a,w),a.elementType=r,a.type=p,a.lanes=E,a}function pl(r,a,c,p){return r=cr(7,r,p,a),r.lanes=c,r}function jg(r,a,c,p){return r=cr(22,r,p,a),r.elementType=K,r.lanes=c,r.stateNode={isHidden:!1},r}function u2(r,a,c){return r=cr(6,r,null,a),r.lanes=c,r}function c2(r,a,c){return a=cr(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function vle(r,a,c,p,w){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uw(0),this.expirationTimes=Uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uw(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function d2(r,a,c,p,w,E,T,H,Q){return r=new vle(r,a,c,H,Q),a===1?(a=1,E===!0&&(a|=8)):a=0,E=cr(3,null,null,a),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},_x(E),r}function yle(r,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:p==null?null:""+p,children:r,containerInfo:a,implementation:c}}function pq(r){if(!r)return qa;r=r._reactInternals;e:{if(tl(r)!==r||r.tag!==1)throw Error(o(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(o(171))}if(r.tag===1){var c=r.type;if(On(c))return MK(r,c,a)}return a}function hq(r,a,c,p,w,E,T,H,Q){return r=d2(c,p,!0,r,w,E,T,H,Q),r.context=pq(null),c=r.current,p=Sn(),w=Ya(c),E=Qo(p,w),E.callback=a??null,Za(c,E,w),r.current.lanes=w,nd(r,w,p),Dn(r,p),r}function Og(r,a,c,p){var w=a.current,E=Sn(),T=Ya(w);return c=pq(c),a.context===null?a.context=c:a.pendingContext=c,a=Qo(E,T),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=Za(w,a,T),r!==null&&(Hr(r,w,T,E),ig(r,w,T)),T}function Tg(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function mq(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function f2(r,a){mq(r,a),(r=r.alternate)&&mq(r,a)}function ble(){return null}var gq=typeof reportError=="function"?reportError:function(r){console.error(r)};function p2(r){this._internalRoot=r}zg.prototype.render=p2.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(o(409));Og(r,a,null,null)},zg.prototype.unmount=p2.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;cl(function(){Og(null,r,null,null)}),a[$o]=null}};function zg(r){this._internalRoot=r}zg.prototype.unstable_scheduleHydration=function(r){if(r){var a=XH();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Ua.length&&a!==0&&a<Ua[c].priority;c++);Ua.splice(c,0,r),c===0&&JH(r)}};function h2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Dg(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function vq(){}function kle(r,a,c,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var pe=Tg(T);E.call(pe)}}var T=hq(a,p,r,0,null,!1,!1,"",vq);return r._reactRootContainer=T,r[$o]=T.current,gd(r.nodeType===8?r.parentNode:r),cl(),T}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var H=p;p=function(){var pe=Tg(Q);H.call(pe)}}var Q=d2(r,0,!1,null,null,!1,!1,"",vq);return r._reactRootContainer=Q,r[$o]=Q.current,gd(r.nodeType===8?r.parentNode:r),cl(function(){Og(a,Q,c,p)}),Q}function Ag(r,a,c,p,w){var E=c._reactRootContainer;if(E){var T=E;if(typeof w=="function"){var H=w;w=function(){var Q=Tg(T);H.call(Q)}}Og(a,T,r,w)}else T=kle(c,a,r,w,p);return Tg(T)}ZH=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=td(a.pendingLanes);c!==0&&(Vw(a,c|1),Dn(a,Tt()),!(at&6)&&(Xs=Tt()+500,$a()))}break;case 13:cl(function(){var p=Xo(r,1);if(p!==null){var w=Sn();Hr(p,r,1,w)}}),f2(r,1)}},Hw=function(r){if(r.tag===13){var a=Xo(r,134217728);if(a!==null){var c=Sn();Hr(a,r,134217728,c)}f2(r,134217728)}},GH=function(r){if(r.tag===13){var a=Ya(r),c=Xo(r,a);if(c!==null){var p=Sn();Hr(c,r,a,p)}f2(r,a)}},XH=function(){return ut},QH=function(r,a){var c=ut;try{return ut=r,a()}finally{ut=c}},Is=function(r,a,c){switch(a){case"input":if(F(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==r&&p.form===r.form){var w=Qm(p);if(!w)throw Error(o(90));it(p),F(p,w)}}}break;case"textarea":we(r,c);break;case"select":a=c.value,a!=null&&ae(r,!!c.multiple,a,!1)}},BH=a2,NH=cl;var wle={usingClientEntryPoint:!1,Events:[bd,Rs,Qm,DH,AH,a2]},Dd={findFiberByHostInstance:nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xle={bundleType:Dd.bundleType,version:Dd.version,rendererPackageName:Dd.rendererPackageName,rendererConfig:Dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=UH(r),r===null?null:r.stateNode},findFiberByHostInstance:Dd.findFiberByHostInstance||ble,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Ad.isDisabled&&Ad.supportsFiber))try{jm=Ad.inject(xle),go=Ad}catch{}var Ad;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wle,e.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h2(a))throw Error(o(200));return yle(r,a,null,c)},e.createRoot=function(r,a){if(!h2(r))throw Error(o(299));var c=!1,p="",w=gq;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=d2(r,1,!1,null,null,c,!1,p,w),r[$o]=a.current,gd(r.nodeType===8?r.parentNode:r),new p2(a)},e.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=UH(a),r=r===null?null:r.stateNode,r},e.flushSync=function(r){return cl(r)},e.hydrate=function(r,a,c){if(!Dg(a))throw Error(o(200));return Ag(null,r,a,!0,c)},e.hydrateRoot=function(r,a,c){if(!h2(r))throw Error(o(405));var p=c!=null&&c.hydratedSources||null,w=!1,E="",T=gq;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=hq(a,null,r,1,c??null,w,!1,E,T),r[$o]=a.current,gd(r),p)for(r=0;r<p.length;r++)c=p[r],w=c._getVersion,w=w(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,w]:a.mutableSourceEagerHydrationData.push(c,w);return new zg(a)},e.render=function(r,a,c){if(!Dg(a))throw Error(o(200));return Ag(null,r,a,!1,c)},e.unmountComponentAtNode=function(r){if(!Dg(r))throw Error(o(40));return r._reactRootContainer?(cl(function(){Ag(null,null,r,!1,function(){r._reactRootContainer=null,r[$o]=null})}),!0):!1},e.unstable_batchedUpdates=a2,e.unstable_renderSubtreeIntoContainer=function(r,a,c,p){if(!Dg(c))throw Error(o(200));if(r==null||r._reactInternals===void 0)throw Error(o(38));return Ag(r,a,c,!1,p)},e.version="18.2.0-next-9e3b772b8-20220608"}),xo=He((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}n(),t.exports=gX()});function vX(e){let[,t]=(0,sa.useState)(0);return(0,sa.useCallback)(()=>{t(n=>n+1)},[])}function Xe(e,t,n){let o=(0,sa.useCallback)(e,t),i=(0,sa.useRef)(null);i.current?i.current.set(o):i.current=new wf.Atom(o);let l=(0,sa.useRef)(null);return l.current||(l.current=(0,wf.prism)(()=>i.current.prism.getValue()())),cv(l.current,n)}function yX(){xf||(xf=!0,(0,n3.default)(()=>{(0,r3.unstable_batchedUpdates)(function(){for(var e,t;gr.length>0;){let n=gr.shift();Il.delete(n);let o;ci&&((e=n.debug)==null||e.history.push("queue reached"));try{o=n.der.getValue()}catch(i){ci&&((t=n.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),n.runUpdate();continue}o!==n.lastValue&&(n.lastValue=o,n.runUpdate())}xf=!1},1)}))}function cv(e,t){var n;let o=vX(),i=(0,sa.useRef)(void 0);i.current||(dv++,i.current={order:dv,runUpdate:()=>{i.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var s;ci&&((s=i.current.debug)==null||s.history.push("queueUpdate()")),o3(i.current)},untap:e.onStale(()=>{ci&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()})},ci&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,sa.useLayoutEffect)(()=>function(){i.current.unmounted=!0,i.current.untap(),fv(i.current)},[]),fv(i.current);let l=i.current.der.getValue();return i.current.lastValue=l,ci&&((n=i.current.debug)==null||n.history.push("rendered")),l}var wf,n3,sa,r3,ci,Qe,dv,gr,Il,xf,o3,a3,fv,Fe=P(()=>{wf=je,Rt(),n3=$(fX()),sa=$(X()),r3=$(xo()),ci=!1,Qe=(e,t)=>Xe(()=>(0,wf.val)(e),[e],t),dv=0,gr=[],Il=new Set,xf=!1,o3=e=>{a3(e),yX()},a3=e=>{if(!Il.has(e))if(Il.add(e),gr.length===0)gr.push(e);else{let t=av(gr,n=>n.order>=e.order);t===-1?gr.push(e):gr[t].order>e.order&&gr.splice(t,0,e)}},fv=e=>{if(!Il.has(e))return;Il.delete(e);let t=av(gr,n=>n===e);gr.splice(t,1)}}),bX=He(e=>{var t=60103,n=60106,o=60107,i=60108,l=60114,s=60109,u=60110,d=60112,f=60113,m=60120,v=60115,g=60116,h=60121,b=60122,y=60117,k=60129,x=60131;typeof Symbol=="function"&&Symbol.for&&(S=Symbol.for,t=S("react.element"),n=S("react.portal"),o=S("react.fragment"),i=S("react.strict_mode"),l=S("react.profiler"),s=S("react.provider"),u=S("react.context"),d=S("react.forward_ref"),f=S("react.suspense"),m=S("react.suspense_list"),v=S("react.memo"),g=S("react.lazy"),h=S("react.block"),b=S("react.server.block"),y=S("react.fundamental"),k=S("react.debug_trace_mode"),x=S("react.legacy_hidden"));var S;function _(C){if(typeof C=="object"&&C!==null){var Y=C.$$typeof;switch(Y){case t:switch(C=C.type,C){case o:case l:case i:case f:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case d:case g:case v:case s:return C;default:return Y}}case n:return Y}}}var O=s,j=t,z=d,V=o,W=g,B=v,Z=n,re=l,D=i,G=f;e.ContextConsumer=u,e.ContextProvider=O,e.Element=j,e.ForwardRef=z,e.Fragment=V,e.Lazy=W,e.Memo=B,e.Portal=Z,e.Profiler=re,e.StrictMode=D,e.Suspense=G,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(C){return _(C)===u},e.isContextProvider=function(C){return _(C)===s},e.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},e.isForwardRef=function(C){return _(C)===d},e.isFragment=function(C){return _(C)===o},e.isLazy=function(C){return _(C)===g},e.isMemo=function(C){return _(C)===v},e.isPortal=function(C){return _(C)===n},e.isProfiler=function(C){return _(C)===l},e.isStrictMode=function(C){return _(C)===i},e.isSuspense=function(C){return _(C)===f},e.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===o||C===l||C===k||C===i||C===f||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===g||C.$$typeof===v||C.$$typeof===s||C.$$typeof===u||C.$$typeof===d||C.$$typeof===y||C.$$typeof===h||C[0]===b)},e.typeOf=_}),kX=He((e,t)=>{t.exports=bX()}),i3=He((e,t)=>{t.exports=function(n,o,i,l){var s=i?i.call(l,n,o):void 0;if(s!==void 0)return!!s;if(n===o)return!0;if(typeof n!="object"||!n||typeof o!="object"||!o)return!1;var u=Object.keys(n),d=Object.keys(o);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(o),m=0;m<u.length;m++){var v=u[m];if(!f(v))return!1;var g=n[v],h=o[v];if(s=i?i.call(l,g,h,v):void 0,s===!1||s===void 0&&g!==h)return!1}return!0}});function wX(e){function t(N,oe,le,ue,te){for(var Oe=0,me=0,Ie=0,Ae=0,We,Ve,it=0,I=0,fe,ce=fe=We=0,U=0,F=0,ne=0,ve=0,ke=le.length,ae=ke-1,Se,ye="",we="",Ue="",ot="",Ze;U<ke;){if(Ve=le.charCodeAt(U),U===ae&&me+Ae+Ie+Oe!==0&&(me!==0&&(Ve=me===47?10:47),Ae=Ie=Oe=0,ke++,ae++),me+Ae+Ie+Oe===0){if(U===ae&&(0<F&&(ye=ye.replace(g,"")),0<ye.trim().length)){switch(Ve){case 32:case 9:case 59:case 13:case 10:break;default:ye+=le.charAt(U)}Ve=59}switch(Ve){case 123:for(ye=ye.trim(),We=ye.charCodeAt(0),fe=1,ve=++U;U<ke;){switch(Ve=le.charCodeAt(U)){case 123:fe++;break;case 125:fe--;break;case 47:switch(Ve=le.charCodeAt(U+1)){case 42:case 47:e:{for(ce=U+1;ce<ae;++ce)switch(le.charCodeAt(ce)){case 47:if(Ve===42&&le.charCodeAt(ce-1)===42&&U+2!==ce){U=ce+1;break e}break;case 10:if(Ve===47){U=ce+1;break e}}U=ce}}break;case 91:Ve++;case 40:Ve++;case 34:case 39:for(;U++<ae&&le.charCodeAt(U)!==Ve;);}if(fe===0)break;U++}switch(fe=le.substring(ve,U),We===0&&(We=(ye=ye.replace(v,"").trim()).charCodeAt(0)),We){case 64:switch(0<F&&(ye=ye.replace(g,"")),Ve=ye.charCodeAt(1),Ve){case 100:case 109:case 115:case 45:F=oe;break;default:F=xe}if(fe=t(oe,F,fe,Ve,te+1),ve=fe.length,0<K&&(F=n(xe,ye,ne),Ze=u(3,fe,F,oe,G,D,ve,Ve,te,ue),ye=F.join(""),Ze!==void 0&&(ve=(fe=Ze.trim()).length)===0&&(Ve=0,fe="")),0<ve)switch(Ve){case 115:ye=ye.replace(z,s);case 100:case 109:case 45:fe=ye+"{"+fe+"}";break;case 107:ye=ye.replace(S,"$1 $2"),fe=ye+"{"+fe+"}",fe=Y===1||Y===2&&l("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=ye+fe,ue===112&&(fe=(we+=fe,""))}else fe="";break;default:fe=t(oe,n(oe,ye,ne),fe,ue,te+1)}Ue+=fe,fe=ne=F=ce=We=0,ye="",Ve=le.charCodeAt(++U);break;case 125:case 59:if(ye=(0<F?ye.replace(g,""):ye).trim(),1<(ve=ye.length))switch(ce===0&&(We=ye.charCodeAt(0),We===45||96<We&&123>We)&&(ve=(ye=ye.replace(" ",":")).length),0<K&&(Ze=u(1,ye,oe,N,G,D,we.length,ue,te,ue))!==void 0&&(ve=(ye=Ze.trim()).length)===0&&(ye="\0\0"),We=ye.charCodeAt(0),Ve=ye.charCodeAt(1),We){case 0:break;case 64:if(Ve===105||Ve===99){ot+=ye+le.charAt(U);break}default:ye.charCodeAt(ve-1)!==58&&(we+=i(ye,We,Ve,ye.charCodeAt(2)))}ne=F=ce=We=0,ye="",Ve=le.charCodeAt(++U)}}switch(Ve){case 13:case 10:me===47?me=0:1+We===0&&ue!==107&&0<ye.length&&(F=1,ye+="\0"),0<K*ge&&u(0,ye,oe,N,G,D,we.length,ue,te,ue),D=1,G++;break;case 59:case 125:if(me+Ae+Ie+Oe===0){D++;break}default:switch(D++,Se=le.charAt(U),Ve){case 9:case 32:if(Ae+Oe+me===0)switch(it){case 44:case 58:case 9:case 32:Se="";break;default:Ve!==32&&(Se=" ")}break;case 0:Se="\\0";break;case 12:Se="\\f";break;case 11:Se="\\v";break;case 38:Ae+me+Oe===0&&(F=ne=1,Se="\f"+Se);break;case 108:if(Ae+me+Oe+C===0&&0<ce)switch(U-ce){case 2:it===112&&le.charCodeAt(U-3)===58&&(C=it);case 8:I===111&&(C=I)}break;case 58:Ae+me+Oe===0&&(ce=U);break;case 44:me+Ie+Ae+Oe===0&&(F=1,Se+="\r");break;case 34:case 39:me===0&&(Ae=Ae===Ve?0:Ae===0?Ve:Ae);break;case 91:Ae+me+Ie===0&&Oe++;break;case 93:Ae+me+Ie===0&&Oe--;break;case 41:Ae+me+Oe===0&&Ie--;break;case 40:if(Ae+me+Oe===0){if(We===0)switch(2*it+3*I){case 533:break;default:We=1}Ie++}break;case 64:me+Ie+Ae+Oe+ce+fe===0&&(fe=1);break;case 42:case 47:if(!(0<Ae+Oe+Ie))switch(me){case 0:switch(2*Ve+3*le.charCodeAt(U+1)){case 235:me=47;break;case 220:ve=U,me=42}break;case 42:Ve===47&&it===42&&ve+2!==U&&(le.charCodeAt(ve+2)===33&&(we+=le.substring(ve,U+1)),Se="",me=0)}}me===0&&(ye+=Se)}I=it,it=Ve,U++}if(ve=we.length,0<ve){if(F=oe,0<K&&(Ze=u(2,we,F,N,G,D,ve,ue,te,ue),Ze!==void 0&&(we=Ze).length===0))return ot+we+Ue;if(we=F.join(",")+"{"+we+"}",Y*C!==0){switch(Y!==2||l(we,2)||(C=0),C){case 111:we=we.replace(O,":-moz-$1")+we;break;case 112:we=we.replace(_,"::-webkit-input-$1")+we.replace(_,"::-moz-$1")+we.replace(_,":-ms-input-$1")+we}C=0}}return ot+we+Ue}function n(N,oe,le){var ue=oe.trim().split(k);oe=ue;var te=ue.length,Oe=N.length;switch(Oe){case 0:case 1:var me=0;for(N=Oe===0?"":N[0]+" ";me<te;++me)oe[me]=o(N,oe[me],le).trim();break;default:var Ie=me=0;for(oe=[];me<te;++me)for(var Ae=0;Ae<Oe;++Ae)oe[Ie++]=o(N[Ae]+" ",ue[me],le).trim()}return oe}function o(N,oe,le){var ue=oe.charCodeAt(0);switch(33>ue&&(ue=(oe=oe.trim()).charCodeAt(0)),ue){case 38:return oe.replace(x,"$1"+N.trim());case 58:return N.trim()+oe.replace(x,"$1"+N.trim());default:if(0<1*le&&0<oe.indexOf("\f"))return oe.replace(x,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+oe}function i(N,oe,le,ue){var te=N+";",Oe=2*oe+3*le+4*ue;if(Oe===944){N=te.indexOf(":",9)+1;var me=te.substring(N,te.length-1).trim();return me=te.substring(0,N).trim()+me+";",Y===1||Y===2&&l(me,1)?"-webkit-"+me+me:me}if(Y===0||Y===2&&!l(te,1))return te;switch(Oe){case 1015:return te.charCodeAt(10)===97?"-webkit-"+te+te:te;case 951:return te.charCodeAt(3)===116?"-webkit-"+te+te:te;case 963:return te.charCodeAt(5)===110?"-webkit-"+te+te:te;case 1009:if(te.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+te+te;case 978:return"-webkit-"+te+"-moz-"+te+te;case 1019:case 983:return"-webkit-"+te+"-moz-"+te+"-ms-"+te+te;case 883:if(te.charCodeAt(8)===45)return"-webkit-"+te+te;if(0<te.indexOf("image-set(",11))return te.replace(re,"$1-webkit-$2")+te;break;case 932:if(te.charCodeAt(4)===45)switch(te.charCodeAt(5)){case 103:return"-webkit-box-"+te.replace("-grow","")+"-webkit-"+te+"-ms-"+te.replace("grow","positive")+te;case 115:return"-webkit-"+te+"-ms-"+te.replace("shrink","negative")+te;case 98:return"-webkit-"+te+"-ms-"+te.replace("basis","preferred-size")+te}return"-webkit-"+te+"-ms-"+te+te;case 964:return"-webkit-"+te+"-ms-flex-"+te+te;case 1023:if(te.charCodeAt(8)!==99)break;return me=te.substring(te.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+me+"-webkit-"+te+"-ms-flex-pack"+me+te;case 1005:return b.test(te)?te.replace(h,":-webkit-")+te.replace(h,":-moz-")+te:te;case 1e3:switch(me=te.substring(13).trim(),oe=me.indexOf("-")+1,me.charCodeAt(0)+me.charCodeAt(oe)){case 226:me=te.replace(j,"tb");break;case 232:me=te.replace(j,"tb-rl");break;case 220:me=te.replace(j,"lr");break;default:return te}return"-webkit-"+te+"-ms-"+me+te;case 1017:if(te.indexOf("sticky",9)===-1)break;case 975:switch(oe=(te=N).length-10,me=(te.charCodeAt(oe)===33?te.substring(0,oe):te).substring(N.indexOf(":",7)+1).trim(),Oe=me.charCodeAt(0)+(me.charCodeAt(7)|0)){case 203:if(111>me.charCodeAt(8))break;case 115:te=te.replace(me,"-webkit-"+me)+";"+te;break;case 207:case 102:te=te.replace(me,"-webkit-"+(102<Oe?"inline-":"")+"box")+";"+te.replace(me,"-webkit-"+me)+";"+te.replace(me,"-ms-"+me+"box")+";"+te}return te+";";case 938:if(te.charCodeAt(5)===45)switch(te.charCodeAt(6)){case 105:return me=te.replace("-items",""),"-webkit-"+te+"-webkit-box-"+me+"-ms-flex-"+me+te;case 115:return"-webkit-"+te+"-ms-flex-item-"+te.replace(W,"")+te;default:return"-webkit-"+te+"-ms-flex-line-pack"+te.replace("align-content","").replace(W,"")+te}break;case 973:case 989:if(te.charCodeAt(3)!==45||te.charCodeAt(4)===122)break;case 931:case 953:if(Z.test(N)===!0)return(me=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),oe,le,ue).replace(":fill-available",":stretch"):te.replace(me,"-webkit-"+me)+te.replace(me,"-moz-"+me.replace("fill-",""))+te;break;case 962:if(te="-webkit-"+te+(te.charCodeAt(5)===102?"-ms-"+te:"")+te,le+ue===211&&te.charCodeAt(13)===105&&0<te.indexOf("transform",10))return te.substring(0,te.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+te}return te}function l(N,oe){var le=N.indexOf(oe===1?":":"{"),ue=N.substring(0,oe!==3?le:10);return le=N.substring(le+1,N.length-1),ee(oe!==2?ue:ue.replace(B,"$1"),le,oe)}function s(N,oe){var le=i(oe,oe.charCodeAt(0),oe.charCodeAt(1),oe.charCodeAt(2));return le!==oe+";"?le.replace(V," or ($1)").substring(4):"("+oe+")"}function u(N,oe,le,ue,te,Oe,me,Ie,Ae,We){for(var Ve=0,it=oe,I;Ve<K;++Ve)switch(I=q[Ve].call(m,N,it,le,ue,te,Oe,me,Ie,Ae,We)){case void 0:case!1:case!0:case null:break;default:it=I}if(it!==oe)return it}function d(N){switch(N){case void 0:case null:K=q.length=0;break;default:if(typeof N=="function")q[K++]=N;else if(typeof N=="object")for(var oe=0,le=N.length;oe<le;++oe)d(N[oe]);else ge=!!N|0}return d}function f(N){return N=N.prefix,N!==void 0&&(ee=null,N?typeof N!="function"?Y=1:(Y=2,ee=N):Y=0),f}function m(N,oe){var le=N;if(33>le.charCodeAt(0)&&(le=le.trim()),A=le,le=[A],0<K){var ue=u(-1,oe,le,le,G,D,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(oe=ue)}var te=t(xe,le,oe,0,0);return 0<K&&(ue=u(-2,te,le,le,G,D,te.length,0,0,0),ue!==void 0&&(te=ue)),A="",C=0,D=G=1,te}var v=/^\0+/g,g=/[\0\r\f]/g,h=/: */g,b=/zoo|gra/,y=/([,: ])(transform)/g,k=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,S=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,O=/:(read-only)/g,j=/[svh]\w+-[tblr]{2}/,z=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,W=/-self|flex-/g,B=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Z=/stretch|:\s*\w+\-(?:conte|avail)/,re=/([^-])(image-set\()/,D=1,G=1,C=0,Y=1,xe=[],q=[],K=0,ee=null,ge=0,A="";return m.use=d,m.set=f,e!==void 0&&f(e),m}var l3,xX=P(()=>{l3=wX}),s3,u3,SX=P(()=>{s3={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u3=s3});function EX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var c3,_X=P(()=>{c3=EX}),d3,f3,pv,PX=P(()=>{_X(),d3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f3=c3(function(e){return d3.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),pv=f3}),CX=He(e=>{var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,v=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function O(z){if(typeof z=="object"&&z!==null){var V=z.$$typeof;switch(V){case n:switch(z=z.type,z){case f:case m:case i:case s:case l:case g:return z;default:switch(z=z&&z.$$typeof,z){case d:case v:case y:case b:case u:return z;default:return V}}case o:return V}}}function j(z){return O(z)===m}e.AsyncMode=f,e.ConcurrentMode=m,e.ContextConsumer=d,e.ContextProvider=u,e.Element=n,e.ForwardRef=v,e.Fragment=i,e.Lazy=y,e.Memo=b,e.Portal=o,e.Profiler=s,e.StrictMode=l,e.Suspense=g,e.isAsyncMode=function(z){return j(z)||O(z)===f},e.isConcurrentMode=j,e.isContextConsumer=function(z){return O(z)===d},e.isContextProvider=function(z){return O(z)===u},e.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},e.isForwardRef=function(z){return O(z)===v},e.isFragment=function(z){return O(z)===i},e.isLazy=function(z){return O(z)===y},e.isMemo=function(z){return O(z)===b},e.isPortal=function(z){return O(z)===o},e.isProfiler=function(z){return O(z)===s},e.isStrictMode=function(z){return O(z)===l},e.isSuspense=function(z){return O(z)===g},e.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===m||z===s||z===l||z===g||z===h||typeof z=="object"&&z!==null&&(z.$$typeof===y||z.$$typeof===b||z.$$typeof===u||z.$$typeof===d||z.$$typeof===v||z.$$typeof===x||z.$$typeof===S||z.$$typeof===_||z.$$typeof===k)},e.typeOf=O}),IX=He((e,t)=>{t.exports=CX()}),jX=He((e,t)=>{var n=IX(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=l,u[n.Memo]=s;function d(k){return n.isMemo(k)?s:u[k.$$typeof]||o}var f=Object.defineProperty,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,b=Object.prototype;function y(k,x,S){if(typeof x!="string"){if(b){var _=h(x);_&&_!==b&&y(k,_,S)}var O=m(x);v&&(O=O.concat(v(x)));for(var j=d(k),z=d(x),V=0;V<O.length;++V){var W=O[V];if(!i[W]&&!(S&&S[W])&&!(z&&z[W])&&!(j&&j[W])){var B=g(x,W);try{f(k,W,B)}catch{}}}}return k}t.exports=y});function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function bu(e){return typeof e=="function"}function p3(e){return e.displayName||e.name||"Component"}function hv(e){return e&&typeof e.styledComponentId=="string"}function So(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function mv(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=xv(t%52)+n;return(xv(t%52)+n).replace(R3,"$1-$2")}function h3(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(bu(n)&&!hv(n))return!1}return!0}function m3(e){var t,n,o,i,l=e===void 0?Eo:e,s=l.options,u=s===void 0?Eo:s,d=l.plugins,f=d===void 0?ku:d,m=new l3(u),v=[],g=function(y){function k(x){if(x)try{y(x+"}")}catch{}}return function(x,S,_,O,j,z,V,W,B,Z){switch(x){case 1:if(B===0&&S.charCodeAt(0)===64)return y(S+";"),"";break;case 2:if(W===0)return S+"/*|*/";break;case 3:switch(W){case 102:case 112:return y(_[0]+S),"";default:return S+(Z===0?"/*|*/":"")}case-2:S.split("/*|*/}").forEach(k)}}}(function(y){v.push(y)}),h=function(y,k,x){return k===0&&V3.indexOf(x[n.length])!==-1||x.match(i)?y:"."+t};function b(y,k,x,S){S===void 0&&(S="&");var _=y.replace(U3,""),O=k&&x?x+" "+k+" { "+_+" }":_;return t=S,n=k,o=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),m(x||!k?"":k,O)}return m.use([].concat(f,[function(y,k,x){y===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(o,h))},g,function(y){if(y===-2){var k=v;return v=[],k}}])),b.hash=f.length?f.reduce(function(y,k){return k.name||So(15),fi(y,k.name)},5381).toString():"",b}function gv(){return(0,It.useContext)(Cf)||H3}function g3(){return(0,It.useContext)(If)||jf}function v3(e){var t=(0,It.useState)(e.stylisPlugins),n=t[0],o=t[1],i=gv(),l=(0,It.useMemo)(function(){var u=i;return e.sheet?u=e.sheet:e.target&&(u=u.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,It.useMemo)(function(){return m3({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,It.useEffect)(function(){(0,x3.default)(n,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),It.default.createElement(Cf.Provider,{value:l},It.default.createElement(If.Provider,{value:s},e.children))}function y3(e){return W3.test(e)?e.replace(q3,L3).replace($3,"-ms-"):e}function di(e,t,n,o){if(Array.isArray(e)){for(var i,l=[],s=0,u=e.length;s<u;s+=1)(i=di(e[s],t,n,o))!==""&&(Array.isArray(i)?l.push.apply(l,i):l.push(i));return l}if(Ev(e))return"";if(hv(e))return"."+e.styledComponentId;if(bu(e)){if(typeof(f=e)!="function"||f.prototype&&f.prototype.isReactComponent||!t)return e;var d=e(t);return di(d,t,n,o)}var f;return e instanceof K3?n?(e.inject(n,o),e.getName(o)):e:Ef(e)?function m(v,g){var h,b,y=[];for(var k in v)v.hasOwnProperty(k)&&!Ev(v[k])&&(Array.isArray(v[k])&&v[k].isCss||bu(v[k])?y.push(y3(k)+":",v[k],";"):Ef(v[k])?y.push.apply(y,m(v[k],k)):y.push(y3(k)+": "+(h=k,(b=v[k])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||h in u3||h.startsWith("--")?String(b).trim():b+"px")+";"));return g?[g+" {"].concat(y,["}"]):y}(e):e.toString()}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return bu(e)||Ef(e)?_v(di(bv(ku,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:_v(di(bv(e,n)))}function vv(e){return e.replace(Z3,"-").replace(G3,"")}function Sf(e){return typeof e=="string"&&!0}function OX(e,t,n){var o=e[n];Of(t)&&Of(o)?b3(o,t):e[n]=t}function b3(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var i=0,l=n;i<l.length;i++){var s=l[i];if(Of(s))for(var u in s)X3(u)&&OX(e,s[u],u)}return e}function k3(e,t,n){var o=hv(e),i=!Sf(e),l=t.attrs,s=l===void 0?ku:l,u=t.componentId,d=u===void 0?function(S,_){var O=typeof S!="string"?"sc":vv(S);zf[O]=(zf[O]||0)+1;var j=O+"-"+Cv("5.3.11"+O+zf[O]);return _?_+"-"+j:j}(t.displayName,t.parentComponentId):u,f=t.displayName,m=f===void 0?function(S){return Sf(S)?"styled."+S:"Styled("+p3(S)+")"}(e):f,v=t.displayName&&t.componentId?vv(t.displayName)+"-"+t.componentId:t.componentId||d,g=o&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;o&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(S,_,O){return e.shouldForwardProp(S,_,O)&&t.shouldForwardProp(S,_,O)}:e.shouldForwardProp);var b,y=new M3(n,v,o?e.componentStyle:void 0),k=y.isStatic&&s.length===0,x=function(S,_){return function(O,j,z,V){var W=O.attrs,B=O.componentStyle,Z=O.defaultProps,re=O.foldedComponentIds,D=O.shouldForwardProp,G=O.styledComponentId,C=O.target,Y=function(ue,te,Oe){ue===void 0&&(ue=Eo);var me=vr({},te,{theme:ue}),Ie={};return Oe.forEach(function(Ae){var We,Ve,it,I=Ae;for(We in bu(I)&&(I=I(me)),I)me[We]=Ie[We]=We==="className"?(Ve=Ie[We],it=I[We],Ve&&it?Ve+" "+it:Ve||it):I[We]}),[me,Ie]}(Pv(j,(0,It.useContext)(Tf),Z)||Eo,j,W),xe=Y[0],q=Y[1],K=function(ue,te,Oe,me){var Ie=gv(),Ae=g3(),We=te?ue.generateAndInjectStyles(Eo,Ie,Ae):ue.generateAndInjectStyles(Oe,Ie,Ae);return We}(B,V,xe),ee=z,ge=q.$as||j.$as||q.as||j.as||C,A=Sf(ge),N=q!==j?vr({},j,{},q):j,oe={};for(var le in N)le[0]!=="$"&&le!=="as"&&(le==="forwardedAs"?oe.as=N[le]:(D?D(le,pv,ge):!A||pv(le))&&(oe[le]=N[le]));return j.style&&q.style!==j.style&&(oe.style=vr({},j.style,{},q.style)),oe.className=Array.prototype.concat(re,G,K!==G?K:null,j.className,q.className).filter(Boolean).join(" "),oe.ref=ee,(0,It.createElement)(ge,oe)}(b,S,_,k)};return x.displayName=m,(b=It.default.forwardRef(x)).attrs=g,b.componentStyle=y,b.displayName=m,b.shouldForwardProp=h,b.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ku,b.styledComponentId=v,b.target=o?e.target:e,b.withComponent=function(S){var _=t.componentId,O=function(z,V){if(z==null)return{};var W,B,Z={},re=Object.keys(z);for(B=0;B<re.length;B++)W=re[B],V.indexOf(W)>=0||(Z[W]=z[W]);return Z}(t,["componentId"]),j=_&&_+"-"+(Sf(S)?S:vv(p3(S)));return k3(S,vr({},O,{attrs:g,componentId:j}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=o?b3({},e.defaultProps,S):S}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),i&&(0,S3.default)(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}function w3(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=Nn.apply(void 0,[e].concat(n)),l="sc-global-"+Cv(JSON.stringify(i)),s=new Q3(i,l);function u(f){var m=gv(),v=g3(),g=(0,It.useContext)(Tf),h=(0,It.useRef)(m.allocateGSInstance(l)).current;return m.server&&d(h,f,m,g,v),(0,It.useLayoutEffect)(function(){if(!m.server)return d(h,f,m,g,v),function(){return s.removeStyles(h,m)}},[h,f,m,g,v]),null}function d(f,m,v,g,h){if(s.isStatic)s.renderStyles(f,_3,v,h);else{var b=vr({},m,{theme:Pv(m,g,u.defaultProps)});s.renderStyles(f,b,v,h)}}return It.default.memo(u)}var yv,It,x3,S3,bv,Ef,ku,Eo,_o,_f,E3,_3,P3,wu,xu,jl,Su,C3,I3,j3,O3,T3,z3,Pf,kv,D3,A3,B3,wv,N3,Ol,R3,xv,fi,Sv,F3,M3,U3,V3,Cf,If,H3,jf,K3,W3,q3,$3,L3,Ev,_v,Pv,Z3,G3,Cv,Of,X3,Tf,zf,Df,Q3,M,be=P(()=>{yv=$(kX()),It=$(X()),x3=$(i3()),xX(),SX(),PX(),S3=$(jX()),bv=function(e,t){for(var n=[e[0]],o=0,i=t.length;o<i;o+=1)n.push(t[o],e[o+1]);return n},Ef=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,yv.typeOf)(e)},ku=Object.freeze([]),Eo=Object.freeze({}),_o=typeof process<"u"&&En!==void 0&&(En.REACT_APP_SC_ATTR||En.SC_ATTR)||"data-styled",_f=typeof window<"u"&&"HTMLElement"in window,E3=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&En!==void 0&&(En.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&En.REACT_APP_SC_DISABLE_SPEEDY!==""?En.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&En.REACT_APP_SC_DISABLE_SPEEDY:En.SC_DISABLE_SPEEDY!==void 0&&En.SC_DISABLE_SPEEDY!==""&&En.SC_DISABLE_SPEEDY!=="false"&&En.SC_DISABLE_SPEEDY)),_3={},P3=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var o=0,i=0;i<n;i++)o+=this.groupSizes[i];return o},t.insertRules=function(n,o){if(n>=this.groupSizes.length){for(var i=this.groupSizes,l=i.length,s=l;n>=s;)(s<<=1)<0&&So(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var u=l;u<s;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(n+1),f=0,m=o.length;f<m;f++)this.tag.insertRule(d,o[f])&&(this.groupSizes[n]++,d++)},t.clearGroup=function(n){if(n<this.length){var o=this.groupSizes[n],i=this.indexOfGroup(n),l=i+o;this.groupSizes[n]=0;for(var s=i;s<l;s++)this.tag.deleteRule(i)}},t.getGroup=function(n){var o="";if(n>=this.length||this.groupSizes[n]===0)return o;for(var i=this.groupSizes[n],l=this.indexOfGroup(n),s=l+i,u=l;u<s;u++)o+=this.tag.getRule(u)+`/*!sc*/
`;return o},e}(),wu=new Map,xu=new Map,jl=1,Su=function(e){if(wu.has(e))return wu.get(e);for(;xu.has(jl);)jl++;var t=jl++;return wu.set(e,t),xu.set(t,e),t},C3=function(e){return xu.get(e)},I3=function(e,t){t>=jl&&(jl=t+1),wu.set(e,t),xu.set(t,e)},j3="style["+_o+'][data-styled-version="5.3.11"]',O3=new RegExp("^"+_o+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),T3=function(e,t,n){for(var o,i=n.split(","),l=0,s=i.length;l<s;l++)(o=i[l])&&e.registerName(t,o)},z3=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),o=[],i=0,l=n.length;i<l;i++){var s=n[i].trim();if(s){var u=s.match(O3);if(u){var d=0|parseInt(u[1],10),f=u[2];d!==0&&(I3(f,d),T3(e,f,u[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(s)}}},Pf=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},kv=function(e){var t=document.head,n=e||t,o=document.createElement("style"),i=function(u){for(var d=u.childNodes,f=d.length;f>=0;f--){var m=d[f];if(m&&m.nodeType===1&&m.hasAttribute(_o))return m}}(n),l=i!==void 0?i.nextSibling:null;o.setAttribute(_o,"active"),o.setAttribute("data-styled-version","5.3.11");var s=Pf();return s&&o.setAttribute("nonce",s),n.insertBefore(o,l),o},D3=function(){function e(n){var o=this.element=kv(n);o.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var l=document.styleSheets,s=0,u=l.length;s<u;s++){var d=l[s];if(d.ownerNode===i)return d}So(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(n,o){try{return this.sheet.insertRule(o,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var o=this.sheet.cssRules[n];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),A3=function(){function e(n){var o=this.element=kv(n);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,o){if(n<=this.length&&n>=0){var i=document.createTextNode(o),l=this.nodes[n];return this.element.insertBefore(i,l||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),B3=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,o){return n<=this.length&&(this.rules.splice(n,0,o),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),wv=_f,N3={isServer:!_f,useCSSOMInjection:!E3},Ol=function(){function e(n,o,i){n===void 0&&(n=Eo),o===void 0&&(o={}),this.options=vr({},N3,{},n),this.gs=o,this.names=new Map(i),this.server=!!n.isServer,!this.server&&_f&&wv&&(wv=!1,function(l){for(var s=document.querySelectorAll(j3),u=0,d=s.length;u<d;u++){var f=s[u];f&&f.getAttribute(_o)!=="active"&&(z3(l,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}e.registerId=function(n){return Su(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,o){return o===void 0&&(o=!0),new e(vr({},this.options,{},n),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(o=this.options).isServer,l=o.useCSSOMInjection,s=o.target,n=i?new B3(s):l?new D3(s):new A3(s),new P3(n)));var n,o,i,l,s},t.hasNameForId=function(n,o){return this.names.has(n)&&this.names.get(n).has(o)},t.registerName=function(n,o){if(Su(n),this.names.has(n))this.names.get(n).add(o);else{var i=new Set;i.add(o),this.names.set(n,i)}},t.insertRules=function(n,o,i){this.registerName(n,o),this.getTag().insertRules(Su(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(Su(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var o=n.getTag(),i=o.length,l="",s=0;s<i;s++){var u=C3(s);if(u!==void 0){var d=n.names.get(u),f=o.getGroup(s);if(d&&f&&d.size){var m=_o+".g"+s+'[id="'+u+'"]',v="";d!==void 0&&d.forEach(function(g){g.length>0&&(v+=g+",")}),l+=""+f+m+'{content:"'+v+`"}/*!sc*/
`}}}return l}(this)},e}(),R3=/(a)(d)/gi,xv=function(e){return String.fromCharCode(e+(e>25?39:97))},fi=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Sv=function(e){return fi(5381,e)},F3=Sv("5.3.11"),M3=function(){function e(t,n,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&h3(t),this.componentId=n,this.baseHash=fi(F3,n),this.baseStyle=o,Ol.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,o){var i=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(t,n,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))l.push(this.staticRulesId);else{var s=di(this.rules,t,n,o).join(""),u=mv(fi(this.baseHash,s)>>>0);if(!n.hasNameForId(i,u)){var d=o(s,"."+u,void 0,i);n.insertRules(i,u,d)}l.push(u),this.staticRulesId=u}else{for(var f=this.rules.length,m=fi(this.baseHash,o.hash),v="",g=0;g<f;g++){var h=this.rules[g];if(typeof h=="string")v+=h;else if(h){var b=di(h,t,n,o),y=Array.isArray(b)?b.join(""):b;m=fi(m,y+g),v+=y}}if(v){var k=mv(m>>>0);if(!n.hasNameForId(i,k)){var x=o(v,"."+k,void 0,i);n.insertRules(i,k,x)}l.push(k)}}return l.join(" ")},e}(),U3=/^\s*\/\/.*$/gm,V3=[":","[",".","#"],Cf=It.default.createContext(),Cf.Consumer,If=It.default.createContext(),H3=(If.Consumer,new Ol),jf=m3(),K3=function(){function e(t,n){var o=this;this.inject=function(i,l){l===void 0&&(l=jf);var s=o.name+l.hash;i.hasNameForId(o.id,s)||i.insertRules(o.id,s,l(o.rules,s,"@keyframes"))},this.toString=function(){return So(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=jf),this.name+t.hash},e}(),W3=/([A-Z])/,q3=/([A-Z])/g,$3=/^ms-/,L3=function(e){return"-"+e.toLowerCase()},Ev=function(e){return e==null||e===!1||e===""},_v=function(e){return Array.isArray(e)&&(e.isCss=!0),e},Pv=function(e,t,n){return n===void 0&&(n=Eo),e.theme!==n.theme&&e.theme||t||n.theme},Z3=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,G3=/(^-|-$)/g,Cv=function(e){return mv(Sv(e)>>>0)},Of=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},X3=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},Tf=It.default.createContext(),Tf.Consumer,zf={},Df=function(e){return function t(n,o,i){if(i===void 0&&(i=Eo),!(0,yv.isValidElementType)(o))return So(1,String(o));var l=function(){return n(o,i,Nn.apply(void 0,arguments))};return l.withConfig=function(s){return t(n,o,vr({},i,{},s))},l.attrs=function(s){return t(n,o,vr({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},l}(k3,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Df[e]=Df(e)}),Q3=function(){function e(n,o){this.rules=n,this.componentId=o,this.isStatic=h3(n),Ol.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,o,i,l){var s=l(di(this.rules,o,i,l).join(""),""),u=this.componentId+n;i.insertRules(u,u,s)},t.removeStyles=function(n,o){o.clearRules(this.componentId+n)},t.renderStyles=function(n,o,i,l){n>2&&Ol.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,o,i,l)},e}(),function(){function e(){var n=this;this._emitSheetCSS=function(){var o=n.instance.toString();if(!o)return"";var i=Pf();return"<style "+[i&&'nonce="'+i+'"',_o+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return n.sealed?So(2):n._emitSheetCSS()},this.getStyleElement=function(){var o;if(n.sealed)return So(2);var i=((o={})[_o]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:n.instance.toString()},o),l=Pf();return l&&(i.nonce=l),[It.default.createElement("style",vr({},i,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new Ol({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?So(2):It.default.createElement(v3,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return So(3)},e}(),M=Df});function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pi.apply(this,arguments)}var TX=P(()=>{});function zX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var DX=P(()=>{});function Eu(e,t){return Eu=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Eu(e,t)}var Iv=P(()=>{});function AX(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Eu(e,t)}var BX=P(()=>{Iv()});function jv(e){return jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jv(e)}var NX=P(()=>{});function RX(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var FX=P(()=>{});function MX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var UX=P(()=>{});function Af(e,t,n){return MX()?Af=Reflect.construct:Af=function(o,i,l){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(o,s),d=new u;return l&&Eu(d,l.prototype),d},Af.apply(null,arguments)}var VX=P(()=>{Iv(),UX()});function Ov(e){var t=typeof Map=="function"?new Map:void 0;return Ov=function(n){if(n===null||!RX(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Af(n,arguments,jv(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Eu(o,n)},Ov(e)}var HX=P(()=>{NX(),Iv(),FX(),VX()}),KX=P(()=>{});function WX(e){return e.charAt(0).toUpperCase()+e.slice(1)}function qX(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(i,l){return""+i+WX(l)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function $X(e,t){for(var n={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(n[qX(e,tC[o])]=t[o]);return n}function Y3(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n[0],l=n[1],s=l===void 0?i:l,u=n[2],d=u===void 0?i:u,f=n[3],m=f===void 0?s:f,v=[i,s,d,m];return $X(e,v)}function Tv(e){return Math.round(e*255)}function LX(e,t,n){return Tv(e)+","+Tv(t)+","+Tv(n)}function _u(e,t,n,o){if(o===void 0&&(o=LX),t===0)return o(n,n,n);var i=(e%360+360)%360/60,l=(1-Math.abs(2*n-1))*t,s=l*(1-Math.abs(i%2-1)),u=0,d=0,f=0;i>=0&&i<1?(u=l,d=s):i>=1&&i<2?(u=s,d=l):i>=2&&i<3?(d=l,f=s):i>=3&&i<4?(d=s,f=l):i>=4&&i<5?(u=s,f=l):i>=5&&i<6&&(u=l,f=s);var m=n-l/2,v=u+m,g=d+m,h=f+m;return o(v,g,h)}function ZX(e){if(typeof e!="string")return e;var t=e.toLowerCase();return Fv[t]?"#"+Fv[t]:e}function zv(e){if(typeof e!="string")throw new yr(3);var t=ZX(e);if(t.match(nC))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(rC)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(oC))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(aC)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var i=Ff.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var l=iC.exec(t.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var s=lC.exec(t);if(s){var u=parseInt(""+s[1],10),d=parseInt(""+s[2],10)/100,f=parseInt(""+s[3],10)/100,m="rgb("+_u(u,d,f)+")",v=Ff.exec(m);if(!v)throw new yr(4,t,m);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10)}}var g=sC.exec(t.substring(0,50));if(g){var h=parseInt(""+g[1],10),b=parseInt(""+g[2],10)/100,y=parseInt(""+g[3],10)/100,k="rgb("+_u(h,b,y)+")",x=Ff.exec(k);if(!x)throw new yr(4,t,k);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+g[4])}}throw new yr(5)}function GX(e){var t=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(t,n,o),l=Math.min(t,n,o),s=(i+l)/2;if(i===l)return e.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u,d=i-l,f=s>.5?d/(2-i-l):d/(i+l);switch(i){case t:u=(n-o)/d+(n<o?6:0);break;case n:u=(o-t)/d+2;break;default:u=(t-n)/d+4;break}return u*=60,e.alpha!==void 0?{hue:u,saturation:f,lightness:s,alpha:e.alpha}:{hue:u,saturation:f,lightness:s}}function Dv(e){return GX(zv(e))}function hi(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Av(e){return hi(Math.round(e*255))}function XX(e,t,n){return Mf("#"+Av(e)+Av(t)+Av(n))}function Bf(e,t,n){return _u(e,t,n,XX)}function QX(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Bf(e,t,n);if(typeof e=="object"&&t===void 0&&n===void 0)return Bf(e.hue,e.saturation,e.lightness);throw new yr(1)}function YX(e,t,n,o){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?Bf(e,t,n):"rgba("+_u(e,t,n)+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?Bf(e.hue,e.saturation,e.lightness):"rgba("+_u(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new yr(2)}function Bv(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Mf("#"+hi(e)+hi(t)+hi(n));if(typeof e=="object"&&t===void 0&&n===void 0)return Mf("#"+hi(e.red)+hi(e.green)+hi(e.blue));throw new yr(6)}function J3(e,t,n,o){if(typeof e=="string"&&typeof t=="number"){var i=zv(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}else{if(typeof e=="number"&&typeof t=="number"&&typeof n=="number"&&typeof o=="number")return o>=1?Bv(e,t,n):"rgba("+e+","+t+","+n+","+o+")";if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?Bv(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}throw new yr(7)}function Nv(e){if(typeof e!="object")throw new yr(8);if(cC(e))return J3(e);if(uC(e))return Bv(e);if(fC(e))return YX(e);if(dC(e))return QX(e);throw new yr(8)}function eC(e,t,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):eC(e,t,o)}}function Nf(e){return eC(e,e.length,[])}function Rf(e,t,n){return Math.max(e,Math.min(t,n))}function JX(e,t){if(t==="transparent")return t;var n=Dv(t);return Nv(pi({},n,{lightness:Rf(0,1,n.lightness-parseFloat(e))}))}function eQ(e,t){if(t==="transparent")return t;var n=Dv(t);return Nv(pi({},n,{lightness:Rf(0,1,n.lightness+parseFloat(e))}))}function tQ(e,t){if(t==="transparent")return t;var n=Dv(t);return Nv(pi({},n,{saturation:Rf(0,1,n.saturation+parseFloat(e))}))}function nQ(e,t){if(t==="transparent")return t;var n=zv(t),o=typeof n.alpha=="number"?n.alpha:1,i=pi({},n,{alpha:Rf(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return J3(i)}function Rv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return pC.indexOf(e)>=0&&e?pi({},Y3.apply(void 0,[""].concat(n)),{position:e}):Y3.apply(void 0,["",e].concat(n))}var yr,tC,Fv,nC,rC,oC,aC,Ff,iC,lC,sC,Mf,uC,cC,dC,fC,Pu,Tl,Uf,br,pC,Rn=P(()=>{TX(),DX(),BX(),HX(),KX(),yr=function(e){AX(t,e);function t(n){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,zX(o)}return t}(Ov(Error)),tC=["Top","Right","Bottom","Left"],Fv={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nC=/^#[a-fA-F0-9]{6}$/,rC=/^#[a-fA-F0-9]{8}$/,oC=/^#[a-fA-F0-9]{3}$/,aC=/^#[a-fA-F0-9]{4}$/,Ff=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,iC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,lC=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,sC=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Mf=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},uC=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},cC=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},dC=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},fC=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},Pu=Nf(JX),Tl=Nf(eQ),Uf=Nf(tQ),br=Nf(nQ),pC=["absolute","fixed","relative","static","sticky"]});function rQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(o){rQ(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function zl(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Cu=P(()=>{}),mC,Mv,gC=P(()=>{mC=$(X()),Mv=(0,mC.createContext)({})});function oQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(o){oQ(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Uv(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function aQ(e,t){if(e){if(typeof e=="string")return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(e,t)}}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function bC(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=aQ(e))||t){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var Vf=P(()=>{});function iQ(e){return typeof e=="function"}var Vv,kC,lQ=P(()=>{Vv=$(X()),gC(),Vf(),kC=function(e,t,n){n===void 0&&(n=t.children);var o=(0,Vv.useContext)(Mv);if(o.useCreateElement)return o.useCreateElement(e,t,n);if(typeof e=="string"&&iQ(n)){t.children;var i=Uv(t,["children"]);return n(i)}return(0,Vv.createElement)(e,t,n)}});function sQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(o){sQ(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function uQ(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xC=P(()=>{});function cQ(e){return typeof e=="object"&&e!=null}var dQ=P(()=>{});function Hv(e){var t;if(!cQ(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var SC=P(()=>{dQ()});function EC(e,t){for(var n=Object.keys(e),o={},i={},l=0,s=n;l<s.length;l++){var u=s[l];t.indexOf(u)>=0?o[u]=e[u]:i[u]=e[u]}return[o,i]}function _C(e,t){if(t===void 0&&(t=[]),!Hv(e.state))return EC(e,t);var n=EC(e,[].concat(t,["state"])),o=n[0],i=n[1],l=o.state,s=uQ(o,["state"]);return[Al(Al({},l),s),i]}var fQ=P(()=>{xC(),SC()});function Hf(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var l=0,s=n;l<s.length;l++){var u=s[l];if(e[u]!==t[u])return!1}return!0}var Kv=P(()=>{});function PC(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,n){return!Hv(t.state)||!Hv(n.state)?e(t,n):e(Al(Al({},t.state),t),Al(Al({},n.state),n))}}var pQ=P(()=>{xC(),SC()});function hQ(e){return(0,Wv.forwardRef)(e)}function mQ(e,t){return(0,Wv.memo)(e,t)}function Iu(e){var t=e.as,n=e.useHook,o=e.memo,i=e.propsAreEqual,l=i===void 0?n==null?void 0:n.unstable_propsAreEqual:i,s=e.keys,u=s===void 0?(n==null?void 0:n.__keys)||[]:s,d=e.useCreateElement,f=d===void 0?kC:d,m=function(v,g){var h=v.as,b=h===void 0?t:h,y=Uv(v,["as"]);if(n){var k,x=_C(y,u),S=x[0],_=x[1],O=n(S,Dl({ref:g},_)),j=O.wrapElement,z=Uv(O,["wrapElement"]),V=((k=b.render)===null||k===void 0?void 0:k.__keys)||b.__keys,W=V&&_C(y,V)[0],B=W?Dl(Dl({},z),W):z,Z=f(b,B);return j?j(Z):Z}return f(b,Dl({ref:g},y))};return m=hQ(m),o&&(m=mQ(m,l&&PC(l))),m.__keys=u,m.unstable_propsAreEqual=PC(l||Hf),m}var Wv,ju=P(()=>{Wv=$(X()),Vf(),lQ(),fQ(),Kv(),pQ()});function CC(e,t){(0,qv.useDebugValue)(e);var n=(0,qv.useContext)(Mv);return n[e]!=null?n[e]:t}var qv,IC=P(()=>{qv=$(X()),gC()});function gQ(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Props";(0,jC.useDebugValue)(o);var i=CC(o);return i?i(t,n):n}var jC,vQ=P(()=>{jC=$(X()),IC()});function yQ(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Options";(0,OC.useDebugValue)(o);var i=CC(o);return i?Dl(Dl({},t),i(t,n)):t}var OC,bQ=P(()=>{OC=$(X()),IC(),Vf()});function kQ(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}var wQ=P(()=>{});function Ou(e){var t,n,o=kQ(e.compose),i=function(u,d){if(e.useOptions&&(u=e.useOptions(u,d)),e.name&&(u=yQ(e.name,u,d)),e.compose)for(var f=bC(o),m;!(m=f()).done;){var v=m.value;u=v.__useOptions(u,d)}return u},l=function(u,d,f){if(u===void 0&&(u={}),d===void 0&&(d={}),f===void 0&&(f=!1),f||(u=i(u,d)),e.useProps&&(d=e.useProps(u,d)),e.name&&(d=gQ(e.name,u,d)),e.compose)if(e.useComposeOptions&&(u=e.useComposeOptions(u,d)),e.useComposeProps)d=e.useComposeProps(u,d);else for(var m=bC(o),v;!(v=m()).done;){var g=v.value;d=g(u,d,!0)}var h={},b=d||{};for(var y in b)b[y]!==void 0&&(h[y]=b[y]);return h};l.__useOptions=i;var s=o.reduce(function(u,d){return u.push.apply(u,d.__keys||[]),u},[]);return l.__keys=[].concat(s,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),l.unstable_propsAreEqual=e.propsAreEqual||((n=o[0])===null||n===void 0?void 0:n.unstable_propsAreEqual)||Hf,l}var Tu=P(()=>{$(X()),vQ(),Vf(),bQ(),Kv(),wQ()});function TC(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function zC(e,t){return(0,DC.useMemo)(function(){return e==null&&t==null?null:function(n){TC(e,n),TC(t,n)}},[e,t])}var DC,AC=P(()=>{DC=$(X())});function $v(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return BC.indexOf(t.type)!==-1}return!1}var BC,Lv=P(()=>{BC=["button","color","file","image","reset","submit"]}),Zv=P(()=>{}),xQ=P(()=>{Zv(),$(X())}),Kf=P(()=>{Zv(),$(X()),xQ()});function SQ(e){return e?e.ownerDocument||e:document}var NC=P(()=>{});function EQ(e){return RC}var RC,_Q=P(()=>{NC();try{RC=window}catch{}});function PQ(){var e=EQ();return!!(typeof e<"u"&&e.document&&e.document.createElement)}var Wf,Gv=P(()=>{_Q(),Wf=PQ()}),Xv,Qv,Yv=P(()=>{Xv=$(X()),Gv(),Qv=Wf?Xv.useLayoutEffect:Xv.useEffect});function Bl(e){var t=(0,FC.useRef)(e);return Qv(function(){t.current=e}),t}var FC,MC=P(()=>{FC=$(X()),Yv()});function CQ(e){return e.target===e.currentTarget}var IQ=P(()=>{});function jQ(e){var t=SQ(e),n=t.activeElement;return n!=null&&n.nodeName?n:null}var OQ=P(()=>{NC()});function UC(e,t){return e===t||e.contains(t)}var VC=P(()=>{});function TQ(e){var t=jQ(e);if(!t)return!1;if(UC(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return n?n===e.id?!0:!!e.querySelector("#"+n):!1}var zQ=P(()=>{OQ(),VC()});function DQ(e){return!UC(e.currentTarget,e.target)}var AQ=P(()=>{VC()});function qf(e){return Wf?window.navigator.userAgent.indexOf(e)!==-1:!1}var BQ=P(()=>{Gv()});function NQ(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var RQ=P(()=>{});function FQ(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function MQ(e){return NQ(e,HC)&&FQ(e)}var HC,UQ=P(()=>{RQ(),HC="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),KC,$f,WC=P(()=>{Cu(),ju(),Tu(),Kv(),KC=["unstable_system"],$f=Ou({name:"Role",keys:KC,propsAreEqual:function(e,t){var n=e.unstable_system,o=zl(e,["unstable_system"]),i=t.unstable_system,l=zl(t,["unstable_system"]);return n!==i&&!Hf(n,i)?!1:Hf(o,l)}}),Iu({as:"div",useHook:$f})});function qC(e){!TQ(e)&&MQ(e)&&e.focus()}function VQ(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function HQ(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function KQ(e,t,n,o){return e?t&&!n?-1:void 0:t?o:o||0}function Jv(e,t){return(0,Nl.useCallback)(function(n){var o;(o=e.current)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())},[e,t])}var Nl,$C,LC,ey,WQ=P(()=>{Cu(),ju(),Tu(),Nl=$(X()),AC(),Lv(),Kf(),MC(),Yv(),zQ(),AQ(),BQ(),UQ(),WC(),$C=["disabled","focusable"],LC=qf("Mac")&&!qf("Chrome")&&(qf("Safari")||qf("Firefox")),ey=Ou({name:"Tabbable",compose:$f,keys:$C,useOptions:function(e,t){var n=t.disabled;return mi({disabled:n},e)},useProps:function(e,t){var n=t.ref,o=t.tabIndex,i=t.onClickCapture,l=t.onMouseDownCapture,s=t.onMouseDown,u=t.onKeyPressCapture,d=t.style,f=zl(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),m=(0,Nl.useRef)(null),v=Bl(i),g=Bl(l),h=Bl(s),b=Bl(u),y=!!e.disabled&&!e.focusable,k=(0,Nl.useState)(!0),x=k[0],S=k[1],_=(0,Nl.useState)(!0),O=_[0],j=_[1],z=e.disabled?mi({pointerEvents:"none"},d):d;Qv(function(){var re=m.current;re&&(VQ(re)||S(!1),HQ(re)||j(!1))},[]);var V=Jv(v,e.disabled),W=Jv(g,e.disabled),B=Jv(b,e.disabled),Z=(0,Nl.useCallback)(function(re){var D;(D=h.current)===null||D===void 0||D.call(h,re);var G=re.currentTarget;if(!re.defaultPrevented&&LC&&!DQ(re)&&$v(G)){var C=requestAnimationFrame(function(){G.removeEventListener("mouseup",Y,!0),qC(G)}),Y=function(){cancelAnimationFrame(C),qC(G)};G.addEventListener("mouseup",Y,{once:!0,capture:!0})}},[]);return mi({ref:zC(m,n),style:z,tabIndex:KQ(y,x,O,o),disabled:y&&O?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:V,onMouseDownCapture:W,onMouseDown:Z,onKeyPressCapture:B},f)}}),Iu({as:"div",useHook:ey})});function qQ(e){var t=e.currentTarget;return e.isTrusted?$v(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var Lf,ZC,ty,$Q=P(()=>{Cu(),ju(),Tu(),Lf=$(X()),Lv(),Kf(),MC(),IQ(),WQ(),ZC=["unstable_clickOnEnter","unstable_clickOnSpace"],ty=Ou({name:"Clickable",compose:ey,keys:ZC,useOptions:function(e){var t=e.unstable_clickOnEnter,n=t===void 0?!0:t,o=e.unstable_clickOnSpace,i=o===void 0?!0:o,l=zl(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return mi({unstable_clickOnEnter:n,unstable_clickOnSpace:i},l)},useProps:function(e,t){var n=t.onKeyDown,o=t.onKeyUp,i=zl(t,["onKeyDown","onKeyUp"]),l=(0,Lf.useState)(!1),s=l[0],u=l[1],d=Bl(n),f=Bl(o),m=(0,Lf.useCallback)(function(g){var h;if((h=d.current)===null||h===void 0||h.call(d,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey&&CQ(g)){var b=e.unstable_clickOnEnter&&g.key==="Enter",y=e.unstable_clickOnSpace&&g.key===" ";if(b||y){if(qQ(g))return;g.preventDefault(),b?g.currentTarget.click():y&&u(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),v=(0,Lf.useCallback)(function(g){var h;if((h=f.current)===null||h===void 0||h.call(f,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey){var b=e.unstable_clickOnSpace&&g.key===" ";s&&b&&(u(!1),g.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,s]);return mi({"data-active":s||void 0,onKeyDown:m,onKeyUp:v},i)}}),Iu({as:"button",memo:!0,useHook:ty})}),zu,GC,XC,QC,LQ=P(()=>{Cu(),ju(),Tu(),zu=$(X()),AC(),Lv(),Kf(),$Q(),GC=[],XC=Ou({name:"Button",compose:ty,keys:GC,useProps:function(e,t){var n=t.ref,o=zl(t,["ref"]),i=(0,zu.useRef)(null),l=(0,zu.useState)(void 0),s=l[0],u=l[1],d=(0,zu.useState)("button"),f=d[0],m=d[1];return(0,zu.useEffect)(function(){var v=i.current;v&&($v(v)||(v.tagName!=="A"&&u("button"),m(void 0)))},[]),mi({ref:zC(i,n),role:s,type:f},o)}}),QC=Iu({as:"button",memo:!0,useHook:XC})}),YC,JC,eI,ZQ=P(()=>{Cu(),ju(),Tu(),WC(),YC=[],JC=Ou({name:"Group",compose:$f,keys:YC,useProps:function(e,t){return mi({role:"group"},t)}}),eI=Iu({as:"div",useHook:JC})});function GQ(){return Wf?document.body:null}var tI,Rl,XQ=P(()=>{tI=$(X()),Yv(),Gv(),$(xo()),Rl=(0,tI.createContext)(GQ())}),ny,QQ=P(()=>{typeof window<"u"&&(ny={get passive(){}},window.addEventListener("testPassive",null,ny),window.removeEventListener("testPassive",null,ny))}),gi=P(()=>{$(X()),Kf(),LQ(),ZQ(),$(xo()),XQ(),QQ(),Zv()});function Ye(e){let t=(0,ry.useMemo)(()=>{let i=e;return{get current(){return i},set current(l){i=l,o(l)}}},[]),[n,o]=(0,ry.useState)(()=>e);return[t,n]}var ry,nt=P(()=>{ry=$(X())});function YQ(e){return t=>an.default.createElement(lI,null,an.default.createElement(e,L({},t)))}var an,nI,rI,tt,Fl,oI,aI,iI,oy,ay,lI,rt=P(()=>{Rn(),be(),be(),an=$(X()),nI=$(xo()),gi(),nt(),tt=Nn(rI||(rI=R([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),Fl={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return Tl(.6,Fl.panel.bg)}}}}}},aI=typeof window<"u"?w3(oI||(oI=R([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},oy=M.div(iI||(iI=R([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),ay=e=>an.default.createElement(v3,{disableVendorPrefixes:!0,target:e.target},an.default.createElement(an.default.Fragment,null,an.default.createElement(aI,null),e.children)),lI=e=>{let[t,n]=(0,an.useState)(null),[o,i]=(0,an.useState)(null);(0,an.useLayoutEffect)(()=>{if(!t)return;let{parentNode:u}=t;if(!u)return;let d=u.shadowRoot?parent.shadowRoot:u.attachShadow({mode:"open"});i(d)},[t]);let[l,s]=Ye(void 0);return o?nI.default.createPortal(an.default.createElement(ay,{target:o},an.default.createElement(an.default.Fragment,null,an.default.createElement(oy,{ref:l}),an.default.createElement(Rl.Provider,{value:s},e.children))),o):an.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}}),Ml,sI,uI,ua,cI,Du,dI,fI,Zf,pI,iy,Wr,Po=P(()=>{rt(),be(),Ml={get outlinePanel(){return 1},get propsPanel(){return Ml.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},sI=Fl.panel.bg,ua=M.span(uI||(uI=R([`
  white-space: nowrap;
`]))),Du=M.span(cI||(cI=R([`
  white-space: nowrap;
  color: `,`;
`])),Fl.panel.head.punctuation.color),fI=M.div(dI||(dI=R([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),sI),Zf=18,iy=M.div(pI||(pI=R([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),Zf),Wr=100}),hI,kr,Ul=P(()=>{hI=()=>{},kr=hI});function JQ(e){return ly.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ly.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var ly,sy,eY=P(()=>{ly=$(X()),sy=JQ});function tY(e){return uy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),uy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var uy,mI,nY=P(()=>{uy=$(X()),mI=tY});function rY(e){return cy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),cy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var cy,gI,oY=P(()=>{cy=$(X()),gI=rY});function aY(e){return dy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dy.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var dy,vI,iY=P(()=>{dy=$(X()),vI=aY});function lY(e){return fy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),fy.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var fy,py,sY=P(()=>{fy=$(X()),py=lY});function uY(e){return hy.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),hy.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var hy,Gf,cY=P(()=>{hy=$(X()),Gf=uY});function dY(e){return my.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),my.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var my,gy,fY=P(()=>{my=$(X()),gy=dY}),Au=P(()=>{eY(),nY(),oY(),iY(),sY(),cY(),fY()}),qr,yI,Xf,bI,kI,wI,xI,SI,EI,_I,PI,CI,II,jI,OI,TI,zI,DI,Bu,Qf=P(()=>{qr=$(X()),be(),Ul(),rt(),Au(),Xf=M.li(yI||(yI=R([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),kI=M.div(bI||(bI=R([""]))),xI=M(kI)(wI||(wI=R([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),EI=Nn(SI||(SI=R([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),PI=M.span(_I||(_I=R([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),EI,tt),II=M.div(CI||(CI=R([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),OI=M.span(jI||(jI=R([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),Xf),zI=M.ul(TI||(TI=R([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),Xf),DI=({label:e,children:t,depth:n,select:o,selectionStatus:i,labelDecoration:l,collapsed:s=!1,setIsCollapsed:u})=>{let d=t!==void 0;return qr.default.createElement(Xf,{style:{"--depth":n},className:s?"collapsed":""},qr.default.createElement(xI,{className:i,onClick:o??kr,"data-header":!0},qr.default.createElement(II,null,d?qr.default.createElement(OI,{onClick:f=>{f.stopPropagation(),f.preventDefault(),u==null||u(!s)}},qr.default.createElement(mI,null)):qr.default.createElement(py,null)),qr.default.createElement(PI,null,qr.default.createElement("span",null,e)),l),d&&qr.default.createElement(zI,null,t))},Bu=DI});function pY(e){return Object.keys(e)}function hY(e){return Object.keys((0,$r.val)(e.sheetTemplatesP))}function mY(){let e=la(ca().filter(t=>Ud(t)||fr(t)).map(t=>fr(t)?t.sheet:t))[0];if(e)return e.getSequence()}var $r,ca,AI,da=P(()=>{$r=je,ni(),Rt(),Ne(),ca=()=>{var e;let t=(0,$r.val)(de().projectsP),n=((e=(0,$r.val)(de().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let i=t[o.projectId];if(!i)return;if(o.type==="Project")return i;if(!(0,$r.val)(i.sheetTemplatesP[o.sheetId]))return;let l=AI(i,o.sheetId);if(!l)return;if(o.type==="Sheet")return l;let s=(0,$r.val)(l.objectsP[o.objectKey]);if(s)return s});return la(n.filter(o=>typeof o<"u"))},AI=(e,t)=>{let n=de().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,$r.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,$r.val)(e.sheetTemplatesP[t]);if(i){if(o)return(0,$r.val)(i.instancesP[o]);{let l=(0,$r.val)(i.instancesP);return l[pY(l)[0]]}}}}),BI,NI,gY=P(()=>{Ne(),BI=$(X()),Qf(),Fe(),da(),NI=({sheetObject:e,depth:t,overrideLabel:n})=>{let o=()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},i=Xe(()=>ca(),[]);return BI.default.createElement(Bu,{select:o,label:n??e.address.objectKey,depth:t,selectionStatus:i.includes(e)?"selected":"not-selected"})}});function vy(e){var t;let n=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,i=(t=Qe(de().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[n]))!=null?t:!1,l=(0,RI.useCallback)(s=>{de().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:s,itemKey:n})})},[n]);return{collapsed:i,setCollapsed:l}}var RI,yy=P(()=>{RI=$(X()),Ne(),Fe()});function FI(e){return Lr.default.createElement(Lr.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:n,nested:o}])=>Lr.default.createElement(vY,{key:t,label:t,object:n,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function vY(e){let{nested:t,label:n,object:o,sheet:i}=e,{collapsed:l,setCollapsed:s}=vy({type:"namespace",sheet:i,path:[...e.path,n]}),u=t&&Lr.default.createElement(FI,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),d=o&&Lr.default.createElement(NI,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:n});return Lr.default.createElement(Lr.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},d,u&&Lr.default.createElement(Bu,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:u,collapsed:l,setIsCollapsed:s}))}function MI(e,t,n=yY(t)){let[o,...i]=n,l=e.get(o);l||(l={nested:void 0,object:void 0,path:[...n]},e.set(o,l)),i.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:t}),l.object=t):(l.nested||(l.nested=new Map),MI(l.nested,t,i))}function yY(e){let t=by.get(e);return t||(t=e.address.objectKey.split(WI),console.assert(t.length>0,"expected not empty"),by.set(e,t)),t}var UI,Lr,VI,HI,KI,WI,by,bY=P(()=>{Fe(),UI=je,Lr=$(X()),be(),gY(),Qf(),yy(),M.li(VI||(VI=R([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),HI=({sheet:e,depth:t})=>Xe(()=>{let n=(0,UI.val)(e.objectsP),o=Object.values(n).filter(l=>l!=null),i=new Map;return o.forEach(l=>{MI(i,l)}),Lr.default.createElement(FI,{namespace:i,visualIndentation:t,path:[],sheet:e})},[e,t]),KI=HI,WI=/\s*\/\s*/g,by=new WeakMap}),Vl,qI,$I,LI,ZI,GI,XI,kY=P(()=>{Ne(),da(),Fe(),Vl=$(X()),be(),bY(),Qf(),yy(),$I=M.div(qI||(qI=R([`
  display: flex;
`]))),M.li(LI||(LI=R([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),GI=M.div(ZI||(ZI=R([""]))),XI=({sheet:e,depth:t})=>{let{collapsed:n,setCollapsed:o}=vy(e),i=(0,Vl.useCallback)(()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},[e]);return Xe(()=>{let l=ca();return Vl.default.createElement(Bu,{depth:t,select:i,setIsCollapsed:o,collapsed:n,selectionStatus:l.some(s=>s===e)?"selected":l.some(s=>s.type==="Theatre_SheetObject"&&s.sheet===e)?"descendant-is-selected":"not-selected",label:Vl.default.createElement($I,null,e.address.sheetId,": ",e.address.sheetInstanceId)},Vl.default.createElement(GI,null,Vl.default.createElement(KI,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,n])}}),ky,Hl,QI,YI,JI,e4,wY=P(()=>{Fe(),ky=je,Hl=$(X()),be(),kY(),M.div(QI||(QI=R([`
  display: flex;
`]))),M.li(YI||(YI=R([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),M.div(JI||(JI=R([""]))),e4=({sheetId:e,depth:t,project:n})=>Xe(()=>{let o=(0,ky.val)(n.sheetTemplatesP[e]);if(!o)return Hl.default.createElement(Hl.default.Fragment,null);let i=(0,ky.val)(o.instancesP);return Hl.default.createElement(Hl.default.Fragment,null,Object.entries(i).map(([l,s])=>Hl.default.createElement(XI,{key:s.address.sheetInstanceId,sheet:s,depth:t})))},[t,e,n])}),Yf,t4,n4,xY=P(()=>{da(),Fe(),Yf=$(X()),wY(),t4=({project:e,depth:t})=>Xe(()=>{if(!e)return null;let n=hY(e);return Yf.default.createElement(Yf.default.Fragment,null,n.map(o=>Yf.default.createElement(e4,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),n4=t4}),Nu,r4,o4,a4,i4,l4,SY=P(()=>{Nu=$(X()),Qf(),xY(),Ne(),Fe(),da(),r4=je,be(),yy(),a4=M.div(o4||(o4=R([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),i4=({depth:e,project:t})=>{let n=Xe(()=>ca(),[]),o=Xe(()=>{let u=t.address.projectId,d=(0,r4.val)(de().atomP.ephemeral.coreByProject[u].loadingState);return(d==null?void 0:d.type)==="browserStateIsNotBasedOnDiskState"},[t]),i=(0,Nu.useCallback)(()=>{de().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:l,setCollapsed:s}=vy(t);return Nu.default.createElement(Bu,{depth:e,label:t.address.projectId,setIsCollapsed:s,collapsed:l,labelDecoration:o?Nu.default.createElement(a4,null,"Has Conflicts"):null,children:Nu.default.createElement(n4,{project:t,depth:e+1}),selectionStatus:n.includes(t)?"selected":n.some(u=>u.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:i})},l4=i4}),s4,wy,u4,c4,d4,f4,EY=P(()=>{s4=je,Fe(),Ne(),wy=$(X()),be(),SY(),c4=M.ul(u4||(u4=R([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),d4=e=>Xe(()=>{let t=(0,s4.val)(de().projectsP);return wy.default.createElement(c4,null,Object.keys(t).map(n=>{let o=t[n];return wy.default.createElement(l4,{depth:0,project:o,key:"projectListItem-".concat(n)})}))},[]),f4=d4});function p4(e){let[t,n]=(0,xy.useState)(!1);return(0,xy.useEffect)(()=>{let o=l=>{let s=t?200:50,u=56,d=e==="left"?l.x<s:l.x>window.innerWidth-s;d&&(d=l.y>u),n(!!d)};document.addEventListener("mousemove",o);let i=()=>{n(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",i)}},[t]),t}var xy,h4=P(()=>{xy=$(X())}),Ru,Kl,Sy,m4,g4,v4,y4,Jf,Fu,b4,_Y=P(()=>{Ru=$(X()),be(),Po(),EY(),Fe(),Ne(),h4(),Kl=je,rt(),Sy="44px",g4=M.div(m4||(m4=R([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),tt,Ml.outlinePanel,Sy,Sy,({pin:e})=>e?"block":"none"),v4=()=>{var e;let t=(e=Qe(de().atomP.ahistoric.pinOutline))!=null?e:!0,n=Qe(b4),o=p4("left");return(0,Ru.useLayoutEffect)(()=>{Jf.set(o)},[o]),(0,Ru.useEffect)(()=>()=>{Fu.set(!1),Jf.set(!1)},[]),Ru.default.createElement(g4,{pin:t||n,onMouseEnter:()=>{Fu.set(!0)},onMouseLeave:()=>{Fu.set(!1)}},Ru.default.createElement(f4,null))},y4=v4,Jf=new Kl.Atom(!1),Fu=new Kl.Atom(!1),b4=(0,Kl.prism)(()=>{let e=(0,Kl.val)(Fu.prism),t=(0,Kl.val)(Jf.prism);return e||t})}),k4,w4,x4,PY=P(()=>{be(),w4=M.input.attrs({type:"checkbox"})(k4||(k4=R([`
  outline: none;
`]))),x4=w4});function CY({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,Ey.useCallback)(l=>{t.permanentlySetValue(!!l.target.checked)},[e,t]);return Ey.default.createElement(E4,{checked:n,onChange:i,autoFocus:o})}var Ey,S4,E4,_4,IY=P(()=>{Ey=$(X()),be(),PY(),E4=M(x4)(S4||(S4=R([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),_4=CY});function ep(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var tp=P(()=>{});function _y(e,t,n){(0,P4.useEffect)(()=>{if(!e||n===!1)return;let o=Array.isArray(e)?e.filter(l=>l):[e],i=l=>{o.every(s=>!l.composedPath().includes(s))&&t(l)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}},[e,n])}var P4,Py=P(()=>{P4=$(X())}),Co,C4,Io,I4,j4,O4,T4,Cy,z4,Xn,D4,Fn=P(()=>{Co=$(X()),be(),C4="pointer-root",Io="--lockedCursor",j4=M.div(I4||(I4=R([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),T4=M.div(O4||(O4=R([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),Cy=(0,Co.createContext)({}),z4=e=>{var t,n,o,i;let[l,s]=(0,Co.useState)([]),u=(0,Co.useMemo)(()=>({getLock:(f,m)=>{let v={className:f,cursor:m};return s(g=>[...g,v]),()=>{s(g=>g.filter(h=>h!==v))}}}),[]),d=(n=(t=l[0])==null?void 0:t.cursor)!=null?n:"";return Co.default.createElement(Cy.Provider,{value:u},Co.default.createElement(j4,{id:C4,className:((i=(o=l[0])==null?void 0:o.className)!=null?i:"normal")+" "+e.className},Co.default.createElement(T4,{style:{cursor:d,[Io]:d}},e.children)))},Xn=(e,t,n)=>{let o=(0,Co.useContext)(Cy);(0,Co.useLayoutEffect)(()=>{if(e)return o.getLock(t,n)},[e,t,n])},D4=z4});function A4(e){return Mu.default.createElement(Iy.Provider,{value:e.logger},e.children)}function fa(e,t){let n=(0,Mu.useContext)(Iy);return(0,Mu.useMemo)(()=>e?n.named(e,t):n,[n,e,t])}var Mu,Iy,pa=P(()=>{Mu=$(X()),Iy=Mu.default.createContext(null)});function jY(){let e=fa("PointerCapturing"),t=wr.default.useRef(null),n=()=>t.current!=null;return o=>{let i,l=s=>(i=s,t.current=s,s);return{capturing:{capturePointer(s){if(e._debug("Capturing pointer",{forDebugName:o,reason:s}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(s,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let u=l({debugOwnerName:o,debugReason:s});return{isCapturing(){return u===t.current},release(){return u===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:s}),l(null),!0):!1}}},isPointerBeingCaptured:n},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),l(null))}}}}function OY(e){let t=jY();return wr.default.createElement(jy.Provider,{value:t},wr.default.createElement(N4,{children:e.children}))}function B4(e){let t=(0,wr.useContext)(jy),n=(0,wr.useMemo)(()=>t(e),[e,t]);return(0,wr.useEffect)(()=>()=>{n.forceRelease()},[n]),n.capturing}var wr,jy,N4,Oy=P(()=>{wr=$(X()),pa(),jy=wr.default.createContext(null),N4=wr.default.memo(({children:e})=>wr.default.createElement(wr.default.Fragment,null,e))}),Ty,TY=P(()=>{Ty=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function xt(e,t){let n=(0,Wl.useRef)(t);n.current=t;let o=t.shouldPointerLock&&!Ty,i=(0,Wl.useRef)({domDragStarted:!1}),{capturePointer:l}=B4("useDrag for ".concat(t.debugName)),s=(0,Wl.useRef)({onDrag:kr,onDragEnd:kr,onClick:kr}),u=(0,Wl.useRef)(),[d,f]=Ye(!1);return(0,Wl.useLayoutEffect)(()=>{if(!e)return;let m=()=>{let S=i.current.domDragStarted&&i.current.detection.detected;d.current!==S&&(d.current=S)},v=S=>{if(!i.current.domDragStarted)return;let _=i.current;if(!zY(S,_)&&(_.detection.detected||(_.detection.totalDistanceMoved+=Math.abs(S.movementY)+Math.abs(S.movementX),_.detection.totalDistanceMoved>R4&&(o&&e.requestPointerLock(),_.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},m())),_.detection.detected)){_.detection.dragEventCount+=1;let{dragMovement:O}=_.detection;if(o)O.x+=S.movementX,O.y+=S.movementY;else{let{startPos:j}=_;O.x=S.screenX-j.x,O.y=S.screenY-j.y}s.current.onDrag(O.x,O.y,S,S.movementX,S.movementY)}},g=S=>{if(b(),!i.current.domDragStarted)return;let _=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!Ty&&document.exitPointerLock(),s.current.onDragEnd(_),window.focus(),_||s.current.onClick(S),m()},h=()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",g)},b=()=>{var S;(S=u.current)==null||S.release(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g)},y=S=>{n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},m())},k=S=>{var _,O,j,z;(_=u.current)==null||_.release();let V=n.current;if(V.disabled===!0||!((O=V.buttons)!=null?O:[0]).includes(S.button))return;let W=V.onDragStart(S);W!==!1&&(s.current.onDrag=W.onDrag,s.current.onDragEnd=(j=W.onDragEnd)!=null?j:kr,s.current.onClick=(z=W.onClick)!=null?z:kr,u.current=l("Drag start"),V.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current={domDragStarted:!0,startPos:{x:S.screenX,y:S.screenY},detection:{detected:!1,totalDistanceMoved:0}},m(),h())},x=S=>{k(S)};return e.addEventListener("mousedown",x),e.addEventListener("click",y),()=>{var S,_;b(),e.removeEventListener("mousedown",x),e.removeEventListener("click",y),i.current.domDragStarted&&((_=(S=s.current).onDragEnd)==null||_.call(S,i.current.detection.detected)),i.current={domDragStarted:!1},m()}},[e]),Xn(f&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[f]}function zY(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>zy||Math.abs(e.movementY)>zy)}var Wl,R4,zy,Dt=P(()=>{Wl=$(X()),Fn(),Oy(),Ul(),TY(),nt(),R4=3,zy=100});function DY(e){return isNaN(e)?"NaN":lv(e)?e.toFixed(0):ZP(e,3).toString()}var F4,M4,jo,U4,np,V4,H4,K4,W4,q4,$4,L4,Z4,rp,Dy=P(()=>{Rt(),F4=$(X()),M4=$(X()),jo=$(X()),be(),tp(),nt(),Py(),Dt(),np=M.div(U4||(U4=R([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),H4=M.input(V4||(V4=R([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),W4=M.div(K4||(K4=R([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),np,np),$4=M.div(q4||(q4=R([`
  display: contents;
`]))),L4=e=>!0,Z4=e=>{var t;let[n]=Ye({mode:"noFocus"}),o=(t=e.isValid)!=null?t:L4,i=(0,jo.useRef)(e);i.current=e;let l=(0,jo.useRef)(null);_y(l.current,()=>{l.current.blur()},n.current.mode==="editingViaKeyboard");let s=(0,jo.useRef)(null),u=(0,jo.useMemo)(()=>{let k=W=>{let B=W.target,{value:Z}=B,re=n.current;n.current=he(L({},re),{currentEditedValueInString:Z});let D=parseFloat(Z);!isFinite(D)||!o(D)||i.current.temporarilySetValue(D)},x=()=>{n.current.mode==="editingViaKeyboard"&&(S(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},S=()=>{let W=n.current,B=parseFloat(W.currentEditedValueInString);!isFinite(B)||!o(B)||W.valueBeforeEditing===B?i.current.discardTemporaryValue():i.current.permanentlySetValue(B)},_=W=>{W.key==="Escape"?(i.current.discardTemporaryValue(),n.current={mode:"noFocus"},l.current.blur()):(W.key==="Enter"||W.key==="Tab")&&(S(),l.current.blur())},O=W=>{n.current.mode==="noFocus"&&(l.current.focus(),W.preventDefault()),W.stopPropagation()},j=()=>{n.current.mode==="noFocus"?z():n.current.mode},z=()=>{let W=i.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(W),valueBeforeEditing:W},setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,100)})},V;return{inputChange:k,onBlur:x,transitionToDraggingMode:()=>{var W;let B=i.current.value;V=(W=l.current)==null?void 0:W.getBoundingClientRect().width,n.current={mode:"dragging"};let Z=B,re=B;return s.current=document.body.style.cursor,{onDrag(D,G,C,Y){let xe=C.altKey?Y/10:Y,q=re+e.nudge({deltaX:xe,deltaFraction:xe/V,magnitude:1});re=e.range?kt(q,e.range[0],e.range[1]):q,i.current.temporarilySetValue(re)},onDragEnd(D){D?(Z===re?i.current.discardTemporaryValue():i.current.permanentlySetValue(re),n.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){l.current.focus(),l.current.setSelectionRange(0,100)}}},onInputKeyDown:_,onClick:O,onFocus:j}},[]);(0,F4.useEffect)(()=>()=>{u.onBlur()},[]);let d=n.current.mode!=="editingViaKeyboard"?DY(e.value):n.current.currentEditedValueInString;typeof d=="number"&&isNaN(d)&&(d="NaN");let f=[l];e.inputRef&&f.push(e.inputRef);let m=jo.default.createElement(H4,{key:"input",type:"text",onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:ep(f),onMouseDown:k=>{k.stopPropagation()},onDoubleClick:k=>{k.preventDefault(),k.stopPropagation()},autoFocus:e.autoFocus}),{range:v}=e,g=parseFloat(d),h=v?jo.default.createElement(W4,{style:{"--percentage":kt((g-v[0])/(v[1]-v[0]),0,1)}}):null,[b,y]=(0,M4.useState)(null);return xt(b,{debugName:"form/BasicNumberInput",onDragStart:u.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:n.current.mode==="editingViaKeyboard"}),jo.default.createElement(np,{className:e.className+" "+n.current.mode},jo.default.createElement($4,{ref:y},m),h)},rp=Z4});function AY({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,Ay.useCallback)(l=>e.nudgeFn(he(L({},l),{config:e})),[e]);return Ay.default.createElement(rp,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:i,autoFocus:o})}var Ay,By,G4=P(()=>{Dy(),Ay=$(X()),By=AY});function BY({value:e,onChange:t,options:n,autoFocus:o}){let i=(0,Uu.useCallback)(l=>{t(String(l.target.value))},[t]);return Uu.default.createElement(Ny,{role:"radiogroup"},Object.keys(n).map((l,s)=>Uu.default.createElement(Y4,{key:"label-"+s,"data-checked":e===l},n[l],Uu.default.createElement(ej,{type:"radio",checked:e===l,value:l,onChange:i,name:"switchbox",autoFocus:o}))))}var Uu,X4,Ny,Q4,Y4,J4,ej,tj,NY=P(()=>{Rn(),Uu=$(X()),be(),Ny=M.form(X4||(X4=R([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),Y4=M.label(Q4||(Q4=R([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),Ny,Pu(.1,"white")),ej=M.input(J4||(J4=R([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),tj=BY}),RY=P(()=>{}),Ry,Fy,My,nj=P(()=>{Ry=$(X()),Fy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},My=Ry.default.createContext&&Ry.default.createContext(Fy)});function rj(e){return e&&e.map(function(t,n){return $l.default.createElement(t.tag,Oo({key:n},t.attr),rj(t.child))})}function ql(e){return function(t){return $l.default.createElement(FY,Oo({attr:Oo({},e.attr)},t),rj(e.child))}}function FY(e){var t=function(n){var o=e.attr,i=e.size,l=e.title,s=oj(e,["attr","size","title"]),u=i||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),$l.default.createElement("svg",Oo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:d,style:Oo(Oo({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&$l.default.createElement("title",null,l),e.children)};return My!==void 0?$l.default.createElement(My.Consumer,null,function(n){return t(n)}):t(Fy)}var $l,Oo,oj,MY=P(()=>{$l=$(X()),nj(),Oo=function(){return Oo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Oo.apply(this,arguments)},oj=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}}),jt=P(()=>{RY(),MY(),nj()}),UY=P(()=>{jt()}),VY=P(()=>{jt()});function HY(e){return ql({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var KY=P(()=>{jt()}),WY=P(()=>{jt()}),qY=P(()=>{jt()});function $Y(e){return ql({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function LY(e){return ql({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var ZY=P(()=>{jt()}),GY=P(()=>{jt()}),XY=P(()=>{jt()}),QY=P(()=>{jt()}),YY=P(()=>{jt()}),JY=P(()=>{jt()}),eJ=P(()=>{jt()}),tJ=P(()=>{jt()}),nJ=P(()=>{jt()}),rJ=P(()=>{jt()});function aj(e){return ql({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var oJ=P(()=>{jt()}),aJ=P(()=>{jt()}),iJ=P(()=>{jt()}),lJ=P(()=>{jt()});function sJ(e){return ql({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var uJ=P(()=>{jt()});function cJ(e){return ql({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var dJ=P(()=>{jt()}),Ll=P(()=>{UY(),VY(),KY(),WY(),qY(),ZY(),GY(),XY(),QY(),YY(),JY(),eJ(),tJ(),nJ(),rJ(),oJ(),aJ(),iJ(),lJ(),uJ(),dJ()});function fJ({value:e,onChange:t,options:n,className:o,autoFocus:i}){let l=(0,vi.useCallback)(s=>{t(String(s.target.value))},[t]);return vi.default.createElement(lj,null,vi.default.createElement(dj,{className:o,value:e,onChange:l,autoFocus:i},Object.keys(n).map((s,u)=>vi.default.createElement("option",{key:"option-"+u,value:s},n[s]))),vi.default.createElement(uj,null,vi.default.createElement(sJ,null)))}var vi,ij,lj,sj,uj,cj,dj,fj,pJ=P(()=>{vi=$(X()),be(),Ll(),lj=M.div(ij||(ij=R([`
  width: 100%;
  position: relative;
`]))),uj=M.div(sj||(sj=R([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),dj=M.select(cj||(cj=R([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),fj=fJ});function hJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,op.useCallback)(l=>{t.permanentlySetValue(l)},[e,t]);return e.as==="menu"?op.default.createElement(fj,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o}):op.default.createElement(tj,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o})}var op,pj,mJ=P(()=>{op=$(X()),NY(),pJ(),pj=hJ}),hj,Vu,mj,gj,vj,yj,ap,Uy=P(()=>{be(),hj=$(X()),Vu=$(X()),tp(),nt(),Py(),gj=M.input.attrs({type:"text"})(mj||(mj=R([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),vj=e=>!0,yj=e=>{var t,n;let[o]=Ye({mode:"noFocus"}),i=(t=e.isValid)!=null?t:vj,l=(0,Vu.useRef)(e);l.current=e;let s=(0,Vu.useRef)(null);_y(s.current,()=>{s.current.blur()},o.current.mode==="editingViaKeyboard");let u=(0,Vu.useMemo)(()=>{let m=x=>{let S=x.target,{value:_}=S,O=o.current;o.current=he(L({},O),{currentEditedValueInString:_}),i(_)&&l.current.temporarilySetValue(_)},v=()=>{var x,S;o.current.mode==="editingViaKeyboard"&&(g(),o.current={mode:"noFocus"}),(S=(x=l.current).onBlur)==null||S.call(x)},g=()=>{let x=o.current,S=x.currentEditedValueInString;i(S)?x.valueBeforeEditing===S?l.current.discardTemporaryValue():l.current.permanentlySetValue(S):l.current.discardTemporaryValue()},h=x=>{x.key==="Escape"?(l.current.discardTemporaryValue(),o.current={mode:"noFocus"},s.current.blur()):(x.key==="Enter"||x.key==="Tab")&&(g(),s.current.blur())},b=x=>{o.current.mode==="noFocus"&&(s.current.focus(),x.preventDefault()),x.stopPropagation()},y=()=>{o.current.mode==="noFocus"?k():o.current.mode},k=()=>{let x=l.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(x),valueBeforeEditing:x},setTimeout(()=>{s.current.focus()})};return{inputChange:m,onBlur:v,onInputKeyDown:h,onClick:b,onFocus:y}},[]);(0,hj.useEffect)(()=>()=>{u.onBlur()},[]);let d=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,f=[s];return e.inputRef&&f.push(e.inputRef),Vu.default.createElement(gj,{key:"input",type:"text",className:"".concat((n=e.className)!=null?n:""," ").concat(i(d)?"":"invalid"),onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:ep(f),onMouseDown:m=>{m.stopPropagation()},onDoubleClick:m=>{m.preventDefault(),m.stopPropagation()},autoFocus:e.autoFocus})},ap=yj});function gJ({editingTools:e,value:t,autoFocus:n}){return bj.default.createElement(ap,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:n})}var bj,kj,vJ=P(()=>{bj=$(X()),Uy(),kj=gJ});function yJ(e){e=e.trim().toLowerCase();let t=e.match(Ky);if(!t)return{r:0,g:0,b:0,a:1};let n=bJ(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}function Vy(e,{removeAlphaIfOpaque:t=!1}={}){let n=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&n==="ff"?"":n);return"#".concat(o)}function Hy(e){return he(L({},e),{toString(){return Vy(this,{removeAlphaIfOpaque:!0})}})}function bJ(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}var Ky,wj=P(()=>{Ky=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function ip(e){let t=(0,Wy.useRef)(e),n=(0,Wy.useRef)(o=>{t.current&&t.current(o)});return t.current=e,n.current}var Wy,xj=P(()=>{Wy=$(X())}),yi,lp=P(()=>{yi=(e,t=0,n=1)=>e>n?n:e<t?t:e}),Hu,qy,Sj,$y,Ly=P(()=>{Hu=$(X()),qy=(0,Hu.createContext)(void 0),Sj=({children:e})=>{let[t,n]=(0,Hu.useState)(!1);return Hu.default.createElement(qy.Provider,{value:{editing:t,setEditing:n}},e)},$y=()=>(0,Hu.useContext)(qy)}),ha,Zl,Ej,sp,Zy,Gy,_j,Pj,Cj,Ij,Ku,up=P(()=>{ha=$(X()),xj(),lp(),be(),Ly(),Zl=e=>"touches"in e,Ej=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},sp=e=>e&&e.ownerDocument.defaultView||self,Zy=(e,t,n)=>{let o=e.getBoundingClientRect(),i=Zl(t)?Ej(t.touches,n):t;return{left:yi((i.pageX-(o.left+sp(e).pageXOffset))/o.width),top:yi((i.pageY-(o.top+sp(e).pageYOffset))/o.height)}},Gy=e=>{!Zl(e)&&e.preventDefault()},_j=(e,t)=>t&&!Zl(e),Cj=M.div(Pj||(Pj=R([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),Ij=e=>{var t=e,{onMove:n,onKey:o}=t,i=Js(t,["onMove","onKey"]);let l=(0,ha.useRef)(null),s=ip(n),u=ip(o),d=(0,ha.useRef)(null),f=(0,ha.useRef)(!1),{setEditing:m}=$y(),[v,g,h]=(0,ha.useMemo)(()=>{let b=({nativeEvent:_})=>{let O=l.current;if(O&&(Gy(_),!(_j(_,f.current)||!O))){if(Zl(_)){f.current=!0;let j=_.changedTouches||[];j.length&&(d.current=j[0].identifier)}O.focus(),m(!0),s(Zy(O,_,d.current)),S(!0)}},y=_=>{Gy(_),(Zl(_)?_.touches.length>0:_.buttons>0)&&l.current?s(Zy(l.current,_,d.current)):(m(!1),S(!1))},k=_=>{m(!1),S(!1)},x=_=>{let O=_.which||_.keyCode;O<37||O>40||(_.preventDefault(),u({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))};function S(_){let O=f.current,j=l.current,z=sp(j),V=_?z.addEventListener:z.removeEventListener;V(O?"touchmove":"mousemove",y),V(O?"touchend":"mouseup",k)}return[b,x,S]},[u,s]);return(0,ha.useEffect)(()=>h,[h]),ha.default.createElement(Cj,he(L({},i),{onTouchStart:v,onMouseDown:v,ref:l,onKeyDown:g,tabIndex:0,role:"slider"}))},Ku=ha.default.memo(Ij)}),Xy,jj,Oj,Tj,zj,Dj,Aj,cp,Qy=P(()=>{Xy=$(X()),be(),up(),Oj=M(Ku)(jj||(jj=R([""]))),zj=M.div(Tj||(Tj=R([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),Oj),Aj=M.div(Dj||(Dj=R([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),cp=({className:e,color:t,left:n,top:o=.5})=>{let i={top:"".concat(o*100,"%"),left:"".concat(n*100,"%")};return Xy.default.createElement(zj,{style:i,className:e},Xy.default.createElement(Aj,{style:{backgroundColor:t}}))}}),ln,dp=P(()=>{ln=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n}),Yy,fp,pp,Bj,Nj,hp=P(()=>{dp(),Yy=({h:e,s:t,v:n,a:o})=>{let i=(200-t)*n/100;return{h:ln(e),s:ln(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:ln(i/2),a:ln(o,2)}},fp=e=>{let{h:t,s:n,l:o}=Yy(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)")},pp=e=>{let{h:t,s:n,l:o,a:i}=Yy(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(i,")")},Bj=({h:e,s:t,v:n,a:o})=>{e=e/360*6,t=t/100,n=n/100;let i=Math.floor(e),l=n*(1-t),s=n*(1-(e-i)*t),u=n*(1-(1-e+i)*t),d=i%6;return{r:ln([n,s,l,l,u,n][d]*255),g:ln([u,n,n,s,l,l][d]*255),b:ln([l,l,u,n,n,s][d]*255),a:ln(o,2)}},Nj=({r:e,g:t,b:n,a:o})=>{let i=Math.max(e,t,n),l=i-Math.min(e,t,n),s=l?i===e?(t-n)/l:i===t?2+(n-e)/l:4+(e-t)/l:0;return{h:ln(60*(s<0?s+6:s)),s:ln(i?l/i*100:0),v:ln(i/255*100),a:o}}}),Wu,Rj,Fj,Mj,Uj,Vj,Hj,kJ=P(()=>{Wu=$(X()),up(),Qy(),hp(),lp(),dp(),be(),Fj=M.div(Rj||(Rj=R([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),Uj=M(cp)(Mj||(Mj=R([`
  z-index: 2;
`]))),Vj=({className:e,hue:t,onChange:n})=>Wu.default.createElement(Fj,{className:e},Wu.default.createElement(Ku,{onMove:o=>{n({h:360*o.left})},onKey:o=>{n({h:yi(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":ln(t)},Wu.default.createElement(Uj,{left:t/360,color:fp({h:t,s:100,v:100,a:1})}))),Hj=Wu.default.memo(Vj)}),qu,Kj,Wj,qj,$j,Lj,Zj,wJ=P(()=>{qu=$(X()),up(),Qy(),hp(),lp(),dp(),be(),Wj=M.div(Kj||(Kj=R([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),$j=M(cp)(qj||(qj=R([`
  z-index: 3;
`]))),Lj=({hsva:e,onChange:t})=>{let n=l=>{t({s:l.left*100,v:100-l.top*100})},o=l=>{t({s:yi(e.s+l.left*100,0,100),v:yi(e.v-l.top*100,0,100)})},i={backgroundColor:fp({h:e.h,s:100,v:100,a:1})};return qu.default.createElement(Wj,{style:i},qu.default.createElement(Ku,{onMove:n,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(ln(e.s),"%, Brightness ").concat(ln(e.v),"%")},qu.default.createElement($j,{top:1-e.v/100,left:e.s/100,color:fp(e)})))},Zj=qu.default.memo(Lj)}),$u,Gj,Xj,Qj,Yj,Jj,e6,t6,xJ=P(()=>{$u=$(X()),up(),Qy(),hp(),lp(),dp(),be(),Xj=M.div(Gj||(Gj=R([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),Yj=M.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(Qj||(Qj=R([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),e6=M(cp)(Jj||(Jj=R([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),t6=({className:e,hsva:t,onChange:n})=>{let o=u=>{n({a:u.left})},i=u=>{n({a:yi(t.a+u.left)})},l=pp(Object.assign({},t,{a:0})),s=pp(Object.assign({},t,{a:1}));return $u.default.createElement(Xj,{className:e},$u.default.createElement(Yj,{colorFrom:l,colorTo:s}),$u.default.createElement(Ku,{onMove:o,onKey:i,"aria-label":"Alpha","aria-valuetext":"".concat(ln(t.a*100),"%")},$u.default.createElement(e6,{left:t.a,color:pp(t)})))}}),mp,n6=P(()=>{mp=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}});function SJ(e,t,n,o){let{editing:i}=$y(),[l,s]=(0,To.useState)(t),u=ip(n),d=ip(o),f=i?l:t,[m,v]=(0,To.useState)(()=>e.toHsva(f)),g=(0,To.useRef)({color:f,hsva:m}),h=(0,To.useRef)({color:f,hsva:m});(0,To.useEffect)(()=>{i&&s(g.current.color)},[i]),(0,To.useEffect)(()=>{let y=e.fromHsva(m);i?!mp(m,g.current.hsva)&&!e.equal(y,g.current.color)&&(g.current={hsva:m,color:y},s(y),u(y)):!mp(m,h.current.hsva)&&!e.equal(y,h.current.color)&&(h.current={hsva:m,color:y},g.current={hsva:m,color:y},d(y))},[i,m,e,u,d]),(0,To.useEffect)(()=>{if(!i&&!e.equal(f,h.current.color)){let y=e.toHsva(f);h.current={hsva:y,color:f},v(y)}},[i,f,e]);let b=(0,To.useCallback)(y=>{v(k=>Object.assign({},k,y))},[]);return[m,b]}var To,EJ=P(()=>{To=$(X()),n6(),xj(),Ly()}),Gl,r6,o6,a6,_J=P(()=>{Gl=$(X()),kJ(),wJ(),xJ(),EJ(),be(),o6=M.div(r6||(r6=R([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),a6=e=>{var t=e,{className:n,colorModel:o,color:i=o.defaultColor,temporarilySetValue:l,permanentlySetValue:s,discardTemporaryValue:u}=t,d=Js(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[f,m]=SJ(o,i,l,s);return(0,Gl.useEffect)(()=>()=>{u()},[]),Gl.default.createElement(o6,L({},d),Gl.default.createElement(Zj,{hsva:f,onChange:m}),Gl.default.createElement(Hj,{hue:f.h,onChange:m}),Gl.default.createElement(t6,{hsva:f,onChange:m}))}}),Jy,i6,l6,s6,u6,PJ=P(()=>{Jy=$(X()),_J(),n6(),hp(),Ly(),i6=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),l6=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),s6={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>Nj(l6(e)),fromHsva:e=>i6(Bj(e)),equal:mp},u6=e=>Jy.default.createElement(Sj,null,Jy.default.createElement(a6,he(L({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:s6})))}),CJ=P(()=>{PJ()}),c6,d6,f6,IJ=P(()=>{c6=$(X()),d6=function(e){(0,c6.useEffect)(e,[])},f6=d6}),p6,h6,m6,jJ=P(()=>{p6=$(X()),IJ(),h6=function(e){var t=(0,p6.useRef)(e);t.current=e,f6(function(){return function(){return t.current()}})},m6=h6}),gp,g6,v6,OJ=P(()=>{gp=$(X()),jJ(),g6=function(e){var t=(0,gp.useRef)(0),n=(0,gp.useState)(e),o=n[0],i=n[1],l=(0,gp.useCallback)(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return m6(function(){cancelAnimationFrame(t.current)}),[o,l]},v6=g6});function TJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function zJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var vp,DJ=P(()=>{vp=typeof window<"u"}),y6,b6,yp,eb=P(()=>{y6=$(X()),OJ(),DJ(),b6=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=v6({width:vp?window.innerWidth:e,height:vp?window.innerHeight:t}),o=n[0],i=n[1];return(0,y6.useEffect)(function(){if(vp){var l=function(){i({width:window.innerWidth,height:window.innerHeight})};return TJ(window,"resize",l),function(){zJ(window,"resize",l)}}},[]),o},yp=b6});function tb(e){let[t,n]=(0,nb.useState)(null);return(0,nb.useLayoutEffect)(()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)}),[e]),t}var nb,k6=P(()=>{nb=$(X())}),w6,x6,rb,S6=P(()=>{w6=$(X()),x6=(0,w6.createContext)({}),rb=x6});function AJ(e,t,n){let o=e.getBoundingClientRect(),i=l=>{(l.clientX<o.left-t||l.clientX>o.left+o.width+t||l.clientY<o.top-t||l.clientY>o.top+o.height+t)&&n(l)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}var BJ=P(()=>{}),E6,bp,ob,_6,ab,P6=P(()=>{E6=$(X()),bp=$(X()),eb(),k6(),S6(),nt(),Py(),BJ(),Ul(),Rt(),ob=8,_6=e=>{var t,n;let o=e.children(),[i,l]=Ye(null),s=o.props.style?L({},o.props.style):{};s.position="absolute";let u=tb(l),d=tb(e.target),f=yp(),[m,v]=(0,bp.useState)({});return(0,bp.useLayoutEffect)(()=>{var g,h,b;if(!u||!l||!d)return;let y=(g=e.verticalGap)!=null?g:8,k={},x=(h=e.verticalPlacement)!=null?h:"bottom",S=0,_=0;x==="bottom"?d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):x="overlay":x==="top"&&(d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):x="overlay");let O=0;if(x!=="overlay"){let Z=d.left+d.width/2;Z<u.width/2?(_=y,O=Math.max(Z-y,ob)):Z+u.width/2>f.width?(_=f.width-(y+u.width),O=Math.min(Z-_,u.width-ob)):(_=Z-u.width/2,O=u.width/2),k.left=O+"px"}let{minX:j=-1/0,maxX:z=1/0,minY:V=-1/0,maxY:W=1/0}=(b=e.constraints)!=null?b:{},B={left:kt(_,j,z-u.width),top:kt(S,V,W+u.height)};if(l.style.left=B.left+"px",l.style.top=B.top+"px",v(k),e.onPointerOutside)return AJ(l,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[u,l,e.target,d,f,e.onPointerOutside]),_y([l,(t=e.target)!=null?t:null],(n=e.onClickOutside)!=null?n:kr),E6.default.createElement(rb.Provider,{value:m},(0,bp.cloneElement)(o,{ref:i,style:s}))},ab=_6});function Zr(e,t){let n=(...h)=>{},{isPointerBeingCaptured:o}=B4("usePopover"),[i,l]=Ye({isOpen:!1}),s=(0,sn.useRef)(e),u=(0,sn.useCallback)(h=>{i.current={isOpen:!1}},[]),d=(0,sn.useCallback)((h,b)=>{var y;let k=typeof s.current=="function"?s.current():s.current;function x(){m.childHasFocusRef.current||k.closeOnClickOutside!==!1&&u("clicked outside popover")}i.current={isOpen:!0,clickPoint:{clientX:h.clientX,clientY:h.clientY},target:b,opts:k,onClickOutside:x,onPointerOutside:k.closeWhenPointerIsDistant===!1?void 0:{threshold:(y=k.pointerDistanceThreshold)!=null?y:100,callback:()=>{m.childHasFocusRef.current||o()||u("pointer outside")}}}},[]),f=(0,sn.useCallback)((...h)=>{i.current.isOpen?u("toggled"):d(...h)},[]),m=NJ({_debug:n,state:l}),[,v]=(0,sn.useContext)(yc);(0,sn.useEffect)(()=>{let h;return l.isOpen&&(h=v()),()=>h==null?void 0:h()},[l.isOpen]);let g=(0,sn.useContext)(Rl);return{node:l.isOpen?(0,C6.createPortal)(sn.default.createElement(ib.Provider,{value:m.childPopoverLock},sn.default.createElement(ab,{children:t,target:l.target,onClickOutside:l.onClickOutside,onPointerOutside:l.onPointerOutside,constraints:l.opts.constraints,verticalGap:l.opts.verticalGap})),g):sn.default.createElement(sn.default.Fragment,null),open:d,close:u,toggle:f,isOpen:l.isOpen}}function NJ(e){let t=(0,sn.useContext)(ib);(0,sn.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return()=>{o.releaseFocus()}}},[e.state.isOpen]);let n=(0,sn.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus(){return n.current=!0,{releaseFocus(){n.current=!1}}}}}}var sn,C6,ib,Gr=P(()=>{Oy(),nt(),sn=$(X()),C6=$(xo()),gi(),P6(),Zb(),ib=sn.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),zo,I6,j6,O6,T6,z6,D6,A6,B6,N6,R6,F6,M6,RJ=P(()=>{zo=$(X()),be(),S6(),j6=M.div(I6||(I6=R([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),T6=M.div(O6||(O6=R([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),D6=M.path(z6||(z6=R([`
  fill: var(--popover-bg);
`]))),B6=M.path(A6||(A6=R([`
  fill: var(--popover-inner-stroke);
`]))),R6=M.path(N6||(N6=R([`
  fill: var(--popover-outer-stroke);
`]))),F6=(0,zo.forwardRef)(({className:e},t)=>{let n=(0,zo.useContext)(rb);return zo.default.createElement(j6,{className:e,ref:t,style:L({},n)},zo.default.createElement(T6,null,zo.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zo.default.createElement(R6,{d:"M6 0L0 6H12L6 0Z"}),zo.default.createElement(B6,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),zo.default.createElement(D6,{d:"M6 3L0 9H12L6 3Z"}))))}),M6=F6}),kp,lb,U6,V6,H6,Xr,Qr=P(()=>{rt(),Rn(),kp=$(X()),be(),RJ(),lb=br(.05,"#2a2a31"),V6=M.div(U6||(U6=R([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),lb,tt),H6=kp.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:n=!0},o)=>kp.default.createElement(V6,{className:t,ref:o},n?kp.default.createElement(M6,null):void 0,e)),Xr=H6});function FJ({editingTools:e,value:t,autoFocus:n}){let o=(0,Yr.useRef)(null),i=(0,Yr.useCallback)(s=>{let u=Hy(yJ(s));e.permanentlySetValue(u)},[e]),l=Zr({debugName:"RgbaPropEditor"},()=>Yr.default.createElement(X6,null,Yr.default.createElement(u6,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:s=>{let u=Hy(s);e.temporarilySetValue(u)},permanentlySetValue:s=>{let u=Hy(s);e.permanentlySetValue(u)},discardTemporaryValue:e.discardTemporaryValue})));return Yr.default.createElement(Yr.default.Fragment,null,Yr.default.createElement(W6,null,Yr.default.createElement($6,{rgbaColor:t,ref:o,onClick:s=>{l.toggle(s,o.current)}}),Yr.default.createElement(Z6,{value:Vy(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:sb,discardTemporaryValue:sb,permanentlySetValue:i,isValid:s=>!!s.match(Ky),autoFocus:n})),l.node)}var Yr,K6,W6,q6,$6,L6,Z6,sb,G6,X6,Q6,MJ=P(()=>{wj(),wj(),Yr=$(X()),CJ(),be(),Gr(),Uy(),Qr(),W6=M.div(K6||(K6=R([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),$6=M.div.attrs(e=>({style:{background:Vy(e.rgbaColor)}}))(q6||(q6=R([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),Z6=M(ap)(L6||(L6=R([`
  flex: 1;
`]))),sb=()=>{},X6=M.div(G6||(G6=R([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),lb),Q6=FJ});function UJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=xr.default.useState();(0,xr.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,xr.useCallback)(d=>Ht(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"image",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return xr.default.createElement(ub,{empty:u},xr.default.createElement(oO,{empty:u,title:u?"Upload image":'"'.concat(n.id,'" (Click to upload new image)')},xr.default.createElement(iO,{type:"file",onChange:s,accept:"image/*,.hdr",autoFocus:o}),i?xr.default.createElement(sO,{src:i}):xr.default.createElement(eO,null)),!u&&xr.default.createElement(cO,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},xr.default.createElement(gy,null)))}var xr,Y6,ub,J6,eO,tO,nO,rO,oO,aO,iO,lO,sO,uO,cO,dO,VJ=P(()=>{Au(),xr=$(X()),be(),ub=M.div(Y6||(Y6=R([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),eO=M.div(J6||(J6=R([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),oO=M.label(rO||(rO=R([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Nn(tO||(tO=R([""]))):Nn(nO||(nO=R([""])))),iO=M.input.attrs({type:"file"})(aO||(aO=R([`
  display: none;
`]))),sO=M.img(lO||(lO=R([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),cO=M.button(uO||(uO=R([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),ub),dO=UJ});function HJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=Sr.default.useState();(0,Sr.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,Sr.useCallback)(d=>Ht(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"file",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return Sr.default.createElement(cb,{empty:u},Sr.default.createElement(yO,{empty:u,title:u?"Upload file":'"'.concat(n.id,'" (Click to upload new file)')},Sr.default.createElement(kO,{type:"file",onChange:s,autoFocus:o}),i?Sr.default.createElement(py,null):Sr.default.createElement(hO,null)),!u&&Sr.default.createElement(xO,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},Sr.default.createElement(gy,null)))}var Sr,fO,cb,pO,hO,mO,gO,vO,yO,bO,kO,wO,xO,SO,KJ=P(()=>{Au(),Sr=$(X()),be(),cb=M.div(fO||(fO=R([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),hO=M.div(pO||(pO=R([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),yO=M.label(vO||(vO=R([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Nn(mO||(mO=R([""]))):Nn(gO||(gO=R([""])))),kO=M.input.attrs({type:"file"})(bO||(bO=R([`
  display: none;
`]))),xO=M.button(wO||(wO=R([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),cb),SO=HJ}),db,EO=P(()=>{IY(),G4(),mJ(),vJ(),MJ(),VJ(),KJ(),db={number:By,string:kj,boolean:_4,stringLiteral:pj,rgba:Q6,image:dO,file:SO}});function Lu(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var wp=P(()=>{});function Jr(e){return e.type==="compound"||e.type==="enum"}function xp(e,t){if(!e)return;let[n,...o]=t;if(n===void 0)return e;if(!Jr(e))return;let i=e.type==="enum"?e.cases[n]:e.props[n];return xp(i,o)}function Sp(e,t){let n=t.deserializeAndSanitize(e);return n===void 0?t.default:n}function WJ(e){return!Jr(e)}function*Zu(e,t){if(e.type==="compound")for(let n in e.props)yield*Cq(Zu(e.props[n],[...t,n]));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var fb,ma=P(()=>{wp(),fb=Lu(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(Jr(n)){if(fb(n))return!0}else return!0}return!1})}),pb,_O=P(()=>{pb="calc(var(--left-pad) + var(--depth) * var(--step))"}),PO,ga,bi=P(()=>{be(),ga=Nn(PO||(PO=R([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),Gu,Ep,CO,IO,jO,OO,TO,zO,DO=P(()=>{Ul(),Gu=$(X()),be(),Ep=26,IO=M.li(CO||(CO=R([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),Ep,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),OO=M.span(jO||(jO=R([""]))),TO=e=>Gu.default.createElement(IO,{onClick:e.enabled?e.onClick:kr,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},Gu.default.createElement(OO,null,Gu.default.createElement(Gu.default.Fragment,null,e.label))),zO=TO});function qJ(e){let t=(0,hb.useRef)(e);t.current=e,(0,hb.useEffect)(()=>{let n=o=>t.current(o);return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])}var hb,$J=P(()=>{hb=$(X())}),Xu,AO,BO,NO,RO,FO,MO,UO,mb,VO=P(()=>{Xu=$(X()),DO(),be(),Rn(),rt(),AO=190,BO=!0,RO=M.ul(NO||(NO=R([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),AO,br(.2,"#111"),tt),MO=M.div(FO||(FO=R([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),UO=Xu.default.forwardRef((e,t)=>Xu.default.createElement(RO,{ref:t},BO&&e.displayName?Xu.default.createElement(MO,null,e.displayName):null,e.items.map((n,o)=>Xu.default.createElement(zO,{key:"item-".concat(o),label:n.label,enabled:n.enabled!==!1,onClick:i=>{n.callback&&n.callback(i),e.onRequestClose()}})))),mb=UO}),HO,KO,_p,WO,Qu,qO,$O,LJ=P(()=>{k6(),HO=$(X()),KO=$(X()),_p=$(X()),WO=$(xo()),eb(),DO(),gi(),$J(),VO(),Qu=20,qO=e=>{let[t,n]=(0,_p.useState)(null),o=tb(t),i=yp();(0,_p.useLayoutEffect)(()=>{if(!o||!t)return;let u={left:o.width/2,top:Ep/2+(e.displayName?Ep:0)},d={left:e.clickPoint.clientX-u.left,top:e.clickPoint.clientY-u.top};d.left<0?d.left=0:d.left+o.width>i.width&&(d.left=i.width-o.width),d.top<0?d.top=0:d.top+o.height>i.height&&(d.top=i.height-o.height),t.style.left=d.left+"px",t.style.top=d.top+"px";let f=m=>{(m.clientX<d.left-Qu||m.clientX>d.left+o.width+Qu||m.clientY<d.top-Qu||m.clientY>d.top+o.height+Qu)&&e.onRequestClose()};return window.addEventListener("mousemove",f),()=>{window.removeEventListener("mousemove",f)}},[o,t,e.clickPoint,i,e.onRequestClose]);let l=(0,KO.useContext)(Rl);qJ(u=>{u.key==="Escape"&&e.onRequestClose()});let s=(0,HO.useMemo)(()=>{let u=Array.isArray(e.items)?e.items:e.items();return u.length>0?u:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,WO.createPortal)(_p.default.createElement(mb,{items:s,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),l)},$O=qO}),Pp,LO,ZO,ZJ=P(()=>{Pp=$(X()),LO=(e,t)=>{let[n,o]=(0,Pp.useState)({isOpen:!1}),i=(0,Pp.useCallback)(()=>o({isOpen:!1}),[]);return(0,Pp.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let l=s=>{o({isOpen:!0,event:s}),s.preventDefault(),s.stopPropagation()};return e.addEventListener("contextmenu",l),()=>{e.removeEventListener("contextmenu",l)}},[e,t.disabled]),[n,i]},ZO=LO});function mn(e,t){let[n,o]=ZO(e,t),[,i]=(0,Xl.useContext)(yc);return(0,Xl.useEffect)(()=>{var l;let s;return n.isOpen&&((l=t.onOpen)==null||l.call(t),s=i()),()=>s==null?void 0:s()},[n.isOpen,t.onOpen]),[n.isOpen?Xl.default.createElement($O,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:o}):GO,o,n.isOpen]}var Xl,GO,gn=P(()=>{Xl=$(X()),LJ(),ZJ(),Zb(),GO=Xl.default.createElement(Xl.default.Fragment,null)});function va(e,t){return t.length===0?e:ii(e,t)}var Cp=P(()=>{hu()});function XO(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:XO(e.parentElement,t)}var GJ=P(()=>{});function Yu(e,t){let n=e;for(let o of t)n=n[o];return n}var Ip=P(()=>{});function XJ(e){let t=new Op.Atom(void 0),n=new Op.Atom({}),o=new Op.Atom({}),i=0;return{addRelatedFlags(l,s){let u=String(++i),d=s.map(f=>{let m={flag:f.flag},v=[f.affects,l,u];return o.setByPointer(g=>Yu(g,v),m),v});return()=>{for(let f of d)o.setByPointer(m=>Yu(m,f),void 0)}},usePresenceFlag(l){},setUserHover(l){let s=t.get();s!==l&&(s&&n.setByPointer(u=>u[s],!1),t.set(l),l&&n.setByPointer(u=>u[l],!0))}}}function ki(e){let t=jp.default.useContext(vb),n=t.usePresenceFlag(e);return{attrs:{[Tp]:e},flag:n,useRelations(o,i){(0,gb.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...i])}}}function QO(e){let t=jp.default.useContext(vb),n=fa("PresenceListeners");(0,gb.useEffect)(()=>{let o;if(!e)return;let i=l=>{if(l.target instanceof Node){let s=XO(l.target,"[".concat(Tp,"]"));if(s){let u=s.getAttribute(Tp);o!==u&&(o=u,t.setUserHover(u||void 0),n._debug("Updated current hover",{itemKey:u}));return}o!=null&&(o=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),o!=null&&(o=null,n._debug("Cleared current hover as part of cleanup"))}},[e,t])}var jp,gb,YO,Op,JO,vb,Tp,wi=P(()=>{jp=$(X()),gb=$(X()),pa(),YO=je,Op=je,Fe(),GJ(),Ip(),JO=(0,YO.prism)(()=>{}),JO.keepHot(),vb=jp.default.createContext(XJ()),Tp="data-pi-key"}),Lt,e8,Ju,t8,yb,ya,n8,bb,r8,o8,a8,zp,i8,l8,s8,u8,c8,d8,ec,f8,kb,Dp=P(()=>{rt(),Rn(),Lt=$(X()),be(),wi(),Ju=M.div(e8||(e8=R([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),br(.2,"black")),yb=M.div(t8||(t8=R([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),Ju),ya={offColor:"#555",onColor:"#e0c917"},bb=M(yb)(n8||(n8=R([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?ya.onColor:ya.offColor),o8=Nn(r8||(r8=R([`
  pointer-events: none !important;
`]))),zp=M(yb)(a8||(a8=R([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?ya.onColor:ya.offColor,e=>e.available?tt:o8),l8=M(zp)(i8||(i8=R([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),Ju),u8=M(zp)(s8||(s8=R([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),Ju),(e=>{let t=M.g(c8||(c8=R([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),zp);e.Prev=()=>Lt.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt.default.createElement(t,{transform:"translate(6 3)"},Lt.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>Lt.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt.default.createElement(t,{transform:"translate(1 3)"},Lt.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=M.g(d8||(d8=R([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),bb);e.Cur=()=>Lt.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Lt.default.createElement(n,{transform:"translate(1 4)"},Lt.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(ec||(ec={})),f8=e=>{var t,n,o,i,l;let s=ki((t=e.prev)==null?void 0:t.itemKey),u=ki(((n=e.cur)==null?void 0:n.type)==="on"?e.cur.itemKey:void 0),d=ki((o=e.next)==null?void 0:o.itemKey);return Lt.default.createElement(Ju,null,Lt.default.createElement(l8,L({available:!!e.prev,onClick:(i=e.prev)==null?void 0:i.jump,flag:s.flag},s.attrs),Lt.default.createElement(ec.Prev,null)),Lt.default.createElement(bb,L({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:u.flag},u.attrs),Lt.default.createElement(ec.Cur,null)),Lt.default.createElement(u8,L({available:!!e.next,onClick:(l=e.next)==null?void 0:l.jump,flag:d.flag},d.attrs),Lt.default.createElement(ec.Next,null)))},kb=f8}),Ap,tc,p8,h8,m8,g8,v8,y8,b8,nc,k8=P(()=>{Rn(),Ap=$(X()),be(),Ne(),Dp(),ma(),tc={defaultState:{color:br(.95,"#C4C4C4"),hoverColor:br(.15,ya.onColor)},withStaticOverride:{color:br(.85,"#C4C4C4"),hoverColor:br(.15,ya.onColor)}},h8=M.div(p8||(p8=R([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?tc.withStaticOverride.color:tc.defaultState.color,e=>e.hasStaticOverride?tc.withStaticOverride.hoverColor:tc.defaultState.hoverColor),g8=M.div(m8||(m8=R([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),y8=M.div(v8||(v8=R([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),b8=e=>{let{hasStaticOverride:t,obj:n,propConfig:o,pathToProp:i}=e;return Ap.default.createElement(h8,{hasStaticOverride:t,onClick:()=>{de().transaction(({stateEditors:l})=>{for(let{path:s,conf:u}of Zu(o,i)){if(Jr(u))continue;let d=he(L({},n.address),{pathToProp:s});l.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(d,o)}})},title:"Sequence this prop"},t?Ap.default.createElement(y8,{title:"The default value is overridden"}):Ap.default.createElement(g8,{title:"This is the default value for this prop"}))},nc=b8});function rc(e){return JSON.stringify(wb(e))}function wb(e){return ff(e)?Object.keys(e).sort().reduce((t,n)=>(t[n]=wb(e[n]),t),{}):Array.isArray(e)?e.map(wb):e}var QJ=P(()=>{Rt()}),w8,oc,x8=P(()=>{w8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",oc=(e=21)=>{let t="",n=e;for(;n--;)t+=w8[Math.random()*64|0];return t}});function S8(){return oc(10)}function YJ(){return oc(10)}function JJ(){return oc(10)}var Ft,Do=P(()=>{QJ(),x8(),Ft={forSheet(){return"sheet"},forSheetObject(e){return rc({o:e.address.objectKey})},forSheetObjectProp(e,t){return rc({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,n){return rc({o:e.address.objectKey,t,k:n})},forSheetObjectAggregateKeyframe(e,t){return Ft.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return rc({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,n){return rc({o:e.address.objectKey,p:t,pos:n})}}});function E8(e,t,n){if(!t||t.data.keyframes.length===0)return _8;let o=xb.get(t.data);if(o&&o[0]===n)return o[1];function i(s){if(!t)return;let u=t.data.keyframes[s];return u&&{kf:u,track:t,itemKey:Ft.forTrackKeyframe(e,t.id,u.id)}}let l=(()=>{let s=t.data.keyframes.findIndex(d=>d.position>=n);if(s===-1)return{prev:i(t.data.keyframes.length-1)};let u=i(s);return u.kf.position===n?{prev:i(s-1),cur:u,next:i(s+1)}:{next:u,prev:i(s-1)}})();return xb.set(t.data,[n,l]),l}var xb,_8,P8=P(()=>{Do(),xb=new WeakMap,_8={}}),Sb,C8=P(()=>{Sb={}});function eee(e,t,n){let o=(0,Qn.getPointerParts)(e).path;return Xe(()=>{if(!fb(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:xi.default.createElement(nc,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:n})};let i=!!(0,Qn.val)(ii(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Qn.getPointerParts)(e).path)),l=[],s={beingScrubbed:i,contextMenuItems:l,controlIndicators:xi.default.createElement(xi.default.Fragment,null)},u=(0,Qn.val)(t.template.getMapOfValidSequenceTracks_forStudio()),d=va(u,o),f=d!==void 0&&Object.keys(d).length!==0,m=[],v=(0,Qn.val)(t.template.getStaticButNotSequencedOverrides()),g=va(v??Sb,o)!==void 0;if(f)for(let h of Zu(n,[])){if(Jr(h.conf))continue;let b=va(d,h.path);typeof b!="string"?g=!0:m.push(b)}if((g||f)&&l.push({label:"Reset all to default",callback:()=>{de().transaction(({unset:h})=>{h(e)})}}),f&&l.push({label:"Make all static",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of Zu(n,[])){if(Jr(y))continue;let k=he(L({},t.address),{pathToProp:[...o,...b]}),x=Yu(e,b);h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},k),{value:t.getValueByPointer(x)}))}})}}),(!f||f&&g)&&l.push({label:"Sequence all",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of Zu(n,o)){if(Jr(y))continue;let k=he(L({},t.address),{pathToProp:b});h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(k,n)}})}}),f){let h=Qn.prism.memo("controlIndicators",()=>xi.default.createElement(tee,{pointerToProp:e,obj:t,possibleSequenceTrackIds:d,listOfDescendantTrackIds:m}),[d,m]);return he(L({},s),{type:"HasSequences",controlIndicators:h})}else return he(L({},s),{type:"AllStatic",controlIndicators:xi.default.createElement(nc,{hasStaticOverride:g,obj:t,pathToProp:o,propConfig:n})})},[])}function tee({pointerToProp:e,obj:t,possibleSequenceTrackIds:n,listOfDescendantTrackIds:o}){return Xe(()=>{let i=(0,Qn.getPointerParts)(e).path,l=(0,Qn.val)(t.sheet.getSequence().positionPrism),s=o.map(h=>({trackId:h,track:(0,Qn.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[h])})).filter(({track:h})=>!!h).map(h=>he(L({},h),{nearbies:E8(t,{id:h.trackId,data:h.track,sheetObject:t},l)})),u=s.find(({nearbies:h})=>!!h.cur),d=s.every(({nearbies:h})=>!!h.cur),f=s.reduce((h,b)=>b.nearbies.prev&&(h===void 0||b.nearbies.prev.kf.position>h.kf.position)?b.nearbies.prev:h,void 0),m=s.reduce((h,b)=>b.nearbies.next&&(h===void 0||b.nearbies.next.kf.position<h.kf.position)?b.nearbies.next:h,void 0),v=()=>{d?de().transaction(h=>{h.unset(e)}):u?de().transaction(h=>{h.set(e,(0,Qn.val)(e))}):de().transaction(h=>{h.set(e,(0,Qn.val)(e))})},g={cur:u?{type:"on",itemKey:Ft.forCompoundPropAggregateKeyframe(t,i,l),toggle:v}:{toggle:v,type:"off"},prev:f!==void 0?{position:f.kf.position,itemKey:Ft.forCompoundPropAggregateKeyframe(t,i,f.kf.position),jump:()=>{t.sheet.getSequence().position=f.kf.position}}:void 0,next:m!==void 0?{position:m.kf.position,itemKey:Ft.forCompoundPropAggregateKeyframe(t,i,m.kf.position),jump:()=>{t.sheet.getSequence().position=m.kf.position}}:void 0};return xi.default.createElement(kb,L({},g))},[e,t,n,o])}var Qn,xi,nee=P(()=>{Ne(),Cp(),Fe(),Qn=je,hu(),xi=$(X()),k8(),ma(),Do(),Ip(),Dp(),P8(),C8()});function ree(){let e=0,t=new O8.Atom({hasLock:!1});return{replaceLock(n,o){let i=e++,l=t.get();return l.hasLock&&l.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:o,deepPath:oee(I8(n))}),function(){let s=t.get();s.hasLock&&s.lockId===i&&(s.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(n){let o=Yu(t.pointer.deepPath,I8(n));return(0,T8.prism)(()=>{let i=(0,j8.val)(o);return i===!0?"self":i?"descendent":null})}}}function I8(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function oee(e){let t={};return Cl(t,e,!0),t}var j8,O8,T8,Bp,Eb=P(()=>{j8=je,O8=je,T8=je,Ip(),uv(),Bp=ree()});function aee(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var iee=P(()=>{});function z8(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?aee(e):JSON.stringify(e)}catch{return(e==null?void 0:e.name)||String(e)}}var lee=P(()=>{iee()});function see(e,t,n){e||(arguments.length>2?D8(t,n):D8(t))}function D8(e,t){let n=arguments.length>1,o=z8(e),i=n?`
Instead found: `.concat(z8(t)):"";throw new F8("Invariant: ".concat(o).concat(i),t)}var A8,B8,N8,R8,F8,uee=P(()=>{lee(),A8=/^\s*at.+node:internal.+/gm,B8=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,N8=/^\s*(at|[^@]+@).+test\-helpers.+/gm,R8=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,F8=class extends Error{constructor(e,t){var n;super(e),et(this,"found"),t!==void 0&&(this.found=t),this.stack=(n=this.stack)==null?void 0:n.replace(B8,"").replace(R8,"").replace(N8,"").replace(A8,"")}}});function cee(e){return(0,Np.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}else{let t={};for(let n in e)t[n]=(0,Np.val)(e[n]);return t}})}function _b(e){let t=Ql.default.memo(Ql.default.forwardRef(function(n,o){let i=[],l={},s={ref:o};for(let m in n){let v=n[m];(0,Np.isPrism)(v)?(i.push(v),l[m]=v):s[m]=v}let u=(0,Ql.useRef)(i.length);see(u.current===i.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:i.length});let d=(0,Ql.useMemo)(()=>cee(l),i),f=cv(d);return f&&Ql.default.createElement(e,L(L({},s),f))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var Np,Ql,M8=P(()=>{Np=je,Fe(),Ql=$(X()),uee()});function dee(e,t,n){return(0,Er.prism)(()=>{var o;let i=(0,Er.getPointerParts)(e).path,l=t.getValueByPointer(e),s=Er.prism.memo("editPropValue",()=>{let b=null;return{temporarilySetValue(y){b||(b=de().scrub()),b.capture(k=>{k.set(e,y)})},discardTemporaryValue(){b&&(b.discard(),b=null)},permanentlySetValue(y){b?(b.capture(k=>{k.set(e,y)}),b.commit(),b=null):de().transaction(k=>{k.set(e,y)})}}},[]),u={createAsset:b=>t.sheet.project.assetStorage.createAsset(b),getAssetUrl:b=>b.id?t.sheet.project.assetStorage.getAssetUrl(b.id):void 0},d=(0,Er.val)(ii(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Er.getPointerParts)(e).path))===!0,f=[],m=he(L(L({},s),u),{value:l,beingScrubbed:d,contextMenuItems:f,controlIndicators:Yl.default.createElement(Yl.default.Fragment,null)}),v=WJ(n);if(v){let b=(0,Er.val)(t.template.getMapOfValidSequenceTracks_forStudio()),y=va(b,i);if(typeof y=="string"){f.push({label:"Make static",callback:()=>{de().transaction(({stateEditors:z})=>{let V=he(L({},t.address),{pathToProp:i});z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},V),{value:t.getValueByPointer(e)}))})}});let k=y,x=Er.prism.sub("lcr",()=>{let z=(0,Er.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[k]),V=(0,Er.val)(t.sheet.getSequence().positionPrism);return E8(t,z&&{data:z,id:k,sheetObject:t},V)},[k]),S;m.beingScrubbed?S="Sequenced_OnKeyframe_BeingScrubbed":x.cur?S="Sequenced_OnKeyframe":((o=x.prev)==null?void 0:o.kf.connectedRight)===!0?S="Sequenced_BeingInterpolated":S="Sequened_NotBeingInterpolated";let _=()=>{x.cur?de().transaction(z=>{z.unset(e)}):de().transaction(z=>{z.set(e,m.value)})},O={cur:x.cur?{type:"on",itemKey:x.cur.itemKey,toggle:_}:{type:"off",toggle:_},prev:x.prev!==void 0?{itemKey:x.prev.itemKey,position:x.prev.kf.position,jump:()=>{t.sheet.getSequence().position=x.prev.kf.position}}:void 0,next:x.next!==void 0?{itemKey:x.next.itemKey,position:x.next.kf.position,jump:()=>{t.sheet.getSequence().position=x.next.kf.position}}:void 0},j=Yl.default.createElement(kb,L({},O));return he(L({},m),{type:"Sequenced",shade:S,nearbyKeyframes:x,controlIndicators:j})}}let g=(0,Er.val)(t.template.getStaticValues()),h=va(g,i);return typeof h<"u"&&f.push({label:"Reset to default",callback:()=>{de().transaction(({unset:b})=>{b(e)})}}),v&&f.push({label:"Sequence",callback:()=>{de().transaction(({stateEditors:b})=>{let y=he(L({},t.address),{pathToProp:i});b.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(y,n)})}}),typeof h<"u"?he(L({},m),{type:"Static",shade:m.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:Yl.default.createElement(nc,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}):he(L({},m),{type:"Default",shade:"Default",controlIndicators:Yl.default.createElement(nc,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})})}function fee(e,t,n){if(Rp.has(e))return Rp.get(e);{let o=dee(e,t,n);return Rp.set(e,o),o}}function Pb(e,t,n){let o=fee(e,t,n);return cv(o)}var Yl,Er,Rp,Cb=P(()=>{hu(),Yl=$(X()),Er=je,Ne(),Cp(),Fe(),ma(),k8(),P8(),Dp(),Rp=new WeakMap});function pee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=Pb(t,n,e);return Zt.default.createElement(By,{editingTools:i,propConfig:e,value:i.value})}function hee({pointerToProp:e,obj:t,propConfig:n,visualIndentation:o}){var i;let l=(i=n.label)!=null?i:si((0,ac.getPointerParts)(e).path),s=Object.entries(n.props),u=s.filter(([_,O])=>Jr(O)),d=s.filter(([_,O])=>!Jr(O)),[f,m]=Ye(null),v=eee(e,t,n),[g]=mn(m,{menuItems:v.contextMenuItems}),h=u.length>0,b=(0,Zt.useMemo)(()=>Bp.getIsPropHighlightedD(he(L({},t.address),{pathToProp:(0,ac.getPointerParts)(e).path})),[e]),y="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,ac.getPointerParts)(e).path.join()),k=tT(n);(0,Zt.useLayoutEffect)(()=>{Fp.has(y)||Fp.set(y,new ac.Atom(k))},[y,n]);let x=Fp.get(y),S=Xe(()=>x?(0,U8.val)(x.pointer):k,[x]);return Zt.default.createElement(H8,null,g,Zt.default.createElement(Ib,{style:{"--depth":o-1}},Zt.default.createElement(q8,{isVectorProp:k},Zt.default.createElement(L8,null,v.controlIndicators),Zt.default.createElement(G8,{isHighlighted:b,ref:f},Zt.default.createElement("span",null,l||"Props")),Zt.default.createElement(Q8,{isCollapsed:S,isVector:k,onClick:()=>{x==null||x.set(!x.get())}},Zt.default.createElement(aj,null))),k&&S&&Zt.default.createElement(rT,null,[...s].map(([_,O])=>Zt.default.createElement(pee,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t})))),!S&&Zt.default.createElement(eT,{style:{"--depth":o},depth:o,lastSubIsComposite:h},[...d,...u].map(([_,O])=>Zt.default.createElement(Ob,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t,visualIndentation:o+1}))))}var ac,Zt,U8,V8,H8,K8,Ib,W8,q8,$8,L8,Z8,G8,X8,Q8,Y8,J8,eT,tT,nT,rT,oT,Fp,mee=P(()=>{ma(),ac=je,kf(),Rn(),Zt=$(X()),be(),_O(),bi(),rt(),nt(),yT(),gn(),nee(),Eb(),M8(),G4(),Cb(),Fe(),U8=je,Ll(),wp(),H8=M.div(V8||(V8=R([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),tt),Ib=M.div(K8||(K8=R([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),q8=M.div(W8||(W8=R([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),pb,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),L8=M.div($8||($8=R([`
  flexshrink: 0;
`]))),G8=_b(M.div(Z8||(Z8=R([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>ga)),Q8=M.span(X8||(X8=R([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",Ib,e=>e.isCollapsed?15:75),Y8=br(.05,"#282b2f"),eT=M.div(J8||(J8=R([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>Pu(e*.03,Y8),e=>e.lastSubIsComposite?0:"4px"),tT=Lu(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([n,o])=>o.type==="number"&&["x","y","z"].includes(n))}),rT=M.div(nT||(nT=R([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),oT=Zt.default.memo(hee),Fp=new Map});function gee({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var vee=P(()=>{});function yee({propConfig:e,pointerToProp:t,editingTools:n,children:o,isPropHighlightedD:i}){var l;let s=(l=e.label)!=null?l:si((0,jb.getPointerParts)(t).path),[u,d]=Ye(null),[f]=mn(d,{menuItems:n.contextMenuItems});return Jl.default.createElement(iT,{isHighlighted:i},f,Jl.default.createElement(sT,null,Jl.default.createElement(fT,null,n.controlIndicators),Jl.default.createElement(cT,{isHighlighted:i,ref:u,title:["obj","props",...(0,jb.getPointerParts)(t).path].join(".")},s)),Jl.default.createElement(hT,null,o))}var jb,Jl,aT,iT,lT,sT,uT,cT,dT,fT,pT,hT,bee=P(()=>{jb=je,gn(),nt(),Rt(),Jl=$(X()),be(),rt(),bi(),M8(),_O(),vee(),iT=_b(M.div(aT||(aT=R([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),tt,gee)),sT=M.div(lT||(lT=R([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),pb),cT=_b(M.div(uT||(uT=R([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),ga)),fT=M.div(dT||(dT=R([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),hT=M.div(pT||(pT=R([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function kee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=Pb(t,n,e),l=(0,ic.useMemo)(()=>Bp.getIsPropHighlightedD(he(L({},n.address),{pathToProp:(0,mT.getPointerParts)(t).path})),[t]);return ic.default.createElement(yee,{editingTools:i,propConfig:e,pointerToProp:t,isPropHighlightedD:l},ic.default.createElement(o,{editingTools:i,propConfig:e,value:i.value}))}var ic,mT,gT,wee=P(()=>{ic=$(X()),Cb(),bee(),mT=je,Eb(),gT=ic.default.memo(kee)}),lc,vT,Ob,yT=P(()=>{lc=$(X()),EO(),mee(),wee(),vT=({propConfig:e,visualIndentation:t,pointerToProp:n,obj:o})=>{if(e.type==="compound")return lc.default.createElement(oT,{obj:o,visualIndentation:t,pointerToProp:n,propConfig:e});if(e.type==="enum")return lc.default.createElement(lc.default.Fragment,null);{let i=db[e.type];return lc.default.createElement(gT,{SimpleEditorComponent:i,obj:o,visualIndentation:t,pointerToProp:n,propConfig:e})}},Ob=vT});function bT(e){return Mp.has(e)||Mp.set(e,(kT++).toString()),Mp.get(e)}var Mp,kT,wT=P(()=>{Mp=new WeakMap,kT=0}),es,xT,ST,ET,_T,PT,CT,xee=P(()=>{es=$(X()),yT(),Fe(),wT(),be(),ST=M.div(xT||(xT=R([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),_T=M.button(ET||(ET=R([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),PT=({objects:e})=>{let t=e[0],n=Qe(t.template.configPointer),o=Qe(t.template._temp_actionsPointer);return es.default.createElement(es.default.Fragment,null,es.default.createElement(Ob,{key:bT(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),es.default.createElement(ST,null,o&&Object.entries(o).map(([i,l])=>es.default.createElement(_T,{key:i,onClick:()=>{l(t.publicApi)}},i))))},CT=PT}),IT,jT,Up,OT=P(()=>{be(),jT=M.button(IT||(IT=R([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),Up=jT}),See=P(()=>{}),TT,Eee=P(()=>{See(),TT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=n[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function zT(){return TT(16)}var DT=P(()=>{Eee()}),AT,Ao,Tb,BT,NT,RT,FT,MT=P(()=>{AT=je,nt(),Ao=$(X()),Tb=(0,Ao.createContext)(null),BT=0,NT=()=>{let e=(0,Ao.useMemo)(()=>BT++,[]),{cur:t,set:n}=(0,Ao.useContext)(Tb),[o,i]=Ye(!1),l=(0,Ao.useCallback)((s,u)=>{n(s?e:-1,u)},[]);return(0,Ao.useEffect)(()=>t.onStale(()=>{let s=t.getValue()===e;o.current!==s&&(o.current=s)}),[t,e]),[i,l]},RT=({children:e})=>{let t=(0,Ao.useMemo)(()=>new AT.Atom(-1),[]),n=t.prism,o=(0,Ao.useMemo)(()=>{let i;return(l,s)=>{let u=i!==void 0;i!==void 0&&(clearTimeout(i),i=void 0),s===0||u?t.set(l):i=setTimeout(()=>{t.set(l),i=void 0},s)}},[]);return Ao.default.createElement(Tb.Provider,{value:{cur:n,set:o}},e)},FT=RT});function ts(e,t){let n=e.enabled!==!1,[o,i]=NT(),[l,s]=Ye(null);(0,VT.useEffect)(()=>{if(!n)return;let d=l.current;if(!d)return;let f=()=>{var v;return i(!0,(v=e.enterDelay)!=null?v:400)},m=()=>{var v;return i(!1,(v=e.exitDelay)!=null?v:200)};return d.addEventListener("mouseenter",f),d.addEventListener("mouseleave",m),()=>{d.removeEventListener("mouseenter",f),d.removeEventListener("mouseleave",m)}},[l,n,e.enterDelay,e.exitDelay]);let u=(0,UT.useContext)(Rl);return[n&&o&&s?(0,HT.createPortal)(Vp.default.createElement(ab,{children:t,target:s,onClickOutside:kr,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),u):Vp.default.createElement(Vp.default.Fragment,null),l,o]}var UT,VT,Vp,HT,sc=P(()=>{nt(),UT=$(X()),VT=$(X()),Vp=$(X()),P6(),HT=$(xo()),MT(),gi(),Ul()}),KT,WT,ns,Hp=P(()=>{be(),Qr(),WT=M(Xr)(KT||(KT=R([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),ns=WT}),eo,qT,$T,LT,ZT,GT,XT,QT,YT,JT,_ee=P(()=>{Fe(),Ne(),eo=$(X()),be(),DT(),sc(),Hp(),OT(),$T=M.div(qT||(qT=R([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),ZT=M.div(LT||(LT=R([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),XT=M.div(GT||(GT=R([`
  display: flex;
  gap: 8px;
`]))),QT=({projectId:e})=>{let t=Qe(de().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?eo.default.createElement(YT,{loadingState:t,projectId:e}):null},YT=({projectId:e,loadingState:t})=>{let n=()=>{de().transaction(({drafts:d,stateEditors:f})=>{f.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),f.coreByProject.historic.revisionHistory.add({projectId:e,revision:zT()}),d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{de().transaction(({drafts:d})=>{d.historic.coreByProject[e]=t.onDiskState,d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[i,l]=ts({},()=>eo.default.createElement(ns,null,"The browser's state will override the disk state.")),[s,u]=ts({},()=>eo.default.createElement(ns,null,"The disk's state will override the browser's state."));return eo.default.createElement($T,null,eo.default.createElement(ZT,null,"Browser state is not based on disk state."," ",eo.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),eo.default.createElement(XT,null,i,eo.default.createElement(Up,{onClick:n,ref:l},"Use browser's state"),s,eo.default.createElement(Up,{onClick:o,ref:u},"Use disk state")))},JT=QT}),Pee=He((e,t)=>{(function(n){typeof e=="object"&&typeof t<"u"?t.exports=n():(typeof window<"u"?window:typeof Ln<"u"?Ln:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(o,i,l){function s(f,m){if(!i[f]){if(!o[f]){var v=typeof Bg=="function"&&Bg;if(!m&&v)return v(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var h=i[f]={exports:{}};o[f][0].call(h.exports,function(b){var y=o[f][1][b];return s(y||b)},h,h.exports,n,o,i,l)}return i[f].exports}for(var u=typeof Bg=="function"&&Bg,d=0;d<l.length;d++)s(l[d]);return s}({1:[function(n,o,i){var l=n("./utils"),s=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var f,m,v,g,h,b,y,k=[],x=0,S=d.length,_=S,O=l.getTypeOf(d)!=="string";x<d.length;)_=S-x,v=O?(f=d[x++],m=x<S?d[x++]:0,x<S?d[x++]:0):(f=d.charCodeAt(x++),m=x<S?d.charCodeAt(x++):0,x<S?d.charCodeAt(x++):0),g=f>>2,h=(3&f)<<4|m>>4,b=1<_?(15&m)<<2|v>>6:64,y=2<_?63&v:64,k.push(u.charAt(g)+u.charAt(h)+u.charAt(b)+u.charAt(y));return k.join("")},i.decode=function(d){var f,m,v,g,h,b,y=0,k=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&_--,d.charAt(d.length-2)===u.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|_):new Array(0|_);y<d.length;)f=u.indexOf(d.charAt(y++))<<2|(g=u.indexOf(d.charAt(y++)))>>4,m=(15&g)<<4|(h=u.indexOf(d.charAt(y++)))>>2,v=(3&h)<<6|(b=u.indexOf(d.charAt(y++))),S[k++]=f,h!==64&&(S[k++]=m),b!==64&&(S[k++]=v);return S}},{"./support":30,"./utils":32}],2:[function(n,o,i){var l=n("./external"),s=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(m,v,g,h,b){this.compressedSize=m,this.uncompressedSize=v,this.crc32=g,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new s(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,v,g){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var l=n("./utils"),s=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();o.exports=function(u,d){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m[y])];return-1^f}(0|d,u,u.length,0):function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m.charCodeAt(y))];return-1^f}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=l?"uint8array":"array";function m(v,g){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}i.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,v.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},i.compressWorker=function(v){return new m("Deflate",v)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function l(h,b){var y,k="";for(y=0;y<b;y++)k+=String.fromCharCode(255&h),h>>>=8;return k}function s(h,b,y,k,x,S){var _,O,j=h.file,z=h.compression,V=S!==f.utf8encode,W=u.transformTo("string",S(j.name)),B=u.transformTo("string",f.utf8encode(j.name)),Z=j.comment,re=u.transformTo("string",S(Z)),D=u.transformTo("string",f.utf8encode(Z)),G=B.length!==j.name.length,C=D.length!==Z.length,Y="",xe="",q="",K=j.dir,ee=j.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var A=0;b&&(A|=8),V||!G&&!C||(A|=2048);var N=0,oe=0;K&&(N|=16),x==="UNIX"?(oe=798,N|=function(ue,te){var Oe=ue;return ue||(Oe=te?16893:33204),(65535&Oe)<<16}(j.unixPermissions,K)):(oe=20,N|=function(ue){return 63&(ue||0)}(j.dosPermissions)),_=ee.getUTCHours(),_<<=6,_|=ee.getUTCMinutes(),_<<=5,_|=ee.getUTCSeconds()/2,O=ee.getUTCFullYear()-1980,O<<=4,O|=ee.getUTCMonth()+1,O<<=5,O|=ee.getUTCDate(),G&&(xe=l(1,1)+l(m(W),4)+B,Y+="up"+l(xe.length,2)+xe),C&&(q=l(1,1)+l(m(re),4)+D,Y+="uc"+l(q.length,2)+q);var le="";return le+=`
\0`,le+=l(A,2),le+=z.magic,le+=l(_,2),le+=l(O,2),le+=l(ge.crc32,4),le+=l(ge.compressedSize,4),le+=l(ge.uncompressedSize,4),le+=l(W.length,2),le+=l(Y.length,2),{fileRecord:v.LOCAL_FILE_HEADER+le+W+Y,dirRecord:v.CENTRAL_FILE_HEADER+l(oe,2)+le+l(re.length,2)+"\0\0\0\0"+l(N,4)+l(k,4)+W+Y+re}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),v=n("../signature");function g(h,b,y,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(g,d),g.prototype.push=function(h){var b=h.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,d.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-k-1))/y:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var y=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,y=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(k){return v.DATA_DESCRIPTOR+l(k.crc32,4)+l(k.compressedSize,4)+l(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-h,k=function(x,S,_,O,j){var z=u.transformTo("string",j(O));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(x,2)+l(x,2)+l(S,4)+l(_,4)+l(z.length,2)+z}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(y){b.processChunk(y)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(y){b.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var b=this._sources;if(!d.prototype.error.call(this,h))return!1;for(var y=0;y<b.length;y++)try{b[y].error(h)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var l=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(u,d,f){var m=new s(d.streamFiles,f,d.platform,d.encodeFileName),v=0;try{u.forEach(function(g,h){v++;var b=function(S,_){var O=S||_,j=l[O];if(!j)throw new Error(O+" is not a valid compression method !");return j}(h.options.compression,d.compression),y=h.options.compressionOptions||d.compressionOptions||{},k=h.dir,x=h.date;h._compressWorker(b,y).withStreamInfo("file",{name:g,dir:k,date:x,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new l;for(var u in this)typeof this[u]!="function"&&(s[u]=this[u]);return s}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(s,u){return new l().loadAsync(s,u)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var l=n("./utils"),s=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function v(g){return new s.Promise(function(h,b){var y=g.decompressed.getContentWorker().pipe(new f);y.on("error",function(k){b(k)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(g,h){var b=this;return h=l.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(y){var k=new d(h);return k.load(y),k}).then(function(y){var k=[s.Promise.resolve(y)],x=y.files;if(h.checkCRC32)for(var S=0;S<x.length;S++)k.push(v(x[S]));return s.Promise.all(k)}).then(function(y){for(var k=y.shift(),x=k.files,S=0;S<x.length;S++){var _=x[S],O=_.fileNameStr,j=l.resolve(_.fileNameStr);b.file(j,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:h.createFolders}),_.dir||(b.file(j).unsafeOriginalName=O)}return k.zipComment.length&&(b.comment=k.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var l=n("../utils"),s=n("../stream/GenericWorker");function u(d,f){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}l.inherits(u,s),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var l=n("readable-stream").Readable;function s(u,d,f){l.call(this,d),this._helper=u;var m=this;u.on("data",function(v,g){m.push(v)||m._helper.pause(),f&&f(g)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}n("../utils").inherits(s,l),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,i){function l(j,z,V){var W,B=u.getTypeOf(z),Z=u.extend(V||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(j=x(j)),Z.createFolders&&(W=k(j))&&S.call(this,W,!0);var re=B==="string"&&Z.binary===!1&&Z.base64===!1;V&&V.binary!==void 0||(Z.binary=!re),(z instanceof v&&z.uncompressedSize===0||Z.dir||!z||z.length===0)&&(Z.base64=!1,Z.binary=!0,z="",Z.compression="STORE",B="string");var D=null;D=z instanceof v||z instanceof d?z:b.isNode&&b.isStream(z)?new y(j,z):u.prepareContent(j,z,Z.binary,Z.optimizedBinaryString,Z.base64);var G=new g(j,D,Z);this.files[j]=G}var s=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),v=n("./compressedObject"),g=n("./zipObject"),h=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),k=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var z=j.lastIndexOf("/");return 0<z?j.substring(0,z):""},x=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},S=function(j,z){return z=z!==void 0?z:m.createFolders,j=x(j),this.files[j]||l.call(this,j,null,{dir:!0,createFolders:z}),this.files[j]};function _(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var z,V,W;for(z in this.files)W=this.files[z],(V=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&j(V,W)},filter:function(j){var z=[];return this.forEach(function(V,W){j(V,W)&&z.push(W)}),z},file:function(j,z,V){if(arguments.length!==1)return j=this.root+j,l.call(this,j,z,V),this;if(_(j)){var W=j;return this.filter(function(Z,re){return!re.dir&&W.test(Z)})}var B=this.files[this.root+j];return B&&!B.dir?B:null},folder:function(j){if(!j)return this;if(_(j))return this.filter(function(B,Z){return Z.dir&&j.test(B)});var z=this.root+j,V=S.call(this,z),W=this.clone();return W.root=V.name,W},remove:function(j){j=this.root+j;var z=this.files[j];if(z||(j.slice(-1)!=="/"&&(j+="/"),z=this.files[j]),z&&!z.dir)delete this.files[j];else for(var V=this.filter(function(B,Z){return Z.name.slice(0,j.length)===j}),W=0;W<V.length;W++)delete this.files[V[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var z,V={};try{if((V=u.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var W=V.comment||this.comment||"";z=h.generateWorker(this,V,W)}catch(B){(z=new d("error")).error(B)}return new f(z,V.type||"string",V.mimeType)},generateAsync:function(j,z){return this.generateInternalStream(j).accumulate(z)},generateNodeStream:function(j,z){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(z)}};o.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data[this.zero+u]},s.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===f&&this.data[g+2]===m&&this.data[g+3]===v)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.readData(4);return d===g[0]&&f===g[1]&&m===g[2]&&v===g[3]},s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var l=n("../utils");function s(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,i){var l=n("./Uint8ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},s.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},s.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var l=n("./ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var l=n("../utils"),s=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");o.exports=function(v){var g=l.getTypeOf(v);return l.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new f(v):s.uint8array?new m(l.transformTo("uint8array",v)):new u(l.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var l=n("./GenericWorker"),s=n("../utils");function u(d){l.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(u,l),u.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var l=n("./GenericWorker"),s=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(u,s),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}s.prototype.processChunk.call(this,d)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=l.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}l.inherits(u,s),u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,u){return this._listeners[s].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,u){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,u)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var u=this;return s.on("data",function(d){u.processChunk(d)}),s.on("end",function(){u.end()}),s.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,u){return this.extraStreamInfo[s]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=l},{}],29:[function(n,o,i){var l=n("../utils"),s=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),m=n("../external"),v=null;if(f.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,y){return new m.Promise(function(k,x){var S=[],_=b._internalType,O=b._outputType,j=b._mimeType;b.on("data",function(z,V){S.push(z),y&&y(V)}).on("error",function(z){S=[],x(z)}).on("end",function(){try{var z=function(V,W,B){switch(V){case"blob":return l.newBlob(l.transformTo("arraybuffer",W),B);case"base64":return d.encode(W);default:return l.transformTo(V,W)}}(O,function(V,W){var B,Z=0,re=null,D=0;for(B=0;B<W.length;B++)D+=W[B].length;switch(V){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(re=new Uint8Array(D),B=0;B<W.length;B++)re.set(W[B],Z),Z+=W[B].length;return re;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+V+"'")}}(_,S),j);k(z)}catch(V){x(V)}S=[]}).resume()})}function h(b,y,k){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=k,l.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}h.prototype={accumulate:function(b){return g(this,b)},on:function(b,y){var k=this;return b==="data"?this._worker.on(b,function(x){y.call(k,x.data,x.meta)}):this._worker.on(b,function(){l.delay(y,arguments,k)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(l),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var l=n("./utils"),s=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?u.newBufferFrom(h,"utf-8"):function(b){var y,k,x,S,_,O=b.length,j=0;for(S=0;S<O;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),j+=k<128?1:k<2048?2:k<65536?3:4;for(y=s.uint8array?new Uint8Array(j):new Array(j),S=_=0;_<j;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),k<128?y[_++]=k:(k<2048?y[_++]=192|k>>>6:(k<65536?y[_++]=224|k>>>12:(y[_++]=240|k>>>18,y[_++]=128|k>>>12&63),y[_++]=128|k>>>6&63),y[_++]=128|63&k);return y}(h)},i.utf8decode=function(h){return s.nodebuffer?l.transformTo("nodebuffer",h).toString("utf-8"):function(b){var y,k,x,S,_=b.length,O=new Array(2*_);for(y=k=0;y<_;)if((x=b[y++])<128)O[k++]=x;else if(4<(S=f[x]))O[k++]=65533,y+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&y<_;)x=x<<6|63&b[y++],S--;1<S?O[k++]=65533:x<65536?O[k++]=x:(x-=65536,O[k++]=55296|x>>10&1023,O[k++]=56320|1023&x)}return O.length!==k&&(O.subarray?O=O.subarray(0,k):O.length=k),l.applyFromCharCode(O)}(h=l.transformTo(s.uint8array?"uint8array":"array",h))},l.inherits(v,d),v.prototype.processChunk=function(h){var b=l.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var k=function(S,_){var O;for((_=_||S.length)>S.length&&(_=S.length),O=_-1;0<=O&&(192&S[O])==128;)O--;return O<0||O===0?_:O+f[S[O]]>_?O:_}(b),x=b;k!==b.length&&(s.uint8array?(x=b.subarray(0,k),this.leftOver=b.subarray(k,b.length)):(x=b.slice(0,k),this.leftOver=b.slice(k,b.length))),this.push({data:i.utf8decode(x),meta:h.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,l.inherits(g,d),g.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var l=n("./support"),s=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(y){return y}function m(y,k){for(var x=0;x<y.length;++x)k[x]=255&y.charCodeAt(x);return k}n("setimmediate"),i.newBlob=function(y,k){i.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(y,k,x){var S=[],_=0,O=y.length;if(O<=x)return String.fromCharCode.apply(null,y);for(;_<O;)k==="array"||k==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+x,O)))):S.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+x,O)))),_+=x;return S.join("")},stringifyByChar:function(y){for(var k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);return k},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function g(y){var k=65536,x=i.getTypeOf(y),S=!0;if(x==="uint8array"?S=v.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=v.applyCanBeUsed.nodebuffer),S)for(;1<k;)try{return v.stringifyByChunk(y,x,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(y)}function h(y,k){for(var x=0;x<y.length;x++)k[x]=y[x];return k}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},b.array={string:g,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},b.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return u.newBufferFrom(y)}},b.nodebuffer={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:f},i.transformTo=function(y,k){if(k=k||"",!y)return k;i.checkSupport(y);var x=i.getTypeOf(k);return b[x][y](k)},i.resolve=function(y){for(var k=y.split("/"),x=[],S=0;S<k.length;S++){var _=k[S];_==="."||_===""&&S!==0&&S!==k.length-1||(_===".."?x.pop():x.push(_))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var k,x,S="";for(x=0;x<(y||"").length;x++)S+="\\x"+((k=y.charCodeAt(x))<16?"0":"")+k.toString(16).toUpperCase();return S},i.delay=function(y,k,x){setImmediate(function(){y.apply(x||null,k||[])})},i.inherits=function(y,k){function x(){}x.prototype=k.prototype,y.prototype=new x},i.extend=function(){var y,k,x={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&x[k]===void 0&&(x[k]=arguments[y][k]);return x},i.prepareContent=function(y,k,x,S,_){return d.Promise.resolve(k).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,z){var V=new FileReader;V.onload=function(W){j(W.target.result)},V.onerror=function(W){z(W.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var j=i.getTypeOf(O);return j?(j==="arraybuffer"?O=i.transformTo("uint8array",O):j==="string"&&(_?O=s.decode(O):x&&S!==!0&&(O=function(z){return m(z,l.uint8array?new Uint8Array(z.length):new Array(z.length))}(O))),O):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(v)+")")}},isSignature:function(v,g){var h=this.reader.index;this.reader.setIndex(v);var b=this.reader.readString(4)===g;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",h=s.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,h,b=this.zip64EndOfCentralSize-44;0<b;)v=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=g-h;if(0<b)this.isSignature(g,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),m=n("./compressions"),v=n("./support");function g(h,b){this.options=h,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(k){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===k)return m[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=l(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,y,k,x=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<x;)b=h.readInt(2),y=h.readInt(2),k=h.readData(y),this.extraFields[b]={id:b,length:y,value:k};h.setIndex(x)},handleUTF8:function(){var h=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var x=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function l(b,y,k){this.name=b,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var s=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");l.prototype={internalStream:function(b){var y=null,k="string";try{if(!b)throw new Error("No output type specified.");var x=(k=b.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!S&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(_){(y=new m("error")).error(_)}return new s(y,k,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(k,b,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<v.length;h++)l.prototype[v[h]]=g;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(l){var s,u,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var f=0,m=new d(b),v=l.document.createTextNode("");m.observe(v,{characterData:!0}),s=function(){v.data=f=++f%2}}else if(l.setImmediate||l.MessageChannel===void 0)s="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var g=new l.MessageChannel;g.port1.onmessage=b,s=function(){g.port2.postMessage(0)}}var h=[];function b(){var y,k;u=!0;for(var x=h.length;x;){for(k=h,h=[],y=-1;++y<x;)k[y]();x=h.length}u=!1}o.exports=function(y){h.push(y)!==1||u||s()}}).call(this,typeof Ln<"u"?Ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var l=n("immediate");function s(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function v(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function g(x,S,_){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function h(x,S,_){l(function(){var O;try{O=S(_)}catch(j){return u.reject(x,j)}O===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,O)})}function b(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function y(x,S){var _=!1;function O(V){_||(_=!0,u.reject(x,V))}function j(V){_||(_=!0,u.resolve(x,V))}var z=k(function(){S(j,O)});z.status==="error"&&O(z.value)}function k(x,S){var _={};try{_.value=x(S),_.status="success"}catch(O){_.status="error",_.value=O}return _}(o.exports=v).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(_){return S.resolve(x()).then(function(){return _})},function(_){return S.resolve(x()).then(function(){throw _})})},v.prototype.catch=function(x){return this.then(null,x)},v.prototype.then=function(x,S){if(typeof x!="function"&&this.state===f||typeof S!="function"&&this.state===d)return this;var _=new this.constructor(s);return this.state!==m?h(_,this.state===f?x:S,this.outcome):this.queue.push(new g(_,x,S)),_},g.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){u.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)},u.resolve=function(x,S){var _=k(b,S);if(_.status==="error")return u.reject(x,_.value);var O=_.value;if(O)y(x,O);else{x.state=f,x.outcome=S;for(var j=-1,z=x.queue.length;++j<z;)x.queue[j].callFulfilled(S)}return x},u.reject=function(x,S){x.state=d,x.outcome=S;for(var _=-1,O=x.queue.length;++_<O;)x.queue[_].callRejected(S);return x},v.resolve=function(x){return x instanceof this?x:u.resolve(new this(s),x)},v.reject=function(x){var S=new this(s);return u.reject(S,x)},v.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=new Array(_),z=0,V=-1,W=new this(s);++V<_;)B(x[V],V);return W;function B(Z,re){S.resolve(Z).then(function(D){j[re]=D,++z!==_||O||(O=!0,u.resolve(W,j))},function(D){O||(O=!0,u.reject(W,D))})}},v.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=-1,z=new this(s);++j<_;)V=x[j],S.resolve(V).then(function(W){O||(O=!0,u.resolve(z,W))},function(W){O||(O=!0,u.reject(z,W))});var V;return z}},{immediate:36}],38:[function(n,o,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var l=n("./zlib/deflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,v=0,g=-1,h=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=l.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(_!==v)throw new Error(d[_]);if(S.header&&l.deflateSetHeader(this.strm,S.header),S.dictionary){var O;if(O=typeof S.dictionary=="string"?u.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(_=l.deflateSetDictionary(this.strm,O))!==v)throw new Error(d[_]);this._dict_set=!0}}function k(x,S){var _=new y(S);if(_.push(x,!0),_.err)throw _.msg||d[_.err];return _.result}y.prototype.push=function(x,S){var _,O,j=this.strm,z=this.options.chunkSize;if(this.ended)return!1;O=S===~~S?S:S===!0?4:0,typeof x=="string"?j.input=u.string2buf(x):m.call(x)==="[object ArrayBuffer]"?j.input=new Uint8Array(x):j.input=x,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(z),j.next_out=0,j.avail_out=z),(_=l.deflate(j,O))!==1&&_!==v)return this.onEnd(_),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&_!==1);return O===4?(_=l.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===v):O!==2||(this.onEnd(v),!(j.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=k,i.deflateRaw=function(x,S){return(S=S||{}).raw=!0,k(x,S)},i.gzip=function(x,S){return(S=S||{}).gzip=!0,k(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var l=n("./zlib/inflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),v=n("./zlib/gzheader"),g=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=l.inflateInit2(this.strm,k.windowBits);if(x!==d.Z_OK)throw new Error(f[x]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function b(y,k){var x=new h(k);if(x.push(y,!0),x.err)throw x.msg||f[x.err];return x.result}h.prototype.push=function(y,k){var x,S,_,O,j,z,V=this.strm,W=this.options.chunkSize,B=this.options.dictionary,Z=!1;if(this.ended)return!1;S=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?V.input=u.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?V.input=new Uint8Array(y):V.input=y,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new s.Buf8(W),V.next_out=0,V.avail_out=W),(x=l.inflate(V,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&B&&(z=typeof B=="string"?u.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,x=l.inflateSetDictionary(this.strm,z)),x===d.Z_BUF_ERROR&&Z===!0&&(x=d.Z_OK,Z=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&x!==d.Z_STREAM_END&&(V.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=u.utf8border(V.output,V.next_out),O=V.next_out-_,j=u.buf2string(V.output,_),V.next_out=O,V.avail_out=W-O,O&&s.arraySet(V.output,V.output,_,O,0),this.onData(j)):this.onData(s.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(Z=!0)}while((0<V.avail_in||V.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(x=l.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(V.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=h,i.inflate=b,i.inflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(d[v]=m[v])}}return d},i.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var s={arraySet:function(d,f,m,v,g){if(f.subarray&&d.subarray)d.set(f.subarray(m,m+v),g);else for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){var f,m,v,g,h,b;for(f=v=0,m=d.length;f<m;f++)v+=d[f].length;for(b=new Uint8Array(v),f=g=0,m=d.length;f<m;f++)h=d[f],b.set(h,g),g+=h.length;return b}},u={arraySet:function(d,f,m,v,g){for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(l)},{}],42:[function(n,o,i){var l=n("./common"),s=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new l.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(v,g){if(g<65537&&(v.subarray&&u||!v.subarray&&s))return String.fromCharCode.apply(null,l.shrinkBuf(v,g));for(var h="",b=0;b<g;b++)h+=String.fromCharCode(v[b]);return h}d[254]=d[254]=1,i.string2buf=function(v){var g,h,b,y,k,x=v.length,S=0;for(y=0;y<x;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),S+=h<128?1:h<2048?2:h<65536?3:4;for(g=new l.Buf8(S),y=k=0;k<S;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),h<128?g[k++]=h:(h<2048?g[k++]=192|h>>>6:(h<65536?g[k++]=224|h>>>12:(g[k++]=240|h>>>18,g[k++]=128|h>>>12&63),g[k++]=128|h>>>6&63),g[k++]=128|63&h);return g},i.buf2binstring=function(v){return m(v,v.length)},i.binstring2buf=function(v){for(var g=new l.Buf8(v.length),h=0,b=g.length;h<b;h++)g[h]=v.charCodeAt(h);return g},i.buf2string=function(v,g){var h,b,y,k,x=g||v.length,S=new Array(2*x);for(h=b=0;h<x;)if((y=v[h++])<128)S[b++]=y;else if(4<(k=d[y]))S[b++]=65533,h+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&h<x;)y=y<<6|63&v[h++],k--;1<k?S[b++]=65533:y<65536?S[b++]=y:(y-=65536,S[b++]=55296|y>>10&1023,S[b++]=56320|1023&y)}return m(S,b)},i.utf8border=function(v,g){var h;for((g=g||v.length)>v.length&&(g=v.length),h=g-1;0<=h&&(192&v[h])==128;)h--;return h<0||h===0?g:h+d[v[h]]>g?h:g}},{"./common":41}],43:[function(n,o,i){o.exports=function(l,s,u,d){for(var f=65535&l|0,m=l>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;m=m+(f=f+s[d++]|0)|0,--v;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var l=function(){for(var s,u=[],d=0;d<256;d++){s=d;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[d]=s}return u}();o.exports=function(s,u,d,f){var m=l,v=f+d;s^=-1;for(var g=f;g<v;g++)s=s>>>8^m[255&(s^u[g])];return-1^s}},{}],46:[function(n,o,i){var l,s=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),m=n("./messages"),v=0,g=4,h=0,b=-2,y=-1,k=4,x=2,S=8,_=9,O=286,j=30,z=19,V=2*O+1,W=15,B=3,Z=258,re=Z+B+1,D=42,G=113,C=1,Y=2,xe=3,q=4;function K(I,fe){return I.msg=m[fe],fe}function ee(I){return(I<<1)-(4<I?9:0)}function ge(I){for(var fe=I.length;0<=--fe;)I[fe]=0}function A(I){var fe=I.state,ce=fe.pending;ce>I.avail_out&&(ce=I.avail_out),ce!==0&&(s.arraySet(I.output,fe.pending_buf,fe.pending_out,ce,I.next_out),I.next_out+=ce,fe.pending_out+=ce,I.total_out+=ce,I.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function N(I,fe){u._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,fe),I.block_start=I.strstart,A(I.strm)}function oe(I,fe){I.pending_buf[I.pending++]=fe}function le(I,fe){I.pending_buf[I.pending++]=fe>>>8&255,I.pending_buf[I.pending++]=255&fe}function ue(I,fe){var ce,U,F=I.max_chain_length,ne=I.strstart,ve=I.prev_length,ke=I.nice_match,ae=I.strstart>I.w_size-re?I.strstart-(I.w_size-re):0,Se=I.window,ye=I.w_mask,we=I.prev,Ue=I.strstart+Z,ot=Se[ne+ve-1],Ze=Se[ne+ve];I.prev_length>=I.good_match&&(F>>=2),ke>I.lookahead&&(ke=I.lookahead);do if(Se[(ce=fe)+ve]===Ze&&Se[ce+ve-1]===ot&&Se[ce]===Se[ne]&&Se[++ce]===Se[ne+1]){ne+=2,ce++;do;while(Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&ne<Ue);if(U=Z-(Ue-ne),ne=Ue-Z,ve<U){if(I.match_start=fe,ke<=(ve=U))break;ot=Se[ne+ve-1],Ze=Se[ne+ve]}}while((fe=we[fe&ye])>ae&&--F!=0);return ve<=I.lookahead?ve:I.lookahead}function te(I){var fe,ce,U,F,ne,ve,ke,ae,Se,ye,we=I.w_size;do{if(F=I.window_size-I.lookahead-I.strstart,I.strstart>=we+(we-re)){for(s.arraySet(I.window,I.window,we,we,0),I.match_start-=we,I.strstart-=we,I.block_start-=we,fe=ce=I.hash_size;U=I.head[--fe],I.head[fe]=we<=U?U-we:0,--ce;);for(fe=ce=we;U=I.prev[--fe],I.prev[fe]=we<=U?U-we:0,--ce;);F+=we}if(I.strm.avail_in===0)break;if(ve=I.strm,ke=I.window,ae=I.strstart+I.lookahead,Se=F,ye=void 0,ye=ve.avail_in,Se<ye&&(ye=Se),ce=ye===0?0:(ve.avail_in-=ye,s.arraySet(ke,ve.input,ve.next_in,ye,ae),ve.state.wrap===1?ve.adler=d(ve.adler,ke,ye,ae):ve.state.wrap===2&&(ve.adler=f(ve.adler,ke,ye,ae)),ve.next_in+=ye,ve.total_in+=ye,ye),I.lookahead+=ce,I.lookahead+I.insert>=B)for(ne=I.strstart-I.insert,I.ins_h=I.window[ne],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+B-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++,I.insert--,!(I.lookahead+I.insert<B)););}while(I.lookahead<re&&I.strm.avail_in!==0)}function Oe(I,fe){for(var ce,U;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ce!==0&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce)),I.match_length>=B)if(U=u._tr_tally(I,I.strstart-I.match_start,I.match_length-B),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=B){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else U=u._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(U&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Y}function me(I,fe){for(var ce,U,F;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=B-1,ce!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce),I.match_length<=5&&(I.strategy===1||I.match_length===B&&4096<I.strstart-I.match_start)&&(I.match_length=B-1)),I.prev_length>=B&&I.match_length<=I.prev_length){for(F=I.strstart+I.lookahead-B,U=u._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-B),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=F&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=B-1,I.strstart++,U&&(N(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((U=u._tr_tally(I,0,I.window[I.strstart-1]))&&N(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(U=u._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Y}function Ie(I,fe,ce,U,F){this.good_length=I,this.max_lazy=fe,this.nice_length=ce,this.max_chain=U,this.func=F}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*V),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*O+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*O+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(I){var fe;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=x,(fe=I.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?D:G,I.adler=fe.wrap===2?0:1,fe.last_flush=v,u._tr_init(fe),h):K(I,b)}function Ve(I){var fe=We(I);return fe===h&&function(ce){ce.window_size=2*ce.w_size,ge(ce.head),ce.max_lazy_match=l[ce.level].max_lazy,ce.good_match=l[ce.level].good_length,ce.nice_match=l[ce.level].nice_length,ce.max_chain_length=l[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,ce.ins_h=0}(I.state),fe}function it(I,fe,ce,U,F,ne){if(!I)return b;var ve=1;if(fe===y&&(fe=6),U<0?(ve=0,U=-U):15<U&&(ve=2,U-=16),F<1||_<F||ce!==S||U<8||15<U||fe<0||9<fe||ne<0||k<ne)return K(I,b);U===8&&(U=9);var ke=new Ae;return(I.state=ke).strm=I,ke.wrap=ve,ke.gzhead=null,ke.w_bits=U,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=F+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+B-1)/B),ke.window=new s.Buf8(2*ke.w_size),ke.head=new s.Buf16(ke.hash_size),ke.prev=new s.Buf16(ke.w_size),ke.lit_bufsize=1<<F+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new s.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=fe,ke.strategy=ne,ke.method=ce,Ve(I)}l=[new Ie(0,0,0,0,function(I,fe){var ce=65535;for(ce>I.pending_buf_size-5&&(ce=I.pending_buf_size-5);;){if(I.lookahead<=1){if(te(I),I.lookahead===0&&fe===v)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var U=I.block_start+ce;if((I.strstart===0||I.strstart>=U)&&(I.lookahead=I.strstart-U,I.strstart=U,N(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-re&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=0,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):(I.strstart>I.block_start&&(N(I,!1),I.strm.avail_out),C)}),new Ie(4,4,8,4,Oe),new Ie(4,5,16,8,Oe),new Ie(4,6,32,32,Oe),new Ie(4,4,16,16,me),new Ie(8,16,32,32,me),new Ie(8,16,128,128,me),new Ie(8,32,128,256,me),new Ie(32,128,258,1024,me),new Ie(32,258,258,4096,me)],i.deflateInit=function(I,fe){return it(I,fe,S,15,8,0)},i.deflateInit2=it,i.deflateReset=Ve,i.deflateResetKeep=We,i.deflateSetHeader=function(I,fe){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=fe,h):b},i.deflate=function(I,fe){var ce,U,F,ne;if(!I||!I.state||5<fe||fe<0)return I?K(I,b):b;if(U=I.state,!I.output||!I.input&&I.avail_in!==0||U.status===666&&fe!==g)return K(I,I.avail_out===0?-5:b);if(U.strm=I,ce=U.last_flush,U.last_flush=fe,U.status===D)if(U.wrap===2)I.adler=0,oe(U,31),oe(U,139),oe(U,8),U.gzhead?(oe(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),oe(U,255&U.gzhead.time),oe(U,U.gzhead.time>>8&255),oe(U,U.gzhead.time>>16&255),oe(U,U.gzhead.time>>24&255),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(oe(U,255&U.gzhead.extra.length),oe(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(I.adler=f(I.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,3),U.status=G);else{var ve=S+(U.w_bits-8<<4)<<8;ve|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ve|=32),ve+=31-ve%31,U.status=G,le(U,ve),U.strstart!==0&&(le(U,I.adler>>>16),le(U,65535&I.adler)),I.adler=1}if(U.status===69)if(U.gzhead.extra){for(F=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),A(I),F=U.pending,U.pending!==U.pending_buf_size));)oe(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){F=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),A(I),F=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),ne===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){F=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),A(I),F=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>F&&(I.adler=f(I.adler,U.pending_buf,U.pending-F,F)),ne===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&A(I),U.pending+2<=U.pending_buf_size&&(oe(U,255&I.adler),oe(U,I.adler>>8&255),I.adler=0,U.status=G)):U.status=G),U.pending!==0){if(A(I),I.avail_out===0)return U.last_flush=-1,h}else if(I.avail_in===0&&ee(fe)<=ee(ce)&&fe!==g)return K(I,-5);if(U.status===666&&I.avail_in!==0)return K(I,-5);if(I.avail_in!==0||U.lookahead!==0||fe!==v&&U.status!==666){var ke=U.strategy===2?function(ae,Se){for(var ye;;){if(ae.lookahead===0&&(te(ae),ae.lookahead===0)){if(Se===v)return C;break}if(ae.match_length=0,ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Y}(U,fe):U.strategy===3?function(ae,Se){for(var ye,we,Ue,ot,Ze=ae.window;;){if(ae.lookahead<=Z){if(te(ae),ae.lookahead<=Z&&Se===v)return C;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=B&&0<ae.strstart&&(we=Ze[Ue=ae.strstart-1])===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]){ot=ae.strstart+Z;do;while(we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&Ue<ot);ae.match_length=Z-(ot-Ue),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=B?(ye=u._tr_tally(ae,1,ae.match_length-B),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Y}(U,fe):l[U.level].func(U,fe);if(ke!==xe&&ke!==q||(U.status=666),ke===C||ke===xe)return I.avail_out===0&&(U.last_flush=-1),h;if(ke===Y&&(fe===1?u._tr_align(U):fe!==5&&(u._tr_stored_block(U,0,0,!1),fe===3&&(ge(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),A(I),I.avail_out===0))return U.last_flush=-1,h}return fe!==g?h:U.wrap<=0?1:(U.wrap===2?(oe(U,255&I.adler),oe(U,I.adler>>8&255),oe(U,I.adler>>16&255),oe(U,I.adler>>24&255),oe(U,255&I.total_in),oe(U,I.total_in>>8&255),oe(U,I.total_in>>16&255),oe(U,I.total_in>>24&255)):(le(U,I.adler>>>16),le(U,65535&I.adler)),A(I),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?h:1)},i.deflateEnd=function(I){var fe;return I&&I.state?(fe=I.state.status)!==D&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==G&&fe!==666?K(I,b):(I.state=null,fe===G?K(I,-3):h):b},i.deflateSetDictionary=function(I,fe){var ce,U,F,ne,ve,ke,ae,Se,ye=fe.length;if(!I||!I.state||(ne=(ce=I.state).wrap)===2||ne===1&&ce.status!==D||ce.lookahead)return b;for(ne===1&&(I.adler=d(I.adler,fe,ye,0)),ce.wrap=0,ye>=ce.w_size&&(ne===0&&(ge(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Se=new s.Buf8(ce.w_size),s.arraySet(Se,fe,ye-ce.w_size,ce.w_size,0),fe=Se,ye=ce.w_size),ve=I.avail_in,ke=I.next_in,ae=I.input,I.avail_in=ye,I.next_in=0,I.input=fe,te(ce);ce.lookahead>=B;){for(U=ce.strstart,F=ce.lookahead-(B-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[U+B-1])&ce.hash_mask,ce.prev[U&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=U,U++,--F;);ce.strstart=U,ce.lookahead=B-1,te(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,I.next_in=ke,I.input=ae,I.avail_in=ve,ce.wrap=ne,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(l,s){var u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V,W,B,Z,re,D,G,C,Y;u=l.state,d=l.next_in,C=l.input,f=d+(l.avail_in-5),m=l.next_out,Y=l.output,v=m-(s-l.avail_out),g=m+(l.avail_out-257),h=u.dmax,b=u.wsize,y=u.whave,k=u.wnext,x=u.window,S=u.hold,_=u.bits,O=u.lencode,j=u.distcode,z=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=O[S&z];t:for(;;){if(S>>>=B=W>>>24,_-=B,(B=W>>>16&255)===0)Y[m++]=65535&W;else{if(!(16&B)){if(!(64&B)){W=O[(65535&W)+(S&(1<<B)-1)];continue t}if(32&B){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Z=65535&W,(B&=15)&&(_<B&&(S+=C[d++]<<_,_+=8),Z+=S&(1<<B)-1,S>>>=B,_-=B),_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=j[S&V];n:for(;;){if(S>>>=B=W>>>24,_-=B,!(16&(B=W>>>16&255))){if(!(64&B)){W=j[(65535&W)+(S&(1<<B)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(re=65535&W,_<(B&=15)&&(S+=C[d++]<<_,(_+=8)<B&&(S+=C[d++]<<_,_+=8)),h<(re+=S&(1<<B)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=B,_-=B,(B=m-v)<re){if(y<(B=re-B)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(G=x,(D=0)===k){if(D+=b-B,B<Z){for(Z-=B;Y[m++]=x[D++],--B;);D=m-re,G=Y}}else if(k<B){if(D+=b+k-B,(B-=k)<Z){for(Z-=B;Y[m++]=x[D++],--B;);if(D=0,k<Z){for(Z-=B=k;Y[m++]=x[D++],--B;);D=m-re,G=Y}}}else if(D+=k-B,B<Z){for(Z-=B;Y[m++]=x[D++],--B;);D=m-re,G=Y}for(;2<Z;)Y[m++]=G[D++],Y[m++]=G[D++],Y[m++]=G[D++],Z-=3;Z&&(Y[m++]=G[D++],1<Z&&(Y[m++]=G[D++]))}else{for(D=m-re;Y[m++]=Y[D++],Y[m++]=Y[D++],Y[m++]=Y[D++],2<(Z-=3););Z&&(Y[m++]=Y[D++],1<Z&&(Y[m++]=Y[D++]))}break}}break}}while(d<f&&m<g);d-=Z=_>>3,S&=(1<<(_-=Z<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<f?f-d+5:5-(d-f),l.avail_out=m<g?g-m+257:257-(m-g),u.hold=S,u.bits=_}},{}],49:[function(n,o,i){var l=n("../utils/common"),s=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),m=1,v=2,g=0,h=-2,b=1,y=852,k=592;function x(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(D){var G;return D&&D.state?(G=D.state,D.total_in=D.total_out=G.total=0,D.msg="",G.wrap&&(D.adler=1&G.wrap),G.mode=b,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(y),G.distcode=G.distdyn=new l.Buf32(k),G.sane=1,G.back=-1,g):h}function O(D){var G;return D&&D.state?((G=D.state).wsize=0,G.whave=0,G.wnext=0,_(D)):h}function j(D,G){var C,Y;return D&&D.state?(Y=D.state,G<0?(C=0,G=-G):(C=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?h:(Y.window!==null&&Y.wbits!==G&&(Y.window=null),Y.wrap=C,Y.wbits=G,O(D))):h}function z(D,G){var C,Y;return D?(Y=new S,(D.state=Y).window=null,(C=j(D,G))!==g&&(D.state=null),C):h}var V,W,B=!0;function Z(D){if(B){var G;for(V=new l.Buf32(512),W=new l.Buf32(32),G=0;G<144;)D.lens[G++]=8;for(;G<256;)D.lens[G++]=9;for(;G<280;)D.lens[G++]=7;for(;G<288;)D.lens[G++]=8;for(f(m,D.lens,0,288,V,0,D.work,{bits:9}),G=0;G<32;)D.lens[G++]=5;f(v,D.lens,0,32,W,0,D.work,{bits:5}),B=!1}D.lencode=V,D.lenbits=9,D.distcode=W,D.distbits=5}function re(D,G,C,Y){var xe,q=D.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new l.Buf8(q.wsize)),Y>=q.wsize?(l.arraySet(q.window,G,C-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(Y<(xe=q.wsize-q.wnext)&&(xe=Y),l.arraySet(q.window,G,C-Y,xe,q.wnext),(Y-=xe)?(l.arraySet(q.window,G,C-Y,Y,0),q.wnext=Y,q.whave=q.wsize):(q.wnext+=xe,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=xe))),0}i.inflateReset=O,i.inflateReset2=j,i.inflateResetKeep=_,i.inflateInit=function(D){return z(D,15)},i.inflateInit2=z,i.inflate=function(D,G){var C,Y,xe,q,K,ee,ge,A,N,oe,le,ue,te,Oe,me,Ie,Ae,We,Ve,it,I,fe,ce,U,F=0,ne=new l.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return h;(C=D.state).mode===12&&(C.mode=13),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Y=D.input,ee=D.avail_in,A=C.hold,N=C.bits,oe=ee,le=ge,fe=g;e:for(;;)switch(C.mode){case b:if(C.wrap===0){C.mode=13;break}for(;N<16;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(2&C.wrap&&A===35615){ne[C.check=0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0),N=A=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&A)<<8)+(A>>8))%31){D.msg="incorrect header check",C.mode=30;break}if((15&A)!=8){D.msg="unknown compression method",C.mode=30;break}if(N-=4,I=8+(15&(A>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){D.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,D.adler=C.check=1,C.mode=512&A?10:12,N=A=0;break;case 2:for(;N<16;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(C.flags=A,(255&C.flags)!=8){D.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){D.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=A>>8&1),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=3;case 3:for(;N<32;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.head&&(C.head.time=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,ne[2]=A>>>16&255,ne[3]=A>>>24&255,C.check=u(C.check,ne,4,0)),N=A=0,C.mode=4;case 4:for(;N<16;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.head&&(C.head.xflags=255&A,C.head.os=A>>8),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=5;case 5:if(1024&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.length=A,C.head&&(C.head.extra_len=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ee<(ue=C.length)&&(ue=ee),ue&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),l.arraySet(C.head.extra,Y,q,ue,I)),512&C.flags&&(C.check=u(C.check,Y,ue,q)),ee-=ue,q+=ue,C.length-=ue),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ee===0)break e;for(ue=0;I=Y[q+ue++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Y,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ee===0)break e;for(ue=0;I=Y[q+ue++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Y,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(A!==(65535&C.check)){D.msg="header crc mismatch",C.mode=30;break}N=A=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),D.adler=C.check=0,C.mode=12;break;case 10:for(;N<32;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}D.adler=C.check=x(A),N=A=0,C.mode=11;case 11:if(C.havedict===0)return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,2;D.adler=C.check=1,C.mode=12;case 12:if(G===5||G===6)break e;case 13:if(C.last){A>>>=7&N,N-=7&N,C.mode=27;break}for(;N<3;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}switch(C.last=1&A,N-=1,3&(A>>>=1)){case 0:C.mode=14;break;case 1:if(Z(C),C.mode=20,G!==6)break;A>>>=2,N-=2;break e;case 2:C.mode=17;break;case 3:D.msg="invalid block type",C.mode=30}A>>>=2,N-=2;break;case 14:for(A>>>=7&N,N-=7&N;N<32;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if((65535&A)!=(A>>>16^65535)){D.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&A,N=A=0,C.mode=15,G===6)break e;case 15:C.mode=16;case 16:if(ue=C.length){if(ee<ue&&(ue=ee),ge<ue&&(ue=ge),ue===0)break e;l.arraySet(xe,Y,q,ue,K),ee-=ue,q+=ue,ge-=ue,K+=ue,C.length-=ue;break}C.mode=12;break;case 17:for(;N<14;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(C.nlen=257+(31&A),A>>>=5,N-=5,C.ndist=1+(31&A),A>>>=5,N-=5,C.ncode=4+(15&A),A>>>=4,N-=4,286<C.nlen||30<C.ndist){D.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;N<3;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.lens[ve[C.have++]]=7&A,A>>>=3,N-=3}for(;C.have<19;)C.lens[ve[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},fe=f(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ie=(F=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&F,!((me=F>>>24)<=N);){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(Ae<16)A>>>=me,N-=me,C.lens[C.have++]=Ae;else{if(Ae===16){for(U=me+2;N<U;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(A>>>=me,N-=me,C.have===0){D.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ue=3+(3&A),A>>>=2,N-=2}else if(Ae===17){for(U=me+3;N<U;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}N-=me,I=0,ue=3+(7&(A>>>=me)),A>>>=3,N-=3}else{for(U=me+7;N<U;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}N-=me,I=0,ue=11+(127&(A>>>=me)),A>>>=7,N-=7}if(C.have+ue>C.nlen+C.ndist){D.msg="invalid bit length repeat",C.mode=30;break}for(;ue--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){D.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},fe=f(m,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},fe=f(v,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,fe){D.msg="invalid distances set",C.mode=30;break}if(C.mode=20,G===6)break e;case 20:C.mode=21;case 21:if(6<=ee&&258<=ge){D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,d(D,le),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Y=D.input,ee=D.avail_in,A=C.hold,N=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ie=(F=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&F,!((me=F>>>24)<=N);){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(Ie&&!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(F=C.lencode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&F,!(We+(me=F>>>24)<=N);){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,C.length=Ae,Ie===0){C.mode=26;break}if(32&Ie){C.back=-1,C.mode=12;break}if(64&Ie){D.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ie,C.mode=22;case 22:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.length+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ie=(F=C.distcode[A&(1<<C.distbits)-1])>>>16&255,Ae=65535&F,!((me=F>>>24)<=N);){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(F=C.distcode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&F,!(We+(me=F>>>24)<=N);){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,64&Ie){D.msg="invalid distance code",C.mode=30;break}C.offset=Ae,C.extra=15&Ie,C.mode=24;case 24:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}C.offset+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){D.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ge===0)break e;if(ue=le-ge,C.offset>ue){if((ue=C.offset-ue)>C.whave&&C.sane){D.msg="invalid distance too far back",C.mode=30;break}te=ue>C.wnext?(ue-=C.wnext,C.wsize-ue):C.wnext-ue,ue>C.length&&(ue=C.length),Oe=C.window}else Oe=xe,te=K-C.offset,ue=C.length;for(ge<ue&&(ue=ge),ge-=ue,C.length-=ue;xe[K++]=Oe[te++],--ue;);C.length===0&&(C.mode=21);break;case 26:if(ge===0)break e;xe[K++]=C.length,ge--,C.mode=21;break;case 27:if(C.wrap){for(;N<32;){if(ee===0)break e;ee--,A|=Y[q++]<<N,N+=8}if(le-=ge,D.total_out+=le,C.total+=le,le&&(D.adler=C.check=C.flags?u(C.check,xe,le,K-le):s(C.check,xe,le,K-le)),le=ge,(C.flags?A:x(A))!==C.check){D.msg="incorrect data check",C.mode=30;break}N=A=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;N<32;){if(ee===0)break e;ee--,A+=Y[q++]<<N,N+=8}if(A!==(4294967295&C.total)){D.msg="incorrect length check",C.mode=30;break}N=A=0}C.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,(C.wsize||le!==D.avail_out&&C.mode<30&&(C.mode<27||G!==4))&&re(D,D.output,D.next_out,le-D.avail_out)?(C.mode=31,-4):(oe-=D.avail_in,le-=D.avail_out,D.total_in+=oe,D.total_out+=le,C.total+=le,C.wrap&&le&&(D.adler=C.check=C.flags?u(C.check,xe,le,D.next_out-le):s(C.check,xe,le,D.next_out-le)),D.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(oe==0&&le===0||G===4)&&fe===g&&(fe=-5),fe)},i.inflateEnd=function(D){if(!D||!D.state)return h;var G=D.state;return G.window&&(G.window=null),D.state=null,g},i.inflateGetHeader=function(D,G){var C;return D&&D.state&&2&(C=D.state).wrap?((C.head=G).done=!1,g):h},i.inflateSetDictionary=function(D,G){var C,Y=G.length;return D&&D.state?(C=D.state).wrap!==0&&C.mode!==11?h:C.mode===11&&s(1,G,Y,0)!==C.check?-3:re(D,G,Y,Y)?(C.mode=31,-4):(C.havedict=1,g):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var l=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,v,g,h,b,y,k,x){var S,_,O,j,z,V,W,B,Z,re=x.bits,D=0,G=0,C=0,Y=0,xe=0,q=0,K=0,ee=0,ge=0,A=0,N=null,oe=0,le=new l.Buf16(16),ue=new l.Buf16(16),te=null,Oe=0;for(D=0;D<=15;D++)le[D]=0;for(G=0;G<h;G++)le[v[g+G]]++;for(xe=re,Y=15;1<=Y&&le[Y]===0;Y--);if(Y<xe&&(xe=Y),Y===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(C=1;C<Y&&le[C]===0;C++);for(xe<C&&(xe=C),D=ee=1;D<=15;D++)if(ee<<=1,(ee-=le[D])<0)return-1;if(0<ee&&(m===0||Y!==1))return-1;for(ue[1]=0,D=1;D<15;D++)ue[D+1]=ue[D]+le[D];for(G=0;G<h;G++)v[g+G]!==0&&(k[ue[v[g+G]]++]=G);if(V=m===0?(N=te=k,19):m===1?(N=s,oe-=257,te=u,Oe-=257,256):(N=d,te=f,-1),D=C,z=y,K=G=A=0,O=-1,j=(ge=1<<(q=xe))-1,m===1&&852<ge||m===2&&592<ge)return 1;for(;;){for(W=D-K,Z=k[G]<V?(B=0,k[G]):k[G]>V?(B=te[Oe+k[G]],N[oe+k[G]]):(B=96,0),S=1<<D-K,C=_=1<<q;b[z+(A>>K)+(_-=S)]=W<<24|B<<16|Z|0,_!==0;);for(S=1<<D-1;A&S;)S>>=1;if(S!==0?(A&=S-1,A+=S):A=0,G++,--le[D]==0){if(D===Y)break;D=v[g+k[G]]}if(xe<D&&(A&j)!==O){for(K===0&&(K=xe),z+=C,ee=1<<(q=D-K);q+K<Y&&!((ee-=le[q+K])<=0);)q++,ee<<=1;if(ge+=1<<q,m===1&&852<ge||m===2&&592<ge)return 1;b[O=A&j]=xe<<24|q<<16|z-y|0}}return A!==0&&(b[z+A]=D-K<<24|64<<16|0),x.bits=xe,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var l=n("../utils/common"),s=0,u=1;function d(F){for(var ne=F.length;0<=--ne;)F[ne]=0}var f=0,m=29,v=256,g=v+1+m,h=30,b=19,y=2*g+1,k=15,x=16,S=7,_=256,O=16,j=17,z=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(g+2));d(re);var D=new Array(2*h);d(D);var G=new Array(512);d(G);var C=new Array(256);d(C);var Y=new Array(m);d(Y);var xe,q,K,ee=new Array(h);function ge(F,ne,ve,ke,ae){this.static_tree=F,this.extra_bits=ne,this.extra_base=ve,this.elems=ke,this.max_length=ae,this.has_stree=F&&F.length}function A(F,ne){this.dyn_tree=F,this.max_code=0,this.stat_desc=ne}function N(F){return F<256?G[F]:G[256+(F>>>7)]}function oe(F,ne){F.pending_buf[F.pending++]=255&ne,F.pending_buf[F.pending++]=ne>>>8&255}function le(F,ne,ve){F.bi_valid>x-ve?(F.bi_buf|=ne<<F.bi_valid&65535,oe(F,F.bi_buf),F.bi_buf=ne>>x-F.bi_valid,F.bi_valid+=ve-x):(F.bi_buf|=ne<<F.bi_valid&65535,F.bi_valid+=ve)}function ue(F,ne,ve){le(F,ve[2*ne],ve[2*ne+1])}function te(F,ne){for(var ve=0;ve|=1&F,F>>>=1,ve<<=1,0<--ne;);return ve>>>1}function Oe(F,ne,ve){var ke,ae,Se=new Array(k+1),ye=0;for(ke=1;ke<=k;ke++)Se[ke]=ye=ye+ve[ke-1]<<1;for(ae=0;ae<=ne;ae++){var we=F[2*ae+1];we!==0&&(F[2*ae]=te(Se[we]++,we))}}function me(F){var ne;for(ne=0;ne<g;ne++)F.dyn_ltree[2*ne]=0;for(ne=0;ne<h;ne++)F.dyn_dtree[2*ne]=0;for(ne=0;ne<b;ne++)F.bl_tree[2*ne]=0;F.dyn_ltree[2*_]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function Ie(F){8<F.bi_valid?oe(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function Ae(F,ne,ve,ke){var ae=2*ne,Se=2*ve;return F[ae]<F[Se]||F[ae]===F[Se]&&ke[ne]<=ke[ve]}function We(F,ne,ve){for(var ke=F.heap[ve],ae=ve<<1;ae<=F.heap_len&&(ae<F.heap_len&&Ae(ne,F.heap[ae+1],F.heap[ae],F.depth)&&ae++,!Ae(ne,ke,F.heap[ae],F.depth));)F.heap[ve]=F.heap[ae],ve=ae,ae<<=1;F.heap[ve]=ke}function Ve(F,ne,ve){var ke,ae,Se,ye,we=0;if(F.last_lit!==0)for(;ke=F.pending_buf[F.d_buf+2*we]<<8|F.pending_buf[F.d_buf+2*we+1],ae=F.pending_buf[F.l_buf+we],we++,ke===0?ue(F,ae,ne):(ue(F,(Se=C[ae])+v+1,ne),(ye=V[Se])!==0&&le(F,ae-=Y[Se],ye),ue(F,Se=N(--ke),ve),(ye=W[Se])!==0&&le(F,ke-=ee[Se],ye)),we<F.last_lit;);ue(F,_,ne)}function it(F,ne){var ve,ke,ae,Se=ne.dyn_tree,ye=ne.stat_desc.static_tree,we=ne.stat_desc.has_stree,Ue=ne.stat_desc.elems,ot=-1;for(F.heap_len=0,F.heap_max=y,ve=0;ve<Ue;ve++)Se[2*ve]!==0?(F.heap[++F.heap_len]=ot=ve,F.depth[ve]=0):Se[2*ve+1]=0;for(;F.heap_len<2;)Se[2*(ae=F.heap[++F.heap_len]=ot<2?++ot:0)]=1,F.depth[ae]=0,F.opt_len--,we&&(F.static_len-=ye[2*ae+1]);for(ne.max_code=ot,ve=F.heap_len>>1;1<=ve;ve--)We(F,Se,ve);for(ae=Ue;ve=F.heap[1],F.heap[1]=F.heap[F.heap_len--],We(F,Se,1),ke=F.heap[1],F.heap[--F.heap_max]=ve,F.heap[--F.heap_max]=ke,Se[2*ae]=Se[2*ve]+Se[2*ke],F.depth[ae]=(F.depth[ve]>=F.depth[ke]?F.depth[ve]:F.depth[ke])+1,Se[2*ve+1]=Se[2*ke+1]=ae,F.heap[1]=ae++,We(F,Se,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(Ze,nn){var Na,cn,Dr,Et,el,Ps,Ar=nn.dyn_tree,Cs=nn.max_code,Xc=nn.stat_desc.static_tree,Qc=nn.stat_desc.has_stree,Yc=nn.stat_desc.extra_bits,Is=nn.stat_desc.extra_base,or=nn.stat_desc.max_length,Br=0;for(Et=0;Et<=k;Et++)Ze.bl_count[Et]=0;for(Ar[2*Ze.heap[Ze.heap_max]+1]=0,Na=Ze.heap_max+1;Na<y;Na++)or<(Et=Ar[2*Ar[2*(cn=Ze.heap[Na])+1]+1]+1)&&(Et=or,Br++),Ar[2*cn+1]=Et,Cs<cn||(Ze.bl_count[Et]++,el=0,Is<=cn&&(el=Yc[cn-Is]),Ps=Ar[2*cn],Ze.opt_len+=Ps*(Et+el),Qc&&(Ze.static_len+=Ps*(Xc[2*cn+1]+el)));if(Br!==0){do{for(Et=or-1;Ze.bl_count[Et]===0;)Et--;Ze.bl_count[Et]--,Ze.bl_count[Et+1]+=2,Ze.bl_count[or]--,Br-=2}while(0<Br);for(Et=or;Et!==0;Et--)for(cn=Ze.bl_count[Et];cn!==0;)Cs<(Dr=Ze.heap[--Na])||(Ar[2*Dr+1]!==Et&&(Ze.opt_len+=(Et-Ar[2*Dr+1])*Ar[2*Dr],Ar[2*Dr+1]=Et),cn--)}}(F,ne),Oe(Se,ot,F.bl_count)}function I(F,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ne[2*(ve+1)+1]=65535,ke=0;ke<=ve;ke++)ae=ye,ye=ne[2*(ke+1)+1],++we<Ue&&ae===ye||(we<ot?F.bl_tree[2*ae]+=we:ae!==0?(ae!==Se&&F.bl_tree[2*ae]++,F.bl_tree[2*O]++):we<=10?F.bl_tree[2*j]++:F.bl_tree[2*z]++,Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4))}function fe(F,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ke=0;ke<=ve;ke++)if(ae=ye,ye=ne[2*(ke+1)+1],!(++we<Ue&&ae===ye)){if(we<ot)for(;ue(F,ae,F.bl_tree),--we!=0;);else ae!==0?(ae!==Se&&(ue(F,ae,F.bl_tree),we--),ue(F,O,F.bl_tree),le(F,we-3,2)):we<=10?(ue(F,j,F.bl_tree),le(F,we-3,3)):(ue(F,z,F.bl_tree),le(F,we-11,7));Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4)}}d(ee);var ce=!1;function U(F,ne,ve,ke){le(F,(f<<1)+(ke?1:0),3),function(ae,Se,ye,we){Ie(ae),oe(ae,ye),oe(ae,~ye),l.arraySet(ae.pending_buf,ae.window,Se,ye,ae.pending),ae.pending+=ye}(F,ne,ve)}i._tr_init=function(F){ce||(function(){var ne,ve,ke,ae,Se,ye=new Array(k+1);for(ae=ke=0;ae<m-1;ae++)for(Y[ae]=ke,ne=0;ne<1<<V[ae];ne++)C[ke++]=ae;for(C[ke-1]=ae,ae=Se=0;ae<16;ae++)for(ee[ae]=Se,ne=0;ne<1<<W[ae];ne++)G[Se++]=ae;for(Se>>=7;ae<h;ae++)for(ee[ae]=Se<<7,ne=0;ne<1<<W[ae]-7;ne++)G[256+Se++]=ae;for(ve=0;ve<=k;ve++)ye[ve]=0;for(ne=0;ne<=143;)re[2*ne+1]=8,ne++,ye[8]++;for(;ne<=255;)re[2*ne+1]=9,ne++,ye[9]++;for(;ne<=279;)re[2*ne+1]=7,ne++,ye[7]++;for(;ne<=287;)re[2*ne+1]=8,ne++,ye[8]++;for(Oe(re,g+1,ye),ne=0;ne<h;ne++)D[2*ne+1]=5,D[2*ne]=te(ne,5);xe=new ge(re,V,v+1,g,k),q=new ge(D,W,0,h,k),K=new ge(new Array(0),B,0,b,S)}(),ce=!0),F.l_desc=new A(F.dyn_ltree,xe),F.d_desc=new A(F.dyn_dtree,q),F.bl_desc=new A(F.bl_tree,K),F.bi_buf=0,F.bi_valid=0,me(F)},i._tr_stored_block=U,i._tr_flush_block=function(F,ne,ve,ke){var ae,Se,ye=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(we){var Ue,ot=4093624447;for(Ue=0;Ue<=31;Ue++,ot>>>=1)if(1&ot&&we.dyn_ltree[2*Ue]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<v;Ue++)if(we.dyn_ltree[2*Ue]!==0)return u;return s}(F)),it(F,F.l_desc),it(F,F.d_desc),ye=function(we){var Ue;for(I(we,we.dyn_ltree,we.l_desc.max_code),I(we,we.dyn_dtree,we.d_desc.max_code),it(we,we.bl_desc),Ue=b-1;3<=Ue&&we.bl_tree[2*Z[Ue]+1]===0;Ue--);return we.opt_len+=3*(Ue+1)+5+5+4,Ue}(F),ae=F.opt_len+3+7>>>3,(Se=F.static_len+3+7>>>3)<=ae&&(ae=Se)):ae=Se=ve+5,ve+4<=ae&&ne!==-1?U(F,ne,ve,ke):F.strategy===4||Se===ae?(le(F,2+(ke?1:0),3),Ve(F,re,D)):(le(F,4+(ke?1:0),3),function(we,Ue,ot,Ze){var nn;for(le(we,Ue-257,5),le(we,ot-1,5),le(we,Ze-4,4),nn=0;nn<Ze;nn++)le(we,we.bl_tree[2*Z[nn]+1],3);fe(we,we.dyn_ltree,Ue-1),fe(we,we.dyn_dtree,ot-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,ye+1),Ve(F,F.dyn_ltree,F.dyn_dtree)),me(F),ke&&Ie(F)},i._tr_tally=function(F,ne,ve){return F.pending_buf[F.d_buf+2*F.last_lit]=ne>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&ne,F.pending_buf[F.l_buf+F.last_lit]=255&ve,F.last_lit++,ne===0?F.dyn_ltree[2*ve]++:(F.matches++,ne--,F.dyn_ltree[2*(C[ve]+v+1)]++,F.dyn_dtree[2*N(ne)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){le(F,2,3),ue(F,_,re),function(ne){ne.bi_valid===16?(oe(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(l){(function(s,u){if(!s.setImmediate){var d,f,m,v,g=1,h={},b=!1,y=s.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(s);k=k&&k.setTimeout?k:s,d={}.toString.call(s.process)==="[object process]"?function(O){process.nextTick(function(){S(O)})}:function(){if(s.postMessage&&!s.importScripts){var O=!0,j=s.onmessage;return s.onmessage=function(){O=!1},s.postMessage("","*"),s.onmessage=j,O}}()?(v="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(O){s.postMessage(v+O,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){S(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(O){var j=y.createElement("script");j.onreadystatechange=function(){S(O),j.onreadystatechange=null,f.removeChild(j),j=null},f.appendChild(j)}):function(O){setTimeout(S,0,O)},k.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var j=new Array(arguments.length-1),z=0;z<j.length;z++)j[z]=arguments[z+1];var V={callback:O,args:j};return h[g]=V,d(g),g++},k.clearImmediate=x}function x(O){delete h[O]}function S(O){if(b)setTimeout(S,0,O);else{var j=h[O];if(j){b=!0;try{(function(z){var V=z.callback,W=z.args;switch(W.length){case 0:V();break;case 1:V(W[0]);break;case 2:V(W[0],W[1]);break;case 3:V(W[0],W[1],W[2]);break;default:V.apply(u,W)}})(j)}finally{x(O),b=!1}}}}function _(O){O.source===s&&typeof O.data=="string"&&O.data.indexOf(v)===0&&S(+O.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Ln<"u"?Ln:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),zb,Kp,ez,Db,tz,nz,uc,rz,Ab,oz,Wp,cc,dc,ba,az,iz,lz,rs,_n,sz,uz,Bb,qp,Cee=P(()=>{zb=$(X(),1),Kp=$(X(),1),ez=e=>typeof e=="function",Db=(e,t)=>ez(e)?e(t):e,tz=(()=>{let e=0;return()=>(++e).toString()})(),nz=20,uc=new Map,rz=1e3,Ab=e=>{if(uc.has(e))return;let t=setTimeout(()=>{uc.delete(e),ba({type:4,toastId:e})},rz);uc.set(e,t)},oz=e=>{let t=uc.get(e);t&&clearTimeout(t)},Wp=(e,t)=>{switch(t.type){case 0:return he(L({},e),{toasts:[t.toast,...e.toasts].slice(0,nz)});case 1:return t.toast.id&&oz(t.toast.id),he(L({},e),{toasts:e.toasts.map(l=>l.id===t.toast.id?L(L({},l),t.toast):l)});case 2:let{toast:n}=t;return e.toasts.find(l=>l.id===n.id)?Wp(e,{type:1,toast:n}):Wp(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?Ab(o):e.toasts.forEach(l=>{Ab(l.id)}),he(L({},e),{toasts:e.toasts.map(l=>l.id===o||o===void 0?he(L({},l),{visible:!1}):l)});case 4:return t.toastId===void 0?he(L({},e),{toasts:[]}):he(L({},e),{toasts:e.toasts.filter(l=>l.id!==t.toastId)});case 5:return he(L({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return he(L({},e),{pausedAt:void 0,toasts:e.toasts.map(l=>he(L({},l),{pauseDuration:l.pauseDuration+i}))})}},cc=[],dc={toasts:[],pausedAt:void 0},ba=e=>{dc=Wp(dc,e),cc.forEach(t=>{t(dc)})},az={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iz=(e={})=>{let[t,n]=(0,zb.useState)(dc);(0,zb.useEffect)(()=>(cc.push(n),()=>{let i=cc.indexOf(n);i>-1&&cc.splice(i,1)}),[t]);let o=t.toasts.map(i=>{var l,s;return he(L(L(L({},e),e[i.type]),i),{duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||az[i.type],style:L(L(L({},e.style),(s=e[i.type])==null?void 0:s.style),i.style)})});return he(L({},t),{toasts:o})},lz=(e,t="blank",n)=>he(L({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(n==null?void 0:n.id)||tz()}),rs=e=>(t,n)=>{let o=lz(t,e,n);return ba({type:2,toast:o}),o.id},_n=(e,t)=>rs("blank")(e,t),_n.error=rs("error"),_n.success=rs("success"),_n.loading=rs("loading"),_n.custom=rs("custom"),_n.dismiss=e=>{ba({type:3,toastId:e})},_n.remove=e=>ba({type:4,toastId:e}),_n.promise=(e,t,n)=>{let o=_n.loading(t.loading,L(L({},n),n==null?void 0:n.loading));return e.then(i=>(_n.success(Db(t.success,i),L(L({id:o},n),n==null?void 0:n.success)),i)).catch(i=>{_n.error(Db(t.error,i),L(L({id:o},n),n==null?void 0:n.error))}),e},sz=(e,t)=>{ba({type:1,toast:{id:e,height:t}})},uz=()=>{ba({type:5,time:Date.now()})},Bb=e=>{let{toasts:t,pausedAt:n}=iz(e);(0,Kp.useEffect)(()=>{if(n)return;let l=Date.now(),s=t.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(d<0){u.visible&&_n.dismiss(u.id);return}return setTimeout(()=>_n.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[t,n]);let o=(0,Kp.useCallback)(()=>{n&&ba({type:6,time:Date.now()})},[n]),i=(0,Kp.useCallback)((l,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=s||{},m=t.filter(h=>(h.position||f)===(l.position||f)&&h.height),v=m.findIndex(h=>h.id===l.id),g=m.filter((h,b)=>b<v&&h.visible).length;return m.filter(h=>h.visible).slice(...u?[g+1]:[0,g]).reduce((h,b)=>h+(b.height||0)+d,0)},[t]);return{toasts:t,handlers:{updateHeight:sz,startPause:uz,endPause:o,calculateOffset:i}}},qp=_n});function cz(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function Iee(e){Si=e}function Kt(e,t){if(t){if(yz.test(e))return e.replace(bz,Nb)}else if(kz.test(e))return e.replace(wz,Nb);return e}function dz(e){return e.replace(Sz,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}function ct(e,t){e=typeof e=="string"?e:e.source,t=t||"";let n={replace:(o,i)=>(i=i.source||i,i=i.replace(Ez,"$1"),e=e.replace(o,i),n),getRegex:()=>new RegExp(e,t)};return n}function fz(e,t,n){if(e){let o;try{o=decodeURIComponent(dz(n)).replace(_z,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!Pz.test(n)&&(n=jee(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function jee(e,t){fc[" "+e]||(Cz.test(e)?fc[" "+e]=e+"/":fc[" "+e]=$p(e,"/",!0)),e=fc[" "+e];let n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(Iz,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(jz,"$1")+t:e+t}function _r(e){let t=1,n,o;for(;t<arguments.length;t++){n=arguments[t];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}function pz(e,t){let n=e.replace(/\|/g,(l,s,u)=>{let d=!1,f=s;for(;--f>=0&&u[f]==="\\";)d=!d;return d?"|":" |"}),o=n.split(/ \|/),i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function $p(e,t,n){let o=e.length;if(o===0)return"";let i=0;for(;i<o;){let l=e.charAt(o-i-1);if(l===t&&!n)i++;else if(l!==t&&n)i++;else break}return e.slice(0,o-i)}function Oee(e,t){if(e.indexOf(t[1])===-1)return-1;let n=e.length,o=0,i=0;for(;i<n;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])o++;else if(e[i]===t[1]&&(o--,o<0))return i;return-1}function hz(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function mz(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function gz(e,t,n,o){let i=t.href,l=t.title?Kt(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let u={type:"link",raw:n,href:i,title:l,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:l,text:Kt(s)}}function Tee(e,t){let n=e.match(/^(\s+)(?:```)/);if(n===null)return t;let o=n[1];return t.split(`
`).map(i=>{let l=i.match(/^\s+/);if(l===null)return i;let[s]=l;return s.length>=o.length?i.slice(o.length):i}).join(`
`)}function zee(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function vz(e){let t="",n,o,i=e.length;for(n=0;n<i;n++)o=e.charCodeAt(n),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function Le(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=_r({},Le.defaults,t||{}),hz(t),n){let i=t.highlight,l;try{l=Ei.lex(e,t)}catch(d){return n(d)}let s=function(d){let f;if(!d)try{t.walkTokens&&Le.walkTokens(l,t.walkTokens),f=ka.parse(l,t)}catch(m){d=m}return t.highlight=i,d?n(d):n(null,f)};if(!i||i.length<3||(delete t.highlight,!l.length))return s();let u=0;Le.walkTokens(l,function(d){d.type==="code"&&(u++,setTimeout(()=>{i(d.text,d.lang,function(f,m){if(f)return s(f);m!=null&&m!==d.text&&(d.text=m,d.escaped=!0),u--,u===0&&s()})},0))}),u===0&&s();return}function o(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Kt(i.message+"",!0)+"</pre>";throw i}try{let i=Ei.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Le.walkTokens(i,t.walkTokens)).then(()=>ka.parse(i,t)).catch(o);Le.walkTokens(i,t.walkTokens)}return ka.parse(i,t)}catch(i){o(i)}}var Si,yz,bz,kz,wz,xz,Nb,Sz,Ez,_z,Pz,fc,Cz,Iz,jz,pc,Lp,Ke,ze,Ei,Zp,Rb,Fb,ka,Dee=P(()=>{Si=cz(),yz=/[&<>"']/,bz=/[&<>"']/g,kz=/[<>"']|&(?!#?\w+;)/,wz=/[<>"']|&(?!#?\w+;)/g,xz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nb=e=>xz[e],Sz=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,Ez=/(^|[^\[])\^/g,_z=/[^\w:]/g,Pz=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,fc={},Cz=/^[^:]+:\/*[^/]*$/,Iz=/^([^:]+:)[\s\S]*$/,jz=/^([^:]+:\/*[^/]*)[\s\S]*$/,pc={exec:function(){}},Lp=class{constructor(e){this.options=e||Si}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:$p(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],o=Tee(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let o=$p(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,i,l,s,u,d,f,m,v,g,h,b=t[1].trim(),y=b.length>1,k={type:"list",raw:"",ordered:y,start:y?+b.slice(0,-1):"",loose:!1,items:[]};b=y?"\\d{1,9}\\".concat(b.slice(-1)):"\\".concat(b),this.options.pedantic&&(b=y?b:"[*+-]");let x=new RegExp("^( {0,3}".concat(b,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),f=t[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(l=2,g=f.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,g=f.slice(l),l+=t[1].length),u=!1,!f&&/^ *$/.test(m)&&(n+=m+`
`,e=e.substring(m.length+1),h=!0),!h){let _=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),O=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),j=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),z=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));for(;e&&(v=e.split(`
`,1)[0],f=v,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(j.test(f)||z.test(f)||_.test(f)||O.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())g+=`
`+f.slice(l);else if(!u)g+=`
`+f;else break;!u&&!f.trim()&&(u=!0),n+=v+`
`,e=e.substring(v.length+1)}}k.loose||(d?k.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(i=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!o,checked:i,loose:!1,text:g}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=g.trimRight(),k.raw=k.raw.trimRight();let S=k.items.length;for(s=0;s<S;s++){this.lexer.state.top=!1,k.items[s].tokens=this.lexer.blockTokens(k.items[s].text,[]);let _=k.items[s].tokens.filter(j=>j.type==="space"),O=_.every(j=>{let z=j.raw.split(""),V=0;for(let W of z)if(W===`
`&&(V+=1),V>1)return!0;return!1});!k.loose&&_.length&&O&&(k.loose=!0,k.items[s].loose=!0)}return k}}html(e){let t=this.rules.block.html.exec(e);if(t){let n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):Kt(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let n={type:"table",header:pz(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,i,l,s,u;for(i=0;i<o;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=pz(n.rows[i],n.header.length).map(d=>({text:d}));for(o=n.header.length,l=0;l<o;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(o=n.rows.length,l=0;l<o;l++)for(u=n.rows[l],s=0;s<u.length;s++)u[s].tokens=this.lexer.inline(u[s].text);return n}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Kt(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Kt(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let l=$p(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=Oee(t[2],"()");if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){let l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),gz(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return gz(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=o[1]||o[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){let l=o[0].length-1,s,u,d=l,f=0,m=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+l);(o=m.exec(t))!=null;){if(s=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!s)continue;if(u=s.length,o[3]||o[4]){d+=u;continue}else if((o[5]||o[6])&&l%3&&!((l+u)%3)){f+=u;continue}if(d-=u,d>0)continue;if(u=Math.min(u,u+d+f),Math.min(l,u)%2){let g=e.slice(1,l+o.index+u);return{type:"em",raw:e.slice(0,l+o.index+u+1),text:g,tokens:this.lexer.inlineTokens(g)}}let v=e.slice(2,l+o.index+u-1);return{type:"strong",raw:e.slice(0,l+o.index+u+1),text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Kt(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let o,i;return n[2]==="@"?(o=Kt(this.options.mangle?t(n[1]):n[1]),i="mailto:"+o):(o=Kt(n[1]),i=o),{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,i;if(n[2]==="@")o=Kt(this.options.mangle?t(n[0]):n[0]),i="mailto:"+o;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);o=Kt(n[0]),n[1]==="www."?i="http://"+o:i=o}return{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Kt(n[0]):n[0]:o=Kt(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}},Ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:pc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Ke._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ke._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ke.def=ct(Ke.def).replace("label",Ke._label).replace("title",Ke._title).getRegex(),Ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ke.listItemStart=ct(/^( *)(bull) */).replace("bull",Ke.bullet).getRegex(),Ke.list=ct(Ke.list).replace(/bull/g,Ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ke.def.source+")").getRegex(),Ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ke.html=ct(Ke.html,"i").replace("comment",Ke._comment).replace("tag",Ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ke.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.blockquote=ct(Ke.blockquote).replace("paragraph",Ke.paragraph).getRegex(),Ke.normal=_r({},Ke),Ke.gfm=_r({},Ke.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ke.gfm.table=ct(Ke.gfm.table).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.gfm.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ke.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.pedantic=_r({},Ke.normal,{html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pc,paragraph:ct(Ke.normal._paragraph).replace("hr",Ke.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:pc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:pc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ze.punctuation=ct(ze.punctuation).replace(/punctuation/g,ze._punctuation).getRegex(),ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ze.escapedEmSt=/\\\*|\\_/g,ze._comment=ct(Ke._comment).replace("(?:-->|$)","-->").getRegex(),ze.emStrong.lDelim=ct(ze.emStrong.lDelim).replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimAst=ct(ze.emStrong.rDelimAst,"g").replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimUnd=ct(ze.emStrong.rDelimUnd,"g").replace(/punct/g,ze._punctuation).getRegex(),ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ze.autolink=ct(ze.autolink).replace("scheme",ze._scheme).replace("email",ze._email).getRegex(),ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ze.tag=ct(ze.tag).replace("comment",ze._comment).replace("attribute",ze._attribute).getRegex(),ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ze.link=ct(ze.link).replace("label",ze._label).replace("href",ze._href).replace("title",ze._title).getRegex(),ze.reflink=ct(ze.reflink).replace("label",ze._label).replace("ref",Ke._label).getRegex(),ze.nolink=ct(ze.nolink).replace("ref",Ke._label).getRegex(),ze.reflinkSearch=ct(ze.reflinkSearch,"g").replace("reflink",ze.reflink).replace("nolink",ze.nolink).getRegex(),ze.normal=_r({},ze),ze.pedantic=_r({},ze.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ze._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze._label).getRegex()}),ze.gfm=_r({},ze.normal,{escape:ct(ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ze.gfm.url=ct(ze.gfm.url,"i").replace("email",ze.gfm._extended_email).getRegex(),ze.breaks=_r({},ze.gfm,{br:ct(ze.br).replace("{2,}","*").getRegex(),text:ct(ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Ei=class m2{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Si,this.options.tokenizer=this.options.tokenizer||new Lp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Ke.normal,inline:ze.normal};this.options.pedantic?(n.block=Ke.pedantic,n.inline=ze.pedantic):this.options.gfm&&(n.block=Ke.gfm,this.options.breaks?n.inline=ze.breaks:n.inline=ze.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ke,inline:ze}}static lex(t,n){return new m2(n).lex(t)}static lexInline(t,n){return new m2(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,d,f)=>d+"    ".repeat(f.length));let o,i,l,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(o=u.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,d=t.slice(1),f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o),s=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let o,i,l,s=t,u,d,f;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)m.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+mz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+mz("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(d||(f=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(t,s,f)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(t,vz)){t=t.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,vz))){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0,v=t.slice(1),g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},v),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(l=t.substring(0,m+1))}if(o=this.tokenizer.inlineText(l,zee)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(f=o.raw.slice(-1)),d=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},Zp=class{constructor(e){this.options=e||Si}code(e,t,n){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let i=this.options.highlight(e,o);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Kt(o,!0)+'">'+(n?e:Kt(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Kt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){let i=this.options.headerPrefix+o.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){let o=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+o+i+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(e=fz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+Kt(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=fz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},Rb=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},Fb=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ka=class g2{constructor(t){this.options=t||Si,this.options.renderer=this.options.renderer||new Zp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Rb,this.slugger=new Fb}static parse(t,n){return new g2(n).parse(t)}static parseInline(t,n){return new g2(n).parseInline(t)}parse(t,n=!0){let o="",i,l,s,u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V=t.length;for(i=0;i<V;i++){if(h=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(z=this.options.extensions.renderers[h.type].call({parser:this},h),z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){o+=z||"";continue}switch(h.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(h.tokens),h.depth,dz(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(v="",m="",u=h.header.length,l=0;l<u;l++)m+=this.renderer.tablecell(this.parseInline(h.header[l].tokens),{header:!0,align:h.align[l]});for(v+=this.renderer.tablerow(m),g="",u=h.rows.length,l=0;l<u;l++){for(f=h.rows[l],m="",d=f.length,s=0;s<d;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:h.align[s]});g+=this.renderer.tablerow(m)}o+=this.renderer.table(v,g);continue}case"blockquote":{g=this.parse(h.tokens),o+=this.renderer.blockquote(g);continue}case"list":{for(b=h.ordered,y=h.start,k=h.loose,u=h.items.length,g="",l=0;l<u;l++)S=h.items[l],_=S.checked,O=S.task,x="",S.task&&(j=this.renderer.checkbox(_),k?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=j+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=j+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:j}):x+=j),x+=this.parse(S.tokens,k),g+=this.renderer.listitem(x,O,_);o+=this.renderer.list(g,b,y);continue}case"html":{o+=this.renderer.html(h.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;i+1<V&&t[i+1].type==="text";)h=t[++i],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);o+=n?this.renderer.paragraph(g):g;continue}default:{let W='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return o}parseInline(t,n){n=n||this.renderer;let o="",i,l,s,u=t.length;for(i=0;i<u;i++){if(l=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(s=this.options.extensions.renderers[l.type].call({parser:this},l),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){o+=s||"";continue}switch(l.type){case"escape":{o+=n.text(l.text);break}case"html":{o+=n.html(l.text);break}case"link":{o+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{o+=n.image(l.href,l.title,l.text);break}case"strong":{o+=n.strong(this.parseInline(l.tokens,n));break}case"em":{o+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{o+=n.codespan(l.text);break}case"br":{o+=n.br();break}case"del":{o+=n.del(this.parseInline(l.tokens,n));break}case"text":{o+=n.text(l.text);break}default:{let d='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return o}},Le.options=Le.setOptions=function(e){return _r(Le.defaults,e),Iee(Le.defaults),Le},Le.getDefaults=cz,Le.defaults=Si,Le.use=function(...e){let t=_r({},...e),n=Le.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(i=>{if(i.extensions&&(o=!0,i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let s=n.renderers?n.renderers[l.name]:null;s?n.renderers[l.name]=function(...u){let d=l.renderer.apply(this,u);return d===!1&&(d=s.apply(this,u)),d}:n.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[l.level]?n[l.level].unshift(l.tokenizer):n[l.level]=[l.tokenizer],l.start&&(l.level==="block"?n.startBlock?n.startBlock.push(l.start):n.startBlock=[l.start]:l.level==="inline"&&(n.startInline?n.startInline.push(l.start):n.startInline=[l.start]))}l.childTokens&&(n.childTokens[l.name]=l.childTokens)})),i.renderer){let l=Le.defaults.renderer||new Zp;for(let s in i.renderer){let u=l[s];l[s]=(...d)=>{let f=i.renderer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.renderer=l}if(i.tokenizer){let l=Le.defaults.tokenizer||new Lp;for(let s in i.tokenizer){let u=l[s];l[s]=(...d)=>{let f=i.tokenizer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.tokenizer=l}if(i.walkTokens){let l=Le.defaults.walkTokens;t.walkTokens=function(s){let u=[];return u.push(i.walkTokens.call(this,s)),l&&(u=u.concat(l.call(this,s))),u}}o&&(t.extensions=n),Le.setOptions(t)})},Le.walkTokens=function(e,t){let n=[];for(let o of e)switch(n=n.concat(t.call(Le,o)),o.type){case"table":{for(let i of o.header)n=n.concat(Le.walkTokens(i.tokens,t));for(let i of o.rows)for(let l of i)n=n.concat(Le.walkTokens(l.tokens,t));break}case"list":{n=n.concat(Le.walkTokens(o.items,t));break}default:Le.defaults.extensions&&Le.defaults.extensions.childTokens&&Le.defaults.extensions.childTokens[o.type]?Le.defaults.extensions.childTokens[o.type].forEach(function(i){n=n.concat(Le.walkTokens(o[i],t))}):o.tokens&&(n=n.concat(Le.walkTokens(o.tokens,t)))}return n},Le.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=_r({},Le.defaults,t||{}),hz(t);try{let n=Ei.lexInline(e,t);return t.walkTokens&&Le.walkTokens(n,t.walkTokens),ka.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Kt(n.message+"",!0)+"</pre>";throw n}},Le.Parser=ka,Le.parser=ka.parse,Le.Renderer=Zp,Le.TextRenderer=Rb,Le.Lexer=Ei,Le.lexer=Ei.lex,Le.Tokenizer=Lp,Le.Slugger=Fb,Le.parse=Le,Le.options,Le.setOptions,Le.use,Le.walkTokens,Le.parseInline,ka.parse,Ei.lex}),Oz,Tz,Mb,zz=P(()=>{be(),Hp(),Tz=M(ns)(Oz||(Oz=R([`
  padding: 6px;
`]))),Mb=Tz}),Ot,Gp,hc,Xp,Dz,Az,Bz,Ub,Nz,Rz,Fz,Vb,Mz,Uz,Vz,Hz,Kz,mc,gc,Wz,qz,$z,Lz,Zz,Gz,Xz,Qz,Yz,Jz,eD,tD,Hb,vc=P(()=>{Ot=$(X()),Cee(),be(),rt(),Fe(),Ne(),Dee(),sc(),zz(),Gp=({title:e,message:t})=>"".concat(e," ").concat(t),hc=(()=>{let e=new Map;return{add:t=>{let n=Gp(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=Gp(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(Gp(t))}})(),Xp=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),Az=M.div(Dz||(Dz=R([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),Ub=M.div(Bz||(Bz=R([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),Rz=M.div(Nz||(Nz=R([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),Vb=M.div(Fz||(Fz=R([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),Uz=M.button(Mz||(Mz=R([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),Vz={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Kz=M.div(Hz||(Hz=R([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>Vz[e]),mc=e=>(t,n,o=[],i=!1)=>{(i||!hc.check({title:t,message:n}))&&(hc.add({title:t,message:n}),Xp.add(e),qp.custom(l=>Ot.default.createElement(Az,null,Ot.default.createElement(Kz,{type:e}),Ot.default.createElement(Rz,null,Ot.default.createElement(Ub,null,t),Ot.default.createElement(Vb,{dangerouslySetInnerHTML:{__html:Le.parse(n)}}),o.length>0&&Ot.default.createElement(Vb,null,Ot.default.createElement("span",null,"Docs:"," ",o.map((s,u)=>Ot.default.createElement(Ot.Fragment,{key:u},u>0&&", ",Ot.default.createElement("a",{target:"_blank",href:s.url},s.title)))))),Ot.default.createElement(Uz,{onClick:()=>{qp.remove(l.id),hc.delete({title:t,message:n}),Xp.delete(e)}},"Close")),{duration:1/0}))},gc={warning:mc("warning"),success:mc("success"),info:mc("info"),error:mc("error")},qz=M.div(Wz||(Wz=R([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),Lz=M.button($z||($z=R([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),Gz=M.div(Zz||(Zz=R([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),Qz=M.div(Xz||(Xz=R([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),Jz=M.div(Yz||(Yz=R([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),eD=()=>{let{hasNotifications:e}=Hb();return ts({enabled:!e},()=>Ot.default.createElement(Mb,null,Ot.default.createElement(Jz,null,Ot.default.createElement(Ub,null,"No notifications"),"Notifications will appear here when you get them.")))},tD=()=>{var e;let{toasts:t,handlers:n}=Bb(),{startPause:o,endPause:i}=n,l=(e=Qe(de().atomP.ahistoric.pinNotifications))!=null?e:!1;return Ot.default.createElement(Gz,null,l?t.length>0&&Ot.default.createElement(Qz,{onMouseEnter:o,onMouseLeave:i},Ot.default.createElement("div",null,t.map(s=>Ot.default.createElement("div",{key:s.id},s.message(s))))):null,Ot.default.createElement(qz,{align:"side"},l&&t.length>0&&Ot.default.createElement(Lz,{onClick:()=>{Xp.clear(),hc.clear(),qp.remove()},danger:!0},"Clear")))},Hb=()=>{let{toasts:e}=Bb();return{hasNotifications:e.length>0}}});function Kb(e,t){var n;let o=Object.values((n=(0,nD.val)(e.pointers.historic.sheetsById))!=null?n:{}),i=o.flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.staticOverrides.byObject)!=null?u:{})}).flatMap(s=>Object.values(s??{})),l=[...o.flatMap(s=>{var u,d;return Object.values((d=(u=s==null?void 0:s.sequence)==null?void 0:u.tracksByObject)!=null?d:{})}).flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.trackData)!=null?u:{})}).flatMap(s=>s==null?void 0:s.keyframes).map(s=>s==null?void 0:s.value)];return i.forEach(s=>{Md(s,u=>{l.push(u)},[])}),l.filter(s=>(s==null?void 0:s.type)&&typeof(s==null?void 0:s.type)=="string").map(s=>s.id).filter((s,u,d)=>s!==null&&s!==""&&d.indexOf(s)===u)}var nD,rD=P(()=>{nD=je,qg()});function oD(e,t){let n=new File([e],t),o=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var Mn,aD,iD,lD,sD,uD,cD,dD,fD,pD,Aee=P(()=>{Ne(),Qr(),Gr(),Mn=$(X()),be(),OT(),_ee(),aD=$(Pee()),vc(),rD(),lD=M.div(iD||(iD=R([""]))),uD=M.div(sD||(sD=R([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),dD=M(Xr)(cD||(cD=R([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),fD=({projects:e})=>{let t=e[0],n=t.address.projectId,o=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(o,".theatre-project-state.json"),[l,s]=(0,Mn.useState)(!1),u=(0,Mn.useCallback)(()=>Ht(void 0,null,function*(){var f,m;let v=Kb(t),g=new Map;try{yield Promise.all(v.map(b=>Ht(void 0,null,function*(){let y=t.assetStorage.getAssetUrl(b),k=yield fetch(y);k.ok&&g.set(b,yield k.blob())})))}catch{gc.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((m=(f=t.config.assets)==null?void 0:f.baseUrl)!=null?m:"/",". This is likely due to a CORS issue."));return}if(g.size>0){let b=new aD.default;for(let[k,x]of g)b.file(k,x);let y=yield b.generateAsync({type:"blob"});oD(y,"".concat(o,".assets.zip"))}let h=JSON.stringify(de().createContentOfSaveFile(t.address.projectId),null,2);oD(h,i),s(!0),setTimeout(()=>{s(!1)},2e3)}),[t,i]),d=Zr({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>Mn.default.createElement(dD,null,Mn.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),Mn.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),Mn.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return Mn.default.createElement(Mn.default.Fragment,null,d.node,Mn.default.createElement(lD,null,Mn.default.createElement(JT,{projectId:n}),Mn.default.createElement(uD,null,Mn.default.createElement(Up,{onMouseEnter:f=>d.open(f,f.target),onClick:l?void 0:u,disabled:l},l?"(Exported)":"Export ".concat(n," to JSON")))))},pD=fD}),wa,hD,mD,gD,vD,yD,bD,kD,wD,xD,SD,Bee=P(()=>{wa=$(X()),be(),Au(),mD=M.div(hD||(hD=R([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),vD=M.div(gD||(gD=R([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),bD=M.div(yD||(yD=R([`
  color: rgba(145, 145, 145, 0.8);
`]))),wD=M.a(kD||(kD=R([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),xD=()=>wa.default.createElement(mD,null,wa.default.createElement(vD,null,wa.default.createElement(bD,null,wa.default.createElement(sy,null)),wa.default.createElement("div",null,"Please select an object from the ",wa.default.createElement("u",null,"Outline Menu")," to see its properties.")),wa.default.createElement(wD,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),SD=xD});function ED(){let[e,t]=(0,Wb.useState)(!1),n=(0,Wb.useMemo)(()=>{let o=new Set;return()=>{let i=()=>{o.delete(i),t(o.size>0)};return o.add(i),t(!0),i}},[]);return[e,n]}var Wb,_D=P(()=>{Wb=$(X())}),ft,os,PD,CD,Qp,ID,qb,jD,$b,OD,Lb,yc,TD,zD,Yp,_i,Zb=P(()=>{da(),Fe(),ft=$(X()),be(),ni(),Po(),rt(),xee(),Aee(),Ne(),h4(),os=je,Bee(),_D(),wi(),PD="32px",Qp=M.div(CD||(CD=R([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Ml.propsPanel,({pin:e})=>e?"block":"none"),qb=M.div(ID||(ID=R([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),tt),$b=M.div(jD||(jD=R([`
  height: `,`;
  display: flex;
  align-items: center;
`])),PD),Lb=M.div(OD||(OD=R([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),tt),yc=(0,ft.createContext)([!1,()=>()=>{}]),TD=e=>{let t=Qe(de().atomP.ahistoric.pinDetails)!==!1,n=p4("right");(0,ft.useLayoutEffect)(()=>{Yp.set(n)},[n]),(0,ft.useEffect)(()=>()=>{_i.set(!1),Yp.set(!1)},[]);let[o]=(0,ft.useContext)(yc),i=t||n||o,[l,s]=(0,ft.useState)(null);return QO(l),Xe(()=>{let u=ca(),d=u.find(fr);if(d)return ft.default.createElement(Qp,{"data-testid":"DetailPanel-Object",pin:i,ref:s,onMouseEnter:()=>{_i.set(!0)},onMouseLeave:()=>{_i.set(!1)}},ft.default.createElement($b,null,ft.default.createElement(qb,{title:"".concat(d.sheet.address.sheetId,": ").concat(d.sheet.address.sheetInstanceId," > ").concat(d.address.objectKey)},ft.default.createElement(ua,null,d.sheet.address.sheetId," "),ft.default.createElement(Du,null,":"," "),ft.default.createElement(ua,null,d.sheet.address.sheetInstanceId," "),ft.default.createElement(Du,null," → "),ft.default.createElement(ua,null,d.address.objectKey))),ft.default.createElement(Lb,null,ft.default.createElement(CT,{objects:[d]})));let f=u.find($g);return f?ft.default.createElement(Qp,{pin:i},ft.default.createElement($b,null,ft.default.createElement(qb,{title:"".concat(f.address.projectId)},ft.default.createElement(ua,null,f.address.projectId," "))),ft.default.createElement(Lb,null,ft.default.createElement(pD,{projects:[f]}))):ft.default.createElement(Qp,{pin:i,onMouseEnter:()=>{_i.set(!0)},onMouseLeave:()=>{_i.set(!1)}},ft.default.createElement(SD,null))},[i])},zD=()=>{let e=ED();return ft.default.createElement(yc.Provider,{value:e},ft.default.createElement(TD,null))},Yp=new os.Atom(!1),_i=new os.Atom(!1),(0,os.prism)(()=>{let e=(0,os.val)(_i.prism),t=(0,os.val)(Yp.prism);return e||t})}),Gb,Jp,eh,Xb,as,DD,Qb,is=P(()=>{Gb=je,Fe(),Ne(),_D(),Jp=$(X()),eb(),eh=(e,t)=>{let n=e.left/t.width,o=(e.left+e.width)/t.width,i=e.top/t.height,l=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},Xb=Jp.default.createContext(null),as=()=>(0,Jp.useContext)(Xb),DD=({panelId:e,children:t,defaultPosition:n,minDims:o})=>{let i=yp(800,200),[l,s]=ED(),{stuff:u}=Xe(()=>{var d;let{edges:f}=(d=(0,Gb.val)(de().atomP.historic.panelPositions[e]))!=null?d:n,m=Math.floor(i.width*(f.left.from==="screenLeft"?f.left.distance:1-f.left.distance)),v=Math.floor(i.width*(f.right.from==="screenLeft"?f.right.distance:1-f.right.distance)),g=Math.floor(i.height*(f.top.from==="screenTop"?f.top.distance:1-f.top.distance)),h=Math.floor(i.height*(f.bottom.from==="screenTop"?f.bottom.distance:1-f.bottom.distance)),b=Math.max(v-m,o.width),y=Math.max(h-g,o.height);return{stuff:{dims:Gb.prism.memo("dims",()=>({width:b,left:m,top:g,height:y}),[b,m,g,y]),panelId:e,minDims:o,boundsHighlighted:l,addBoundsHighlightLock:s}}},[e,i,l,s]);return Jp.default.createElement(Xb.Provider,{value:u},t)},Qb=DD}),bc,AD,BD,ND,Yb,RD=P(()=>{nt(),Ne(),Dt(),bc=$(X()),be(),is(),Fn(),Rt(),Po(),BD=M.div(AD||(AD=R([`
  cursor: move;
`]))),ND=e=>{let t=as(),n=(0,bc.useRef)(t);n.current=t;let[o,i]=Ye(null),l=(0,bc.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let f=n.current,m,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=he(L({},f.dims),{top:kt(f.dims.top+h,0,window.innerHeight-Wr),left:kt(f.dims.left+g,-f.dims.width+Wr,window.innerWidth-Wr)}),y=eh(b,{width:window.innerWidth,height:window.innerHeight});m==null||m.discard(),m=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:f.panelId})})},onDragEnd(g){v(),g?m==null||m.commit():m==null||m.discard()}}}}),[]),[s]=xt(i,l);Xn(s,"dragging","move");let[u,d]=(0,bc.useMemo)(()=>{let f;return[function(){if(f){let m=f;f=void 0,m()}f=t.addBoundsHighlightLock()},function(){if(f){let m=f;f=void 0,m()}}]},[]);return bc.default.createElement(BD,he(L({},e),{ref:o,onMouseEnter:u,onMouseLeave:d}))},Yb=ND}),th,FD,Jb,MD,e1,UD,t1,VD,HD,KD,WD,qD,n1,$D,LD,ZD,GD,XD,kc,QD,YD,JD,eA,tA,nA,rA,oA,aA,r1,iA,Bo,Nee=P(()=>{nt(),Ne(),Dt(),Rn(),th=$(X()),be(),is(),rt(),Rt(),Po(),Jb=M.div(FD||(FD=R([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),tt,Tl(.2,"#478698")),e1=M(Jb)(MD||(MD=R([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),t1=M(e1)(UD||(UD=R([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),HD=M(t1)(VD||(VD=R([`
  top: -1px;
`]))),WD=M(t1)(KD||(KD=R([`
  bottom: -1px;
`]))),n1=M(e1)(qD||(qD=R([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),LD=M(n1)($D||($D=R([`
  left: -1px;
`]))),GD=M(n1)(ZD||(ZD=R([`
  right: -1px;
`]))),kc=M(Jb)(XD||(XD=R([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),YD=M(kc)(QD||(QD=R([`
  top: 0;
  left: 0;
`]))),eA=M(kc)(JD||(JD=R([`
  top: 0;
  right: 0;
`]))),nA=M(kc)(tA||(tA=R([`
  bottom: 0;
  left: 0;
`]))),oA=M(kc)(rA||(rA=R([`
  bottom: 0;
  right: 0;
`]))),aA={Top:HD,TopLeft:YD,TopRight:eA,Bottom:WD,BottomLeft:nA,BottomRight:oA,Left:LD,Right:GD},r1={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},iA=({which:e})=>{let t=as(),n=(0,th.useRef)(t);n.current=t;let[o,i]=Ye(null),l=(0,th.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:r1[e],onDragStart(){let f,m=n.current,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=L({},m.dims);if(e.startsWith("Bottom"))b.height=Math.max(b.height+h,m.minDims.height);else if(e.startsWith("Top")){let k=b.top+b.height,x=kt(b.top+h,0,Math.min(k-m.minDims.height,window.innerHeight-Wr)),S=k-x;b.height=S,b.top=x}if(e.endsWith("Left")){let k=b.left+b.width,x=Math.min(b.left+g,Math.min(k-m.minDims.width,window.innerWidth-Wr)),S=k-x;b.width=S,b.left=x}else e.endsWith("Right")&&(b.width=Math.max(b.width+g,Math.max(m.minDims.width,Wr-m.dims.left)));let y=eh(b,{width:window.innerWidth,height:window.innerHeight});f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:m.panelId})})},onDragEnd(g){v(),g?f==null||f.commit():f==null||f.discard()}}}}),[e]),[s]=xt(i,l),u=aA[e],d=e.length<=6;return th.default.createElement(u,{ref:o,className:[s?"isDragging":"",t.boundsHighlighted&&d?"isHighlighted":""].join(" "),style:{cursor:r1[e]}})},Bo=iA}),Pr,lA,sA,Ree=P(()=>{Pr=$(X()),Nee(),lA=e=>Pr.default.createElement(Pr.default.Fragment,null,Pr.default.createElement(Bo,{which:"Bottom"}),Pr.default.createElement(Bo,{which:"Top"}),Pr.default.createElement(Bo,{which:"Left"}),Pr.default.createElement(Bo,{which:"Right"}),Pr.default.createElement(Bo,{which:"TopLeft"}),Pr.default.createElement(Bo,{which:"TopRight"}),Pr.default.createElement(Bo,{which:"BottomLeft"}),Pr.default.createElement(Bo,{which:"BottomRight"})),sA=lA}),nh,uA,cA,dA,o1,fA=P(()=>{rt(),nh=$(X()),be(),is(),Ree(),cA=M.div(uA||(uA=R([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),tt),dA=nh.default.forwardRef((e,t)=>{let n=as(),o=e,{style:i,children:l}=o,s=Js(o,["style","children"]);return nh.default.createElement(cA,he(L({ref:t},s),{style:L({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},i??{})}),nh.default.createElement(sA,null),l)}),o1=dA}),Fee=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t<"u"?o(e,X()):(n=typeof globalThis<"u"?globalThis:n||self,o(n.ReactErrorBoundary={},n.React))})(e,function(n,o){function i(h){if(h&&h.__esModule)return h;var b=Object.create(null);return h&&Object.keys(h).forEach(function(y){if(y!=="default"){var k=Object.getOwnPropertyDescriptor(h,y);Object.defineProperty(b,y,k.get?k:{enumerable:!0,get:function(){return h[y]}})}}),b.default=h,Object.freeze(b)}var l=i(o);function s(h,b){return s=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},s(h,b)}function u(h,b){h.prototype=Object.create(b.prototype),h.prototype.constructor=h,s(h,b)}var d=function(h,b){return h===void 0&&(h=[]),b===void 0&&(b=[]),h.length!==b.length||h.some(function(y,k){return!Object.is(y,b[k])})},f={error:null},m=function(h){u(b,h);function b(){for(var k,x=arguments.length,S=new Array(x),_=0;_<x;_++)S[_]=arguments[_];return k=h.call.apply(h,[this].concat(S))||this,k.state=f,k.updatedWithError=!1,k.resetErrorBoundary=function(){for(var O,j=arguments.length,z=new Array(j),V=0;V<j;V++)z[V]=arguments[V];k.props.onReset==null||(O=k.props).onReset.apply(O,z),k.reset()},k}b.getDerivedStateFromError=function(k){return{error:k}};var y=b.prototype;return y.reset=function(){this.updatedWithError=!1,this.setState(f)},y.componentDidCatch=function(k,x){var S,_;(S=(_=this.props).onError)==null||S.call(_,k,x)},y.componentDidMount=function(){var k=this.state.error;k!==null&&(this.updatedWithError=!0)},y.componentDidUpdate=function(k){var x=this.state.error,S=this.props.resetKeys;if(x!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(x!==null&&d(k.resetKeys,S)){var _,O;(_=(O=this.props).onResetKeysChange)==null||_.call(O,k.resetKeys,S),this.reset()}},y.render=function(){var k=this.state.error,x=this.props,S=x.fallbackRender,_=x.FallbackComponent,O=x.fallback;if(k!==null){var j={error:k,resetErrorBoundary:this.resetErrorBoundary};if(l.isValidElement(O))return O;if(typeof S=="function")return S(j);if(_)return l.createElement(_,j);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},b}(l.Component);function v(h,b){var y=function(x){return l.createElement(m,b,l.createElement(h,x))},k=h.displayName||h.name||"Unknown";return y.displayName="withErrorBoundary("+k+")",y}function g(h){var b=l.useState(null),y=b[0],k=b[1];if(h!=null)throw h;if(y!=null)throw y;return k}n.ErrorBoundary=m,n.useErrorHandler=g,n.withErrorBoundary=v,Object.defineProperty(n,"__esModule",{value:!0})})}),Gt,pA,hA,mA,gA,vA,yA,bA,kA,wA,xA,SA,EA,_A,PA,CA,IA,jA,OA,TA,Mee=P(()=>{Gt=$(X()),be(),Po(),is(),RD(),fA(),pA=$(Fee()),Ll(),Ne(),Po(),hA={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},mA={width:300,height:300},gA=({paneInstance:e})=>Gt.default.createElement(Qb,{panelId:"pane-".concat(e.instanceId),defaultPosition:hA,minDims:mA},Gt.default.createElement(OA,{paneInstance:e})),yA=M(o1)(vA||(vA=R([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),Ml.pluginPanes),kA=M.div(bA||(bA=R([`
  width: 100%;
`]))),xA=M.div(wA||(wA=R([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),EA=M.button(SA||(SA=R([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),PA=M(fI)(_A||(_A=R([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),IA=M.div(CA||(CA=R([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),jA=e=>Gt.default.createElement(IA,null,"An Error occurred rendering this pane. Open the console for more info.",Gt.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),OA=({paneInstance:e})=>{let[t,n]=(0,Gt.useState)(null),o=e.definition.mount;(0,Gt.useLayoutEffect)(()=>{if(!t)return;let l=o({paneId:e.instanceId,node:t});if(typeof l=="function")return l},[t,o,e.instanceId]);let i=(0,Gt.useCallback)(()=>{de().paneManager.destroyPane(e.instanceId)},[e]);return Gt.default.createElement(yA,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},Gt.default.createElement(Yb,null,Gt.default.createElement(iy,null,Gt.default.createElement(xA,null,Gt.default.createElement(EA,{onClick:i,title:"Close Pane"},Gt.default.createElement(HY,null))),Gt.default.createElement(kA,null,e.instanceId))),Gt.default.createElement(pA.ErrorBoundary,{FallbackComponent:jA},Gt.default.createElement(PA,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:n})))},TA=gA}),a1,i1,zA=P(()=>{a1=je,i1=(e,t)=>{let n=a1.prism.memo(e,()=>new a1.Atom(t),[]);return n.set(t),n}});function DA(e,t){(0,AA.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let n=null,o=he(L({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function i(){n=Bp.replaceLock(o,()=>{})}function l(){n==null||n()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),()=>{n==null||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",l)}},[e])}var AA,BA=P(()=>{AA=$(X()),Eb()}),xa,NA,l1,RA,s1,FA,u1,MA,UA,VA,HA,KA,WA,qA,rh,oh=P(()=>{rt(),xa=$(X()),Ll(),be(),bi(),BA(),l1=M.li(NA||(NA=R([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),s1=M.div(RA||(RA=R([`
  border-bottom: 1px solid #7695b705;
`]))),u1=M(s1)(FA||(FA=R([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),Fl.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),UA=M.span(MA||(MA=R([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),ga,u1),HA=M.span(VA||(VA=R([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),WA=M.ul(KA||(KA=R([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),qA=({leaf:e,label:t,children:n,isSelectable:o,isSelected:i,toggleSelect:l,toggleCollapsed:s,isCollapsed:u})=>{let d=Array.isArray(n)&&n.length>0,f=(0,xa.useRef)(null);return DA(f.current,e),e.shouldRender?xa.default.createElement(l1,{depth:e.depth},xa.default.createElement(u1,{ref:f,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:i===!0,onClick:l,isEven:e.n%2===0},xa.default.createElement(HA,{isCollapsed:u,onClick:s},xa.default.createElement(aj,null)),xa.default.createElement(UA,null,t)),d&&xa.default.createElement(WA,null,n)):null},rh=qA});function Uee(e,t){return t.every((n,o)=>n===e[o])}function Vee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ah(e){var t;let n=[];for(;;){let o=n.length,i=(t=e[0])==null?void 0:t[o];if(i===void 0)return n;for(let l of e)if(i!==l[o])return n;n.push(i)}}var to,ih,no=P(()=>{wp(),to=Lu(e=>JSON.stringify(e)),ih=e=>JSON.parse(e)});function Hee(e,t){let n=(0,c1.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,c1.useEffect)(()=>{function o(s){s.key===n.current.combo&&n.current.listener({down:!0,event:s})}function i(s){s.key===n.current.combo&&n.current.listener({down:!1,event:s})}function l(s){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",i),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",i),window.removeEventListener("blur",l)}},[])}var c1,Kee=P(()=>{c1=$(X())});function $A(e){let[t,n]=(0,LA.useState)(!1);return Hee(e,({down:o})=>{n(o)}),t}var LA,ZA=P(()=>{LA=$(X()),Kee()});function Wee(e){let t=(0,d1.useMemo)(()=>new GA.Atom(e),[]);return(0,d1.useLayoutEffect)(()=>{t.set(e)},[e]),t}var GA,d1,qee=P(()=>{GA=je,d1=$(X())});function XA(e,t,n){let o=(0,f1.pointer)({root:{},path:[]}),i=t(o);Cl(e,(0,f1.getPointerParts)(i).path,n)}var f1,$ee=P(()=>{f1=je,uv()}),lh,QA,vn,Cr=P(()=>{lh="data-pos",QA={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(lh));if(n){let o=parseFloat(n.getAttribute(lh));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[lh]:e}}},vn=QA});function sh(e){let t=e.type==="sheet"?Zee(e):p1(e);return{byPosition:Lee(t),tracks:t}}function Lee(e){let t=new Map;for(let n of e)for(let o of n.data.keyframes){let i=t.get(o.position);i||(i=[],t.set(o.position,i)),i.push({kf:o,track:n,itemKey:Ft.forTrackKeyframe(n.sheetObject,n.id,o.id)})}return t}function Zee(e){return e.children.flatMap(p1)}function p1(e){return e.children.flatMap(t=>t.type==="propWithChildren"?p1(t):Gee(t))}function Gee(e){let t=e.sheetObject,n=t.address.projectId,o=de().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,uh.val)(o.trackIdByPropPath[to(e.pathToProp)]);if(!i)return[];let l=(0,uh.val)(o.trackData[i]);return l?[{id:i,data:l,sheetObject:t}]:[]}function Xee(e,t){return la(e.children.flatMap(n=>h1(n,t)))}function h1(e,t){return la(e.children.flatMap(n=>n.type==="propWithChildren"?h1(n,t):Qee(n,t)))}function Qee(e,t){var n,o;let i=e.sheetObject,l=i.address.projectId,s=de().atomP.historic.coreByProject[l].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],u=(0,uh.val)(s.trackIdByPropPath[to(e.pathToProp)]);return u?(o=(n=t[i.address.objectKey])==null?void 0:n[u])!=null?o:[]:[]}var uh,ls=P(()=>{Ne(),uh=je,Do(),no(),Rt()});function Yee(e,t){let[n,o]=Ye(null),i=fa("useCaptureSelection");return xt(t,(0,ss.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let s=t.getBoundingClientRect(),u=l.clientX-s.left-(0,Yn.val)(e.scaledSpace.leftPadding),d=(0,Yn.val)(e.scaledSpace.toUnitSpace)(u);return n.current={h:[d,d],v:[l.clientY-s.top,l.clientY-s.top]},(0,Yn.val)(e.selectionAtom).set({current:void 0}),{onDrag(f,m,v){let g=t.getBoundingClientRect(),h=v.clientX-g.left-(0,Yn.val)(e.scaledSpace.leftPadding),b=(0,Yn.val)(e.scaledSpace.toUnitSpace)(h);n.current={h:[n.current.h[0],b],v:[n.current.v[0],v.clientY-g.top]};let y=m1.boundsToSelection(i,(0,Yn.val)(e),n.current);(0,Yn.val)(e.selectionAtom).set({current:y})},onDragEnd(f){n.current=null}}}}),[e,t,n])),o}var Yn,ss,Sa,YA,JA,eB,m1,tB,nB,g1,rB,oB,Jee=P(()=>{Ne(),Dt(),ZA(),qee(),$ee(),nt(),Fe(),Yn=je,ss=$(X()),be(),Cr(),ls(),pa(),Sa=5,JA=M.div(YA||(YA=R([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),eB=({layoutP:e,children:t,height:n})=>{let[o,i]=Ye(null),l=$A("Shift"),s=Yee(e,i),u=(0,ss.useRef)(s);return u.current=s,ss.default.createElement(JA,{style:{height:n+"px"},ref:o,isShiftDown:l,className:"selectionview"},s&&ss.default.createElement(rB,{state:s,layoutP:e}),t)},(e=>{let t=(s,u,d,f,m)=>{let v=sh(d);if(d.top+d.nodeHeight/2+Sa>f.v[0]&&d.top+d.nodeHeight/2-Sa<f.v[1])for(let[g,h]of v.byPosition){let b=u.scaledSpace.toUnitSpace(Sa);if(!(g+b<=f.h[0]||g-b>=f.h[1]))for(let y of h)XA(m,k=>k[y.track.sheetObject.address.objectKey].byTrackId[y.track.id].byKeyframeId[y.kf.id],!0)}o(s,u,d,f,m)},n={sheet(s,u,d,f,m){t(s,u,d,f,m)},propWithChildren(s,u,d,f,m){t(s,u,d,f,m)},sheetObject(s,u,d,f,m){t(s,u,d,f,m)},primitiveProp(s,u,d,f,m){let{sheetObject:v,trackId:g}=d,h=(0,Yn.val)(de().atomP.historic.coreByProject[v.address.projectId].sheetsById[v.address.sheetId].sequence.tracksByObject[v.address.objectKey].trackData[g]);if(!(f.v[0]>d.top+d.heightIncludingChildren/2+Sa||d.top+d.heightIncludingChildren/2-Sa>f.v[1])){for(let b of h.keyframes)if(!(b.position+u.scaledSpace.toUnitSpace(Sa)<=f.h[0])){if(b.position-u.scaledSpace.toUnitSpace(Sa)>=f.h[1])break;XA(m,y=>y[v.address.objectKey].byTrackId[g].byKeyframeId[b.id],!0)}}}},o=(s,u,d,f,m)=>{if("children"in d)for(let v of d.children)i(s,u,v,f,m)};function i(s,u,d,f,m){if(!d.shouldRender||f.v[0]>d.top+d.heightIncludingChildren||d.top>f.v[1])return;let v=n[d.type];v?v(s,u,d,f,m):o(s,u,d,f,m)}function l(s,u,d){let f={};d=g1(d);let m=u.tree;i(s.utilFor.internal(),u,m,d,f);let v=u.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:f,getDragHandlers(g){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let h,b=u.scaledSpace.toUnitSpace;return{onDrag(y,k,x){h&&(h.discard(),h=void 0);let S=vn.checkIfMouseEventSnapToPos(x,{ignore:g.domNode}),_=S!=null?S-g.positionAtStartOfDrag:b(y);h=de().tempTransaction(({stateEditors:O})=>{let j=O.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let z of Object.keys(f)){let{byTrackId:V}=f[z];for(let W of Object.keys(V)){let{byKeyframeId:B}=V[W];j({trackId:W,keyframeIds:Object.keys(B),translate:_,scale:1,origin:0,snappingFunction:v.getSequence().closestGridPosition,objectKey:z,projectId:g.projectId,sheetId:g.sheetId})}}})},onDragEnd(y){y?h==null||h.commit():h==null||h.discard()}}}}},delete(){de().transaction(({stateEditors:g})=>{let h=g.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let b of Object.keys(f)){let{byTrackId:y}=f[b];for(let k of Object.keys(y)){let{byKeyframeId:x}=y[k];h(he(L({},v.address),{objectKey:b,trackId:k,keyframeIds:Object.keys(x)}))}}})}}}e.boundsToSelection=l})(m1||(m1={})),nB=M.div(tB||(tB=R([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),g1=e=>({h:[...e.h].sort((t,n)=>t-n),v:[...e.v].sort((t,n)=>t-n)}),rB=({state:e,layoutP:t})=>{let n=Wee(e);return Xe(()=>{let o=(0,Yn.val)(n.pointer),i=g1(o),l=(0,Yn.val)(t.scaledSpace.fromUnitSpace),s=(0,Yn.val)(t.scaledSpace.leftPadding),u=i.h.map(l).map(g=>g+s),d=i.v[0],f=i.v[1]-i.v[0],m=u[0],v=u[1]-u[0];return ss.default.createElement(nB,{style:{top:d+"px",height:f+"px",left:m+"px",width:v+"px"}})},[t,n])},oB=eB}),Pi,aB,iB,v1,lB,sB,uB,cB=P(()=>{Ul(),Pi=$(X()),be(),Ko(),iB=M.div(aB||(aB=R([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>po.scrollableArea),v1=(0,Pi.createContext)(kr),lB=()=>(0,Pi.useContext)(v1),sB=e=>{let t=(0,Pi.useRef)(null),n=(0,Pi.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return Pi.default.createElement(v1.Provider,{value:n},Pi.default.createElement(iB,{ref:t},e.children))},uB=sB}),dB,ete=P(()=>{dB='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Jn,ch=P(()=>{Jn=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),dh,fB,pB,tte=P(()=>{dh=je,fB=(0,dh.prism)(()=>{let[e,t]=dh.prism.state("pos",null);return dh.prism.effect("setupListeners",()=>{let n=o=>{t(o)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]),e}),pB=fB}),No,yn,wc,hB,mB,gB,vB,Ro,ro,fh,yB,bB,Xt=P(()=>{No=je,tte(),Rt(),yn=$(X()),wc=(0,yn.createContext)(null),hB=0,mB=({children:e,layoutP:t})=>{let n=(0,yn.useMemo)(()=>new No.Atom([]),[]),o=(0,yn.useMemo)(()=>(0,No.prism)(()=>{let s=No.prism.memo("p",()=>yB(t),[t]).getValue(),u=(0,No.val)(n.pointer);return u.length>0?si(u).position:s}),[t]),i=(0,yn.useCallback)(()=>{let s=hB++;return n.reduce(u=>[...u,{id:s,position:[-1,0]}]),{set:u=>{n.reduce(d=>{let f=d.findIndex(v=>v.id===s);if(f===-1)return console.warn("Lock is already freed. This is a bug."),d;let m=[...d];return m.splice(f,1,{id:s,position:[u,u===-1?0:1]}),m})},unlock:()=>{n.reduce(u=>u.filter(d=>d.id!==s))}}},[]),l={currentD:o,getLock:i};return yn.default.createElement(wc.Provider,{value:l},e)},gB=()=>(0,yn.useContext)(wc).currentD,vB=()=>{let{getLock:e}=(0,yn.useContext)(wc),t=(0,yn.useRef)();return(0,yn.useLayoutEffect)(()=>()=>{var n;(n=t.current)==null||n.unlock()},[]),(0,yn.useMemo)(()=>{let n;return(o,i)=>{var l,s;(n==null?void 0:n.shouldLock)!==o&&(o?t.current=e():(l=t.current)==null||l.unlock()),(n==null?void 0:n.pos)!==i&&o&&((s=t.current)==null||s.set(i)),n={shouldLock:o,pos:i}}},[e])},Ro=(e,t)=>{let{getLock:n}=(0,yn.useContext)(wc),o=(0,yn.useRef)();(0,yn.useLayoutEffect)(()=>{if(e)return o.current=n(),()=>{o.current.unlock()}},[e,n]),(0,yn.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},ro=e=>({[fh]:e==="hide"?e:e.toFixed(3)}),fh="data-theatre-lock-framestamp-to",yB=e=>(0,No.prism)(()=>{let t=(0,No.val)(e.rightDims),n=(0,No.val)(e.clippedSpace.toUnitSpace),o=(0,No.val)(pB);if(!o)return[-1,0];for(let m of o.composedPath()){if(!(m instanceof HTMLElement||m instanceof SVGElement))break;if(m.hasAttribute(fh)){let v=m.getAttribute(fh);if(typeof v!="string")continue;if(v==="hide")return[-1,0];let g=parseFloat(v);if(isFinite(g)&&g>=0)return[g,2]}}let{clientX:i,clientY:l}=o,{screenX:s,screenY:u,width:d,height:f}=t;if(iv(i,s,s+d)&&iv(l,u+16,u+f)){let m=i-s;return[n(m),3]}else return[-1,0]}),bB=mB}),kB,xc,y1,wB,xB,oo,SB=P(()=>{rt(),Fn(),be(),ete(),ch(),Cr(),Xt(),kB=12,xc=34,y1="beingDragged",oo={BEING_DRAGGED_CLASS:y1,CSS:Nn(wB||(wB=R([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Jn(kB),tt,y1),CSS_WHEN_SOMETHING_DRAGGING:Nn(xB||(xB=R([`
    pointer-events: auto;
    cursor: var(`,`);

    // ⸢⸤⸣⸥ thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),Io,xc/2,xc/2,xc,xc,dB),reactProps(e){return he(L(L({},ro(e.position)),vn.includePositionSnapAttrs(e.position)),{className:e.isDragging?oo.BEING_DRAGGED_CLASS:""})}}});function b1(){Ec.set({mode:"snapToAll"})}function Ci(){Ec.set({mode:"snapToNone"})}function EB(e){Ec.set({mode:"snapToSome",positions:e})}function _B(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,Object.fromEntries(Object.entries(o.trackData).map(([i,l])=>[i,l.keyframes.filter(s=>t(s,{trackId:i,trackData:l,objectKey:n})).map(s=>s.position)]))]))}var PB,CB,k1,IB,jB,OB,TB,zB,Sc,Ec,w1,Ii=P(()=>{PB=je,CB=je,k1=$(X()),be(),SB(),jB=M.div(IB||(IB=R([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),oo.CSS,oo.CSS_WHEN_SOMETHING_DRAGGING),TB=M.div(OB||(OB=R([`
  position: absolute;
`]))),zB=e=>k1.default.createElement(TB,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,CB.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},k1.default.createElement(jB,L({},oo.reactProps({isDragging:!1,position:e.position})))),Sc=zB,Ec=new PB.Atom({mode:"snapToNone"}),w1=Ec.prism});function nte(e,t){let n=(0,ji.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(i){if(i.target instanceof HTMLInputElement||i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||i.composedPath().some(v=>v instanceof HTMLElement&&v.draggable===!0))return!1;let l=i.clientX-t.getBoundingClientRect().left,s=kt((0,St.val)(e.clippedSpace.toUnitSpace)(l),0,1/0),u=(0,St.val)(e.seeker.setIsSeeking),d=(0,St.val)(e.sheet).getSequence();d.position=s;let f=s,m=(0,St.val)(e.scaledSpace.toUnitSpace);return u(!0),b1(),{onDrag(v,g,h){let b=m(v),y=kt(f+b,0,d.length),k=vn.checkIfMouseEventSnapToPos(h,{});k!=null&&(y=k),d.position=y},onDragEnd(){u(!1),Ci()}}}}),[e,t]),[o]=xt(t,n);Xn(o,"draggingPositionInSequenceEditor","ew-resize")}function rte(e,t){let n=lB();(0,ji.useLayoutEffect)(()=>{if(!t)return;let o=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let s=l.clientX-t.getBoundingClientRect().left,u=(0,St.val)(e.clippedSpace.toUnitSpace)(s),d=(0,St.val)(e.clippedSpace.range),f=1+x1(l.deltaY,[-50,50])*.03,m=ui(d,h=>(h-u)*f+u),v=(0,St.val)(e.sheet).getSequence().length,g=v+v*.25;(0,St.val)(e.clippedSpace.setRange)(ote(m,[0,g]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.sheet).getSequence().length,u=(0,St.val)(e.clippedSpace.range),d=(u.end-u.start)/s,f=x1(l.deltaY||l.deltaX,[-50,50])*.05*d,m=ui(u,v=>v+f);(0,St.val)(e.clippedSpace.setRange)(m);return}else{n(l),l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.scaledSpace.toUnitSpace)(l.deltaX*1),u=(0,St.val)(e.clippedSpace.range),d=ui(u,f=>f+s);(0,St.val)(e.clippedSpace.setRange)(d);return}},i={capture:!0,passive:!1};return t.addEventListener("wheel",o,i),()=>{t.removeEventListener("wheel",o,i)}},[t,e]),xt(t,(0,ji.useMemo)(()=>({onDragStart(o){let i=(0,St.val)(e.clippedSpace.range),l=(0,St.val)(e.clippedSpace.setRange),s=(0,St.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(u,d,f,m,v){n({deltaY:-v});let g=-s(u),h=ui(i,b=>b+g);l(h)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function x1(e,[t,n]){return Math.max(Math.min(e,n),t)}function ote(e,t){return ui(e,n=>x1(n,t))}function ate(e,t){(0,ji.useLayoutEffect)(()=>{if(!t)return;let n=(0,St.prism)(()=>{let s=(0,St.val)(e.clippedSpace.range);return(0,St.val)(e.scaledSpace.fromUnitSpace)(s.start)}),o=()=>{let s=n.getValue();t.scrollLeft=s},i=n.onStale(o);o();let l=setTimeout(o,100);return()=>{clearTimeout(l),i()}},[e,t])}var St,ji,DB,AB,BB,S1,NB=P(()=>{Dt(),nt(),Fe(),St=je,Rt(),ji=$(X()),be(),cB(),rt(),Fn(),Cr(),Ii(),AB=M.div(DB||(DB=R([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),tt),BB=ji.default.memo(({layoutP:e,children:t,height:n})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:i}=Xe(()=>({width:(0,St.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,St.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[l,s]=Ye(null);return rte(e,s),nte(e,s),ate(e,s),ji.default.createElement(AB,{ref:l,style:{width:o+"px",height:n+"px","--unitSpaceToScaledSpaceMultiplier":i}},t)}),S1=BB}),ph,RB,FB,MB,UB,VB,HB,KB,us,hh=P(()=>{ph=$(X()),be(),FB=M.li(RB||(RB=R([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),UB=M.div(MB||(MB=R([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),HB=M.ul(VB||(VB=R([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),KB=({leaf:e,children:t,node:n,isCollapsed:o})=>{let i=Array.isArray(t)&&t.length>0;return e.shouldRender?ph.default.createElement(FB,null,ph.default.createElement(UB,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},n),i&&ph.default.createElement(HB,null,t)):null},us=KB}),ite=He((e,t)=>{(function(){var n=this,o={};typeof e<"u"?t.exports=o:n.fuzzy=o,o.simpleFilter=function(i,l){return l.filter(function(s){return o.test(i,s)})},o.test=function(i,l){return o.match(i,l)!==null},o.match=function(i,l,s){s=s||{};var u=0,d=[],f=l.length,m=0,v=0,g=s.pre||"",h=s.post||"",b=s.caseSensitive&&l||l.toLowerCase(),y;i=s.caseSensitive&&i||i.toLowerCase();for(var k=0;k<f;k++)y=l[k],b[k]===i[u]?(y=g+y+h,u+=1,v+=1+v):v=0,m+=v,d[d.length]=y;return u===i.length?(m=b===i?1/0:m,{rendered:d.join(""),score:m}):null},o.filter=function(i,l,s){return!l||l.length===0?[]:typeof i!="string"?l:(s=s||{},l.reduce(function(u,d,f,m){var v=d;s.extract&&(v=s.extract(d));var g=o.match(i,v,s);return g!=null&&(u[u.length]={string:g.rendered,score:g.score,index:f,original:d}),u},[]).sort(function(u,d){var f=d.score-u.score;return f||u.index-d.index}))}})()});function lte(e,t){let[n,o]=(0,mh.useState)(!1),i=(0,mh.useRef)(t);return n||(i.current=t),(0,mh.useMemo)(()=>e(o),i.current)}var mh,ste=P(()=>{mh=$(X())}),E1,Ea,gh=P(()=>{E1="rgba(26, 28, 30, 0.97);",Ea="#272B2F"});function WB(e,t,n,o){let i=lte(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(s,u){e&&n.onCurveChange(o(s,u))},onDragEnd(s){l(!1),n.onCancelCurveChange()}}}}),[e,n.onCurveChange,n.onCancelCurveChange]);xt(t,i)}var Je,vh,_c,cs,qB,Pc,$B,yh,LB,ZB,GB,ds,XB,Oi,QB,YB,_1,JB,bh,e9,P1,t9,n9,ute=P(()=>{Je=$(X()),Dt(),nt(),pf(),be(),rt(),ste(),gh(),vh=.12,_c=1+vh*2,cs=.01,qB=8,Pc=(1-cs)/(qB-1),$B="#3EAAA4",yh="#3EAAA4",LB="#3EAAA4",ZB="#3EAAA4",GB="#3EAAA4",ds="#3EAAA4",XB="#3EAAA4",Oi="#B3B3B3",QB="#3eaaa4",YB="#67dfd8",_1=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],bh=M.circle(JB||(JB=R([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),QB),P1=M.circle(e9||(e9=R([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),tt,bh,YB),t9=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:o}=e,i=Math.min(0,1-n.handles[1],1-t.handles[3]),l=Math.max(1,1-n.handles[1],1-t.handles[3]),s=Math.max(1,l-i),u=x=>(x-i)/s,[d,f]=Ye(null),m=_c/((f==null?void 0:f.clientWidth)||1),v=_c/((f==null?void 0:f.clientHeight)||1),[g,h]=Ye(null);WB(f,h,e,(x,S)=>{let _=kt(t.handles[2]+x*m,0,1),O=t.handles[3]-S*v;return[_,O,n.handles[0],n.handles[1]]});let[b,y]=Ye(null);WB(f,y,e,(x,S)=>{let _=kt(n.handles[0]+x*m,0,1),O=n.handles[1]-S*v;return[t.handles[2],t.handles[3],_,O]});let k=x=>"M0 ".concat(u(1)," C").concat(x.left.handles[2]," ").concat(u(1-x.left.handles[3])," ").concat(x.right.handles[0]," ").concat(u(1-x.right.handles[1])," 1 ").concat(u(0));return Je.default.createElement("svg",{height:"100%",width:"100%",ref:d,viewBox:"".concat(-vh," ").concat(-vh," ").concat(_c," ").concat(_c),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Je.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Je.default.createElement("stop",{offset:u(-1),stopColor:XB}),Je.default.createElement("stop",{offset:u(0),stopColor:ds}),Je.default.createElement("stop",{offset:u(.3),stopColor:GB}),Je.default.createElement("stop",{offset:u(.5),stopColor:ZB}),Je.default.createElement("stop",{offset:u(.7),stopColor:LB}),Je.default.createElement("stop",{offset:u(1),stopColor:yh}),Je.default.createElement("stop",{offset:u(2),stopColor:$B})),Je.default.createElement("pattern",{id:"dot-background-pattern-1",width:Pc,height:Pc/s,y:-i/s},Je.default.createElement("rect",{width:cs,height:cs,fill:Oi,opacity:.3})),Je.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Je.default.createElement("pattern",{id:"dot-background-pattern-2",width:Pc,height:Pc},Je.default.createElement("rect",{width:cs,height:cs,fill:Oi})),Je.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:t.handles[2],y2:u(1-t.handles[3]),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(0),x2:n.handles[0],y2:u(1-n.handles[1]),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((x,S)=>Je.default.createElement("path",{key:x.objectKey+"/"+x.left.id,d:k(x),stroke:_1[S%_1.length],opacity:.6,strokeWidth:"0.01"})),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Je.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:yh,strokeWidth:"0.02",fill:Ea}),Je.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Ea}),Je.default.createElement(P1,{ref:g,cx:t.handles[2],cy:u(1-t.handles[3]),fill:yh,opacity:.2}),Je.default.createElement(bh,{cx:t.handles[2],cy:u(1-t.handles[3])}),Je.default.createElement(P1,{ref:b,cx:n.handles[0],cy:u(1-n.handles[1]),fill:ds,opacity:.2}),Je.default.createElement(bh,{cx:n.handles[0],cy:u(1-n.handles[1])})):Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:1,y2:u(1),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(1),x2:1,y2:0,stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Ea}),Je.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Ea})))},n9=t9});function kh(e){return e.map(t=>t.toFixed(3)).join(", ")}function wh(e){if(!e||(e==null?void 0:e.length)>r9)return null;let t=e.split(",");if(t.length!==4)return null;let n=t.map(o=>Number(o.trim()));return!n.every(o=>isFinite(o))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function cte(e,t,n={threshold:.02}){if(!e||!t)return!1;let o=0;for(let i=0;i<4;i++)o+=Math.abs(e[i]-t[i]);return o<n.threshold}var r9,xh,o9=P(()=>{r9=128,xh=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),un,Sh,Ti,C1,a9,i9,Cc,I1,j1,l9,s9,dte=P(()=>{un=$(X()),Sh=.75,Ti=.1,C1=1+Sh*2,a9="#F5F5F5",i9="#888888",Cc="#4f4f4f",I1="rgba(255, 255, 255, 0.1)",j1=e=>1-e,l9=e=>{let{easing:t,isSelected:n}=e,o=n?a9:i9,i="".concat(-Sh," ").concat(-Sh," ").concat(C1," ").concat(C1);if(t){let l=[t[0],j1(t[1])],s=[t[2],j1(t[3])];return un.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},un.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:Cc,strokeWidth:"0.1"}),un.default.createElement("line",{x1:"1",y1:"0",x2:s[0],y2:s[1],stroke:Cc,strokeWidth:"0.1"}),un.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:I1}),un.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:I1}),un.default.createElement("circle",{cx:l[0],cy:l[1],r:Ti,fill:Cc}),un.default.createElement("circle",{cx:s[0],cy:s[1],r:Ti,fill:Cc}),un.default.createElement("path",{d:"M0 1 C".concat(l[0]," ").concat(l[1]," ").concat(s[0],` 
        `).concat(s[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),un.default.createElement("circle",{cx:0,cy:1,r:Ti,fill:o}),un.default.createElement("circle",{cx:1,cy:0,r:Ti,fill:o}))}return un.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},un.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),un.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),un.default.createElement("circle",{cx:0,cy:1,r:Ti,fill:o}),un.default.createElement("circle",{cx:1,cy:0,r:Ti,fill:o}))},s9=l9}),Ic,u9,c9,d9,f9,p9,h9,m9,fte=P(()=>{sc(),Ic=$(X()),be(),o9(),dte(),tp(),gh(),Qr(),d9=M.div(c9||(c9=R([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),Ea,({isSelected:e})=>e&&Nn(u9||(u9=R([`
      background-color: #383d42;
    `])))),p9=M(Xr)(f9||(f9=R([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),h9=Ic.default.forwardRef((e,t)=>{let[n,o]=ts({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>Ic.default.createElement(p9,{showPopoverEdgeTriangle:!1},e.easing.label));return Ic.default.createElement(d9,L({ref:ep([o,t])},e),n,Ic.default.createElement(s9,{easing:wh(e.easing.value),isSelected:e.isSelected}))}),m9=h9});function pte(e){var t;let[n,o]=(0,g9.useState)(null),i=s=>{if(n===null){e.items.length>0&&o(0);return}let u=n+s*e.uiColumns,d=u<0,f=u>e.items.length-1;if(d||f){if(e.canVerticleExit&&e.canVerticleExit(d?"top":"bottom")){o(null);return}return}o(u)},l=s=>{n===null?o(vte(s,e.items.length)):n+s<0?o(null):o(Math.min(n+s,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:s=>{if(s.key==="ArrowRight")l(1);else if(s.key==="ArrowLeft")l(-1);else if(s.key==="ArrowUp")i(-1);else if(s.key==="ArrowDown")i(1);else return 0;return 1},gridItems:e.items.map((s,u)=>e.renderItem({isSelected:u===n,item:s,select(d){o(u),e.onSelectItem(s)===1&&(d==null||d.preventDefault(),d==null||d.stopPropagation())}})),currentSelection:(t=e.items[n??-1])!=null?t:null}}var g9,hte=P(()=>{g9=$(X()),_h()});function v9(e,t,n){var o;(o=e.current)==null||o.discard(),e.current=null;let i=wh(n);i===null?e.current=gte(t):e.current=mte(t,i)}function y9(e){var t;(t=e.current)==null||t.discard(),e.current=null}function mte(e,t){return de().tempTransaction(({stateEditors:n})=>{let{setHandlesForKeyframe:o,setKeyframeType:i}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:s,objectKey:u,trackId:d,left:f,right:m}of e)o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,start:[t[0],t[1]]}),o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:m.id,end:[t[2],t[3]]}),i({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,keyframeType:"bezier"})})}function gte(e){return de().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:n}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:i,objectKey:l,trackId:s,left:u}of e)n({projectId:o,sheetId:i,objectKey:l,trackId:s,keyframeId:u.id,keyframeType:"hold"})})}function vte(e,t){return(e%t+t)%t}function yte(e,t){return()=>setTimeout(e,t)}function bte({left:e,right:t}){return({left:n,right:o})=>e.handles[2]!==n.handles[2]||e.handles[3]!==n.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var Eh,gt,b9,O1,T1,k9,w9,x9,S9,E9,_9,P9,C9,I9,j9,O9,T9,z1,kte,D1,z9,_h=P(()=>{Eh=je,gt=$(X()),be(),b9=$(ite()),Ne(),ute(),fte(),o9(),gh(),nt(),hte(),O1=3,T1=53,k9=25,x9=M.div(w9||(w9=R([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),E1,O1*T1),E9=M.div(S9||(S9=R([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),O1),P9=M.input.attrs({type:"text"})(_9||(_9=R([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),Ea),I9=M.div(C9||(C9=R([`
  grid-area: tween;
  background: `,`;
`])),Ea),O9=M.div(j9||(j9=R([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),T9=e=>{let t=(0,gt.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),n=(0,gt.useRef)(null);(0,gt.useEffect)(()=>{let D=z9(t);return()=>{var G;D(),(G=n.current)==null||G.commit()}},[n]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,gt.useRef)(null);(0,gt.useLayoutEffect)(()=>{var D,G;(D=i.current)==null||D.select(),(G=i.current)==null||G.focus()},[i.current]);let[l,s]=(0,gt.useState)(kh(o)),u=D=>{D!==void 0&&(m(1),s(D.target.value),wh(D.target.value)&&g(D.target.value))},d=D=>{var G,C;m(1),(D.key==="ArrowDown"||D.key==="ArrowUp")&&D.preventDefault(),D.key==="ArrowDown"?(re.focusFirstItem(),(C=(G=z.current[x[0].label])==null?void 0:G.current)==null||C.focus()):D.key==="Escape"?(y9(n),e.onRequestClose("key Escape")):D.key==="Enter"&&e.onRequestClose("key Enter")},[f,m]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{f===2?s(kh(o)):f===3&&l!==""&&s("")},t);let[v,g]=(0,gt.useState)(kh(o)),[h,b]=(0,gt.useState)(null);(0,gt.useEffect)(()=>{var D;f!==0&&f!==3&&v9(n,t,(D=h??v)!=null?D:"")},[h,v,f]),t.some(bte(e.curveConnection))&&f===0&&m(3);let y=D=>{var G,C;m(2);let Y=kh(D);s(Y),g(Y),(G=i.current)==null||G.select(),(C=i.current)==null||C.focus()},k=()=>{},x=(0,gt.useMemo)(()=>/^[A-Za-z]/.test(l)?b9.default.filter(l,xh,{extract:D=>D.label}).map(D=>D.original):xh,[l]);(0,gt.useEffect)(()=>{f===1&&x[0]&&g(x[0].value)},[x]);let S=D=>{D.key==="Escape"?(y9(n),e.onRequestClose("key Escape"),D.stopPropagation()):D.key==="Enter"&&(e.onRequestClose("key Enter"),D.stopPropagation())},_=D=>{f===0&&m(2),b(D.value)},O=()=>b(null),j=D=>(v9(n,t,D.value),e.onRequestClose("selected easing option"),1),z=(0,gt.useRef)(xh.reduce((D,G)=>(D[G.label]={current:null},D),{})),[V,W]=Ye(null),[B,Z]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{let D=()=>{var G;Z((G=W==null?void 0:W.scrollTop)!=null?G:0)};return W==null||W.addEventListener("scroll",D),()=>W==null?void 0:W.removeEventListener("scroll",D)},[W]);let re=pte({items:x,uiColumns:3,onSelectItem:j,canVerticleExit(D){var G,C;return D==="top"?((G=i.current)==null||G.select(),(C=i.current)==null||C.focus(),1):0},renderItem:({item:D,select:G})=>{var C,Y;return gt.default.createElement(m9,{key:D.label,easing:D,tabIndex:0,onKeyDown:S,ref:z.current[D.label],onMouseOver:()=>_(D),onMouseOut:O,onClick:G,tooltipPlacement:((Y=(C=z.current[D.label].current)==null?void 0:C.offsetTop)!=null?Y:0)-(B??0)<T1+k9?"bottom":"top",isSelected:cte(o,wh(D.value))})}});return(0,gt.useLayoutEffect)(()=>{var D,G;if(re.currentSelection!==null&&document.activeElement!==i.current){let C=(G=(D=z.current)==null?void 0:D[re.currentSelection.label])==null?void 0:G.current;C==null||C.focus(),g(re.currentSelection.value),/^[A-Za-z]/.test(l)||s(re.currentSelection.value)}},[re.currentSelection]),gt.default.createElement(x9,null,gt.default.createElement(P9,{value:l,placeholder:f===3?"Multiple easings selected":"Search presets...",onPaste:yte(u),onChange:u,ref:i,onKeyDown:d}),gt.default.createElement(E9,{ref:V,onKeyDown:D=>re.onParentEltKeyDown(D)},re.gridItems,re.gridItems.length===0?gt.default.createElement(O9,null,"No results found"):void 0),gt.default.createElement(I9,{onClick:()=>{var D;return(D=i.current)==null?void 0:D.focus()}},gt.default.createElement(n9,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:y,onCancelCurveChange:k})))},z1=T9,{isCurveEditorOpenD:kte,isConnectionEditingInCurvePopover:D1,getLock:z9}=(()=>{let e=new Eh.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,Eh.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return Eh.prism.ensurePrism(),e.prism.getValue().some(({left:n,right:o})=>t.left.id===n.id&&t.right.id===o.id)}}})()});function wte(e,t){for(let{keyframeId:n}of Ete(t))if(e.left.id===n)return!0;return!1}function D9(e,t,n){return(0,Ch.prism)(()=>{if(n===void 0)return[];let o=[];for(let{objectKey:i,trackId:l}of A9(n)){let s=(0,Ch.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[l]);s&&(o=o.concat(Ste(s.keyframes).filter(u=>wte(u,n)).map(({left:u,right:d})=>({left:u,right:d,trackId:l,objectKey:i,sheetId:t,projectId:e}))))}return o})}function Ph(e,t,n){var o;if(n===void 0)return[];let i=[];for(let{objectKey:s,trackId:u,keyframeIds:d}of A9(n))i=i.concat((o=A1({projectId:e,sheetId:t,objectKey:s,trackId:u,keyframeIds:d}))!=null?o:[]);let l=ah(i.map(s=>s.pathToProp));return i.map(({keyframe:s,pathToProp:u})=>({keyframe:s,pathToProp:u.slice(l.length)}))}function A1({projectId:e,sheetId:t,objectKey:n,trackId:o,keyframeIds:i}){let l=(0,Ch.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[n]),s=l==null?void 0:l.trackData[o];if(!s)return null;let u=xte((l==null?void 0:l.trackIdByPropPath)||{})[o];if(!u)return null;let d=[n,...ih(u)];return i.map(f=>({keyframe:s.keyframes.find(m=>m.id===f),pathToProp:d})).filter(({keyframe:f})=>f!==void 0)}function xte(e){let t={};for(let[n,o]of Object.entries(e))t[o]=n;return t}function Ste(e){return e.map((t,n)=>({left:t,right:e[n+1]})).slice(0,-1)}function Ete(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))for(let f of Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{}))i.push({objectKey:l,trackId:u,keyframeId:f});return i}function A9(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))i.push({objectKey:l,trackId:u,keyframeIds:Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{})});return i}var Ch,fs=P(()=>{Ch=je,Ne(),no()});function _te(e,t){return(0,B9.useMemo)(()=>Pte(e,t),[])}function Pte(e,t){let n=null,o=s=>de().tempTransaction(u=>e(u,s));function i(){n==null||n.discard(),n=null}let l={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:s=>s.id?t.sheet.project.assetStorage.getAssetUrl(s.id):void 0};return L({temporarilySetValue(s){i(),n=o(s)},discardTemporaryValue:i,permanentlySetValue(s){i(),o(s).commit()}},l)}var B9,Cte=P(()=>{Ne(),B9=$(X())});function B1(e){var t;if(e.type==="sheetObject")return Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(Ih,{style:{paddingLeft:"".concat(e.indent*jh,"px")}},e.sheetObject.address.objectKey),e.children.map((n,o)=>Qt.default.createElement(B1,he(L({key:o},n),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let n=(t=e.propConfig.label)!=null?t:si(e.pathToProp);return Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(Ih,{style:{paddingLeft:"".concat(e.indent*jh,"px")}},n),e.children.map((o,i)=>Qt.default.createElement(B1,he(L({key:i},o),{autoFocusInput:e.autoFocusInput&&i===0,indent:e.indent+1}))))}else return Qt.default.createElement(Ite,he(L({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function Ite(e){var t;let n=(t=e.propConfig.label)!=null?t:si(e.pathToProp),o=jte(e);if(e.propConfig.type==="enum")return Qt.default.createElement(Qt.default.Fragment,null);{let i=db[e.propConfig.type];return Qt.default.createElement(R9,null,Qt.default.createElement(Ih,null,Qt.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*jh,"px")}},n)),Qt.default.createElement(U9,null,Qt.default.createElement(i,{editingTools:o,propConfig:e.propConfig,value:Sp(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function jte(e){let t=e.sheetObject;return _te(({stateEditors:n},o)=>{let i=he(L({},e.keyframe),{value:o});n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},t.address),{trackId:e.trackId,keyframes:[i],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var Qt,N9,R9,F9,Ih,jh,M9,U9,Ote=P(()=>{Qt=$(X()),be(),EO(),kf(),Cte(),ma(),R9=M.div(N9||(N9=R([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),Ih=M.div(F9||(F9=R([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),jh=10,U9=M.div(M9||(M9=R([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function Oh(e){return Zr({debugName:"useKeyframeInlineEditorPopover"},()=>Th.default.createElement(Xr,{showPopoverEdgeTriangle:!0},Th.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,n)=>Th.default.createElement(B1,he(L({key:n},t),{autoFocusInput:n===0,indent:0}))):void 0)))}var Th,zh=P(()=>{Th=$(X()),Gr(),Qr(),Ote()});function Tte(e,t,n){return mn(e,{displayName:"Keyframe",menuItems:()=>{let o=Ph(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])})}},{label:n.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():de().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",n)}})}function zte(e,t,n){let o=(0,_a.useRef)(t);o.current=t;let{onClickFromDrag:i}=n,l=(0,_a.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(u){let d=o.current,f=(0,Dh.val)(de().atomP.historic.coreByProject[d.leaf.sheetObject.address.projectId].sheetsById[d.leaf.sheetObject.address.sheetId].sequence.tracksByObject),m=_B(f,function(b,{trackId:y,objectKey:k}){var x,S;return b.id!==d.keyframe.id&&!(d.selection&&(S=(x=d.selection.byObjectKey[k])==null?void 0:x.byTrackId[y])!=null&&S.byKeyframeId[b.id])});if(EB(m),d.selection){let{selection:b,leaf:y}=d,{sheetObject:k}=y,x=b.getDragHandlers(he(L({},k.address),{domNode:e,positionAtStartOfDrag:d.track.data.keyframes[d.index].position})).onDragStart(u);return x&&he(L({},x),{onClick:i,onDragEnd:(...S)=>{var _;(_=x.onDragEnd)==null||_.call(x,...S),Ci()}})}let v=d,g=(0,Dh.val)(v.layoutP.scaledSpace.toUnitSpace),h;return{onDrag(b,y,k){var x;let S=v.track.data.keyframes[v.index],_=Math.max((x=vn.checkIfMouseEventSnapToPos(k,{ignore:e}))!=null?x:S.position+g(b),0);h==null||h.discard(),h=void 0,h=de().tempTransaction(({stateEditors:O})=>{O.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},v.leaf.sheetObject.address),{trackId:v.leaf.trackId,keyframes:[he(L({},S),{position:_})],snappingFunction:(0,Dh.val)(v.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(b){b?h==null||h.commit():h==null||h.discard(),Ci()},onClick(b){i(b)}}}}),[i]),[s]=xt(e,l);return Ro(s,t.keyframe.position),Xn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var _a,Dh,jc,N1,Oc,R1,V9,Ah,H9,K9,W9,q9,$9,L9,Z9=P(()=>{_a=$(X()),be(),Ne(),gn(),Dt(),nt(),Dh=je,Xt(),Fn(),Cr(),ch(),pa(),fs(),rt(),Ii(),zh(),wi(),jc=6,N1=jc+2,Oc={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},R1=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?Oc.inlineEditorOpenColor:e?Oc.selectedColor:t?Oc.selectedAndInlineEditorOpenColor:Oc.normalColor,Ah=M.div(V9||(V9=R([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Jn(jc),e=>R1(e),e=>e.flag===2?"outline: 2px solid white;":""),K9=M.div(H9||(H9=R([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Jn(jc*1.5),e=>R1(e),e=>e.flag===2?"outline: 2px solid white;":""),q9=M.div(W9||(W9=R([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Jn(12),tt,Ah,e=>e.isInlineEditorPopoverOpen?Jn(N1):"",Ah,Jn(N1)),$9=e=>{let t=fa("SingleKeyframeDot",e.keyframe.id),n=ki(e.itemKey),[o,i]=Ye(null),[l]=Tte(i,t,e),{node:s,toggle:u,isOpen:d}=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);zte(i,e,{onClickFromDrag(m){u(m,o.current)}});let f=!e.keyframe.type||e.keyframe.type==="bezier";return _a.default.createElement(_a.default.Fragment,null,_a.default.createElement(q9,L({ref:o,isInlineEditorPopoverOpen:d},n.attrs)),f?_a.default.createElement(Ah,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}):_a.default.createElement(K9,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}),s,l)},L9=$9}),F1,M1,U1,zi,G9,X9,V1,Q9=P(()=>{Rn(),F1=$(X()),be(),Z9(),M1=jc/2+1,U1=1e3,zi={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?zi.selectedColor:zi.normalColor;return e.isPopoverOpen?Uf(.2,Tl(.2,t)):t},hoverColor:e=>{let t=e.isSelected?zi.selectedColor:zi.normalColor;return e.isPopoverOpen?Uf(.2,Tl(.2,t)):Uf(.1,Tl(.1,t))}},X9=M.div(G9||(G9=R([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),zi.barColor,M1,U1,M1/2,zi.hoverColor),V1=F1.default.forwardRef((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return F1.default.createElement(X9,he(L({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/U1,"))")},onClick:o=>{var i;(i=e.openPopover)==null||i.call(e,o)}}),e.children)})});function Dte(e,t){let n=(0,H1.useRef)(t);n.current=t;let o=(0,H1.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s;if(l.selection){let{selection:m,leaf:v}=l,{sheetObject:g}=v;return m.getDragHandlers(he(L({},g.address),{domNode:e,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(i)}let u=l,d=(0,Bh.val)(u.layoutP.sheet).getSequence(),f=(0,Bh.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(m,v,g){let h=f(m);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},u.leaf.sheetObject.address),{trackId:u.leaf.trackId,keyframeIds:[u.keyframe.id,u.track.data.keyframes[u.index+1].id],translate:h,scale:1,origin:0,snappingFunction:d.closestGridPosition}))})},onDragEnd(m){m?s&&s.commit():s&&s.discard()}}}}),[]);xt(e,o)}function Ate(e,t,n,o){return mn(t,{displayName:"Tween",menuItems:()=>{let i=Ph(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:i.length>0?"Copy (selection)":"Copy",callback:()=>{i.length>0?de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}):de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():de().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},e.leaf.sheetObject.address),{keyframeIds:[n.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var Bh,Pa,H1,K1,Y9,J9,e7,t7,n7,Bte=P(()=>{Ne(),gn(),Dt(),nt(),Bh=je,Pa=$(X()),H1=$(X()),Gr(),Qr(),_h(),Q9(),gh(),Fe(),fs(),fs(),be(),K1=5,J9=M(Xr)(Y9||(Y9=R([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),E1),e7=e=>{let{index:t,track:n}=e,o=n.data.keyframes[t],i=n.data.keyframes[t+1],[l,s]=Ye(null),{node:u,toggle:d,close:f}=Zr(()=>{let h=(0,Bh.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:h.screenX+K1,maxX:h.screenX+h.width-K1}}},()=>Pa.default.createElement(n7,he(L({},e),{closePopover:f}))),[m]=Ate(e,s,o,i);Dte(s,e);let v=i.position-o.position,g={isPopoverOpen:Xe(()=>D1(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:i})),[e.leaf.sheetObject.address,e.leaf.trackId,o,i]),isSelected:e.selection!==void 0};return Pa.default.createElement(Pa.default.Fragment,null,Pa.default.createElement(V1,he(L({ref:l,connectorLengthInUnitSpace:v},g),{openPopover:h=>{s&&d(h,s)}}),u),m)},t7=e7,n7=Pa.default.forwardRef((e,t)=>{let{index:n,track:{data:o},selection:i}=e,l=o.keyframes[n],s=o.keyframes[n+1],u=e.leaf.trackId,d=e.leaf.sheetObject.address,f=Xe(()=>D9(d.projectId,d.sheetId,i).getValue(),[d,i]),m=L({left:l,right:s,trackId:u},d);return Pa.default.createElement(J9,{showPopoverEdgeTriangle:!1,ref:t},Pa.default.createElement(z1,{curveConnection:m,additionalConnections:f,onRequestClose:e.closePopover}))})}),r7,Di,o7,a7,i7,l7,s7,Nte=P(()=>{r7=je,Di=$(X()),be(),Bte(),Z9(),a7=M.div(o7||(o7=R([`
  position: absolute;
`]))),i7=Di.default.createElement(Di.default.Fragment,null),l7=Di.default.memo(e=>{let{index:t,track:{data:n}}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=o.connectedRight&&!!i;return Di.default.createElement(a7,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,r7.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},Di.default.createElement(L9,he(L({},e),{itemKey:e.itemKey})),l?Di.default.createElement(t7,L({},e)):i7)}),s7=l7});function Rte(e,t){return mn(e,{displayName:"Keyframe Track",menuItems:()=>{var n;let o=(n=(0,ps.val)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?n:[];return[Fte(t,o)]}})}function Fte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let o=(0,ps.val)(e.layoutP.sheet).getSequence(),i=(n=t[0])==null?void 0:n.pathToProp,l=t.filter(({keyframe:s,pathToProp:u})=>Vee(i,u)).map(({keyframe:s,pathToProp:u})=>s);de().transaction(({stateEditors:s})=>{var u;o.position=o.closestGridPosition(o.position);let d=(u=Mte(l))==null?void 0:u.position;for(let f of l)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+f.position-d,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}}}function Mte(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}var ps,Fo,u7,c7,W1,d7,Ute=P(()=>{Fe(),ps=je,Fo=$(X()),be(),Nte(),gn(),nt(),Ne(),no(),Ii(),Do(),c7=M.div(u7||(u7=R([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),W1=Fo.default.memo(e=>{var t;let{layoutP:n,trackData:o,leaf:i}=e,[l,s]=Ye(null),{selectedKeyframeIds:u,selection:d}=Xe(()=>{let _=(0,ps.val)(n.selectionAtom),O=(0,ps.val)(_.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return O?{selectedKeyframeIds:O,selection:(0,ps.val)(_.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[n,i.trackId]),[f,m,v]=Rte(s,e),g=Qe(w1),h=g.mode==="snapToSome"?(t=g.positions[i.sheetObject.address.objectKey])==null?void 0:t[i.trackId]:[],b=g.mode==="snapToAll",y=(0,Fo.useMemo)(()=>({data:o,id:i.trackId,sheetObject:e.leaf.sheetObject}),[o,i.trackId]),k=o.keyframes.map((_,O)=>Fo.default.createElement(s7,{key:"keyframe-"+_.id,itemKey:Ft.forTrackKeyframe(i.sheetObject,i.trackId,_.id),keyframe:_,index:O,track:y,layoutP:n,leaf:i,selection:u[_.id]===!0?d:void 0})),x=h.map(_=>Fo.default.createElement(Sc,{key:"snap-target-"+_,layoutP:n,leaf:i,position:_})),S=b?o.keyframes.map(_=>Fo.default.createElement(Sc,{key:"additionalSnapTarget-".concat(_.id),layoutP:n,leaf:i,position:_.position})):null;return Fo.default.createElement(c7,{ref:l,style:{background:v?"#444850 ":"unset"}},k,x,Fo.default.createElement(Fo.default.Fragment,null,S),f)}),W1.displayName="BasicKeyframedTrack",d7=W1}),f7,Tc,p7,h7,Vte=P(()=>{Ne(),Fe(),f7=je,Tc=$(X()),hh(),Ute(),pa(),p7=({leaf:e,layoutP:t})=>{let n=fa("PrimitivePropRow",e.pathToProp.join());return Xe(()=>{let{sheetObject:o}=e,{trackId:i}=e,l=(0,f7.val)(de().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[i]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(n.errorDev("trackData type ".concat(l==null?void 0:l.type," is not yet supported on the sequence editor")),Tc.default.createElement(us,{leaf:e,isCollapsed:!1,node:Tc.default.createElement("div",null)})):Tc.default.createElement(us,{leaf:e,isCollapsed:!1,node:Tc.default.createElement(d7,{layoutP:t,trackData:l,leaf:e})})},[e,t])},h7=p7});function Hte(e){return e()}var Kte=P(()=>{});function m7(e){let{index:t,aggregateKeyframes:n,selection:o}=e;return Xe(g7(e),[t,n,o,e.viewModel])}function g7(e){let{index:t,aggregateKeyframes:n,selection:o}=e,{projectId:i,sheetId:l}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let s=n[t],u=n[t+1],d=u&&s.keyframes.length===u.keyframes.length&&s.keyframes.every(({track:g},h)=>u.keyframes[h].track===g)?{length:u.position-s.position,selected:s.selected===0&&u.selected===0}:null,f=d?s.keyframes.map(({kf:g,track:h},b)=>he(L({},h.sheetObject.address),{trackId:h.id,left:g,right:u.keyframes[b].kf})):[],m=Hte(()=>{let g=q1.prism.memo("selectedConnections",()=>D9(i,l,o),[i,l,o]).getValue();return[...f,...g]}),v=f.every(g=>D1(g));return{itemKey:q1.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?Ft.forSheetAggregateKeyframe(e.viewModel.sheet,s.position):e.viewModel.type==="sheetObject"?Ft.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,s.position):Ft.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,s.position),[e.viewModel,s.position]),cur:s,connected:d,isAggregateEditingInCurvePopover:v,allConnections:m}}}var q1,$1=P(()=>{q1=je,Do(),_h(),Fe(),fs(),Kte()});function Wte(e,t){let n=(0,er.useRef)(t);n.current=t;let o=(0,er.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s,u=l.aggregateKeyframes[l.index].keyframes,{selection:d,viewModel:f}=l,m=f.type==="sheet"?f.sheet.address:f.sheetObject.address;if(d&&l.aggregateKeyframes[l.index].selected===0)return d.getDragHandlers(he(L({},m),{domNode:e,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(i);let v=l,g=(0,Nh.val)(v.layoutP.sheet).getSequence(),h=(0,Nh.val)(v.layoutP.scaledSpace.toUnitSpace);return{onDrag(b,y,k){let x=h(b);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:S})=>{for(let _ of u)S.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},_.track.sheetObject.address),{trackId:_.track.id,keyframeIds:[_.kf.id,_.track.data.keyframes[_.track.data.keyframes.indexOf(_.kf)+1].id],translate:x,scale:1,origin:0,snappingFunction:g.closestGridPosition}))})},onDragEnd(b){b?s&&s.commit():s&&s.discard()}}}}),[]);return xt(e,o)}function qte(e,t){return mn(t,{displayName:"Aggregate Tween",menuItems:()=>{let n=e.utils.allConnections.reduce((u,d)=>{var f;return u.concat((f=A1(he(L({},d),{keyframeIds:[d.left.id,d.right.id]})))!=null?f:[])},[]),o=ah(n.map(u=>u.pathToProp)),i=n.map(({keyframe:u,pathToProp:d})=>({keyframe:u,pathToProp:d.slice(o.length)})),l=e.editorProps.viewModel,s=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let u=Ph(s.projectId,s.sheetId,e.editorProps.selection);de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():de().transaction(({stateEditors:u})=>{for(let d of e.utils.allConnections)u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},s),{objectKey:d.objectKey,keyframeIds:[d.left.id,d.right.id],trackId:d.trackId}))})}}]}})}var Nh,er,L1,v7,y7,b7,k7,$te=P(()=>{Nh=je,er=$(X()),Q9(),Gr(),nt(),Ne(),Dt(),_h(),$1(),be(),Qr(),fs(),gn(),no(),L1=5,y7=M(Xr)(v7||(v7=R([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),b7=er.default.forwardRef((e,t)=>{let{allConnections:n}=m7(e);return er.default.createElement(y7,{showPopoverEdgeTriangle:!1,ref:t},er.default.createElement(z1,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))}),k7=e=>{let[t,n]=Ye(null),{editorProps:o}=e,[i]=qte(e,n),[l]=Wte(n,e.editorProps),{node:s,toggle:u,close:d}=Zr(()=>{let v=(0,Nh.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:v.screenX+L1,maxX:v.screenX+v.width-L1}}},()=>er.default.createElement(b7,he(L({},o),{closePopover:d}))),{connected:f,isAggregateEditingInCurvePopover:m}=e.utils;return f||l?er.default.createElement(er.default.Fragment,null,er.default.createElement(V1,{ref:t,connectorLengthInUnitSpace:f?f.length:0,isSelected:f?f.selected:!1,isPopoverOpen:m,openPopover:v=>{n&&u(v,n)}}),s,i):er.default.createElement(er.default.Fragment,null)}});function Lte(e){let t={isSelected:e.isSelected,flag:e.flag};return Mo.default.createElement(Rh,null,e.isAllHere?Mo.default.createElement(P7,L({},t)):Mo.default.createElement(C7,L({},t)))}var Mo,Z1,w7,x7,Rh,S7,E7,G1,X1,Q1,Y1,_7,P7,C7,Zte=P(()=>{Mo=$(X()),be(),ch(),rt(),Z1=16,w7=Z1+2,Rh=M.div(x7||(x7=R([`
  position: absolute;
  `,`
  z-index: 1;
`])),Jn(Z1)),E7=M.div(S7||(S7=R([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Jn(12),tt,Rh,Rh,Jn(w7)),G1="#F2C95C",X1="#40AAA4",Q1="#45747C",Y1=e=>e.isSelected===0?G1:e.isSelected===1?X1:Q1,_7=e=>e.isSelected===0?G1:e.isSelected===1?X1:Q1,P7=e=>Mo.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Mo.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:_7(e)}),Mo.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:Y1(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),C7=e=>Mo.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Mo.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":Y1(e),strokeWidth:e.flag===2?"2px":void 0}))});function Gte(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?J1(o,t):I7(o,t)).filter(ek);return n.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}function J1(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?J1(o,t):I7(o,t)).filter(ek);return n.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function I7(e,t){let n=t.find(o=>o.track.id===e.trackId);return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function Xte(e){var t,n,o,i;let{cur:l}=e.utils,s=Oh(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(n=(t=Gte(e.editorProps.viewModel,l.keyframes))==null?void 0:t.children)!=null?n:null:(i=(o=J1(e.editorProps.viewModel,l.keyframes))==null?void 0:o.children)!=null?i:null),u=ki(e.utils.itemKey);u.useRelations(()=>l.keyframes.map(v=>({affects:v.itemKey,flag:2})),[l.keyframes.map(v=>v.track.id).join("-")]);let[d,f]=Ye(null),[m]=Qte(e,f);return zc.default.createElement(zc.default.Fragment,null,zc.default.createElement(E7,he(L(L({ref:d},u.attrs),vn.includePositionSnapAttrs(l.position)),{onClick:v=>e.editorProps.viewModel.type!=="sheet"?s.open(v,d.current):null})),zc.default.createElement(Lte,{flag:u.flag,isAllHere:l.allHere,isSelected:l.selected}),m,s.node)}function Qte(e,t){return mn(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let n=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:i,sheetId:l}=n.type==="sheet"?n.sheet.address:n.sheetObject.address,s=Ph(i,l,o);de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(s)})}else{let i=e.utils.cur.keyframes.flatMap(d=>{var f;return(f=A1(he(L({},d.track.sheetObject.address),{trackId:d.track.id,keyframeIds:[d.kf.id]})))!=null?f:[]}),l=n.type==="sheet"?[]:n.type==="sheetObject"?[n.sheetObject.address.objectKey]:n.type==="propWithChildren"?[n.sheetObject.address.objectKey,...n.pathToProp]:[],s=ah([l,...i.map(d=>d.pathToProp)]),u=i.map(({keyframe:d,pathToProp:f})=>({keyframe:d,pathToProp:f.slice(s.length)}));de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():de().transaction(({stateEditors:i})=>{for(let l of e.utils.cur.keyframes)i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var zc,ek,Yte=P(()=>{zc=$(X()),nt(),wi(),gn(),Zte(),Ne(),fs(),no(),Cr(),zh(),ek=e=>e!==null}),j7,Dc,O7,T7,z7,D7,Jte=P(()=>{j7=je,Dc=$(X()),be(),$te(),$1(),Yte(),T7=M.div(O7||(O7=R([`
  position: absolute;
`]))),z7=Dc.default.memo(e=>{let t=m7(e);return Dc.default.createElement(T7,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,j7.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},Dc.default.createElement(Xte,{editorProps:e,utils:t}),Dc.default.createElement(k7,{editorProps:e,utils:t}))}),D7=z7});function ene(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:o}=e,i=fa("AggregatedKeyframeTrack"),[l,s]=Ye(null),{selectedPositions:u,selection:d}=tne(t,n),[f,m,v]=one(s,e,()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),g=(0,tr.useMemo)(()=>[...n.byPosition.entries()].sort((_,O)=>_[0]-O[0]).map(([_,O])=>({position:_,keyframes:O,selected:u.get(_),allHere:O.length===n.tracks.length})),[n,u]),h=Qe(w1),b=h.mode==="snapToAll",y=h.mode==="snapToSome"?h.positions:Sb,k=(0,tr.useMemo)(()=>o.type==="sheet"?Xee(o,y):h1(o,y),[y]).map(_=>tr.default.createElement(Sc,{key:"snap-target-"+_,layoutP:t,leaf:o,position:_})),x=(0,tr.useMemo)(()=>g.map(({position:_,keyframes:O},j)=>({position:_,editorProps:{index:j,layoutP:t,viewModel:o,aggregateKeyframes:g,selection:u.has(_)?d:void 0}})),[g,o,u]);sne(s,_=>{var O;return(O=x.find(j=>j.position===_))==null?void 0:O.editorProps},{onClickFromDrag(_){}});let S=x.map((_,O)=>tr.default.createElement(tr.Fragment,{key:"agg-"+g[O].keyframes[0].kf.id},b&&tr.default.createElement(Sc,{layoutP:t,leaf:o,position:_.position}),tr.default.createElement(D7,L({},_.editorProps))));return tr.default.createElement(R7,{ref:l,style:{background:v?"#444850 ":"unset"}},S,k,f)}function tne(e,t){return Xe(()=>(0,bn.val)(nne(e,t)),[e,t])}function nne(e,t){return(0,bn.prism)(()=>{let n=(0,bn.val)(e.selectionAtom),o=(0,bn.val)(n.pointer.current);if(!o)return F7;let i=new Map;for(let[l,s]of t.byPosition){let u=rne(s,o);u!==void 0&&u!==Mh&&i.set(l,u)}return{selectedPositions:i,selection:(0,bn.val)(n.pointer.current)}})}function rne(e,t){var n,o,i;let l;for(let{track:s,kf:u}of e){let d=((i=(o=(n=t.byObjectKey[s.sheetObject.address.objectKey])==null?void 0:n.byTrackId[s.id])==null?void 0:o.byKeyframeId)==null?void 0:i[u.id])===!0;l===void 0?d?l=rk:l=Mh:d?l===Mh&&(l=ok):l===rk&&(l=ok)}return l}function one(e,t,n){return mn(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let i=(o=(0,bn.pointerToPrism)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[ane(t,i)]}})}function ane(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,bn.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?ine(e.viewModel,t,n):lne(e.viewModel,t,n)}}}function ine(e,t,n){var o;let{projectId:i,sheetId:l,sheetInstanceId:s}=e.sheet.address;if(t.every(({pathToProp:u})=>u.length===0))for(let u of e.children.map(d=>d.sheetObject)){let d=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[u.address.objectKey]).getValue(),f=Object.keys((o=d==null?void 0:d.trackData)!=null?o:{});tk(u.address,f,t,n)}else{let u=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject).getValue(),d=t.map(({keyframe:f,pathToProp:m})=>{var v,g;let h=m[0],b=m.slice(1),y=to([...b]),k=((g=(v=u==null?void 0:u[h])==null?void 0:v.trackIdByPropPath)!=null?g:{})[y];return k?{keyframe:f,trackId:k,address:{objectKey:h,projectId:i,sheetId:l,sheetInstanceId:s}}:null}).filter(f=>f!==null);A7(d,n)}}function lne(e,t,n){var o;let{projectId:i,sheetId:l,objectKey:s}=e.sheetObject.address,u=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[s]).getValue();if(t.every(({pathToProp:d})=>d.length===0)){let d=Object.keys((o=u==null?void 0:u.trackData)!=null?o:{});if(e.type==="sheetObject")tk(e.sheetObject.address,d,t,n);else{let f=(u==null?void 0:u.trackIdByPropPath)||{},m=Object.entries(f).filter(([v,g])=>g!==void 0&&Uee(ih(v),e.pathToProp)).map(([v,g])=>g);tk(e.sheetObject.address,m,t,n)}}else{let d=(u==null?void 0:u.trackIdByPropPath)||{},f=e.type==="propWithChildren"?e.pathToProp:[],m=t.map(({keyframe:v,pathToProp:g})=>{let h=to([...f,...g]),b=d[h];return b?{keyframe:v,trackId:b,address:e.sheetObject.address}:null}).filter(v=>v!==null);A7(m,n)}}function tk(e,t,n,o){var i;o.position=o.closestGridPosition(o.position);let l=(i=B7(n.map(({keyframe:s})=>s)))==null?void 0:i.position;de().transaction(({stateEditors:s})=>{for(let u of t)for(let{keyframe:d}of n)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e),{trackId:u,position:o.position+d.position-l,handles:d.handles,value:d.value,snappingFunction:o.closestGridPosition,type:d.type}))})}function A7(e,t){var n;t.position=t.closestGridPosition(t.position);let o=(n=B7(e.map(({keyframe:i})=>i)))==null?void 0:n.position;de().transaction(({stateEditors:i})=>{for(let{keyframe:l,trackId:s,address:u}of e)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},u),{trackId:s,position:t.position+l.position-o,handles:l.handles,value:l.value,snappingFunction:t.closestGridPosition,type:l.type}))})}function B7(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}function sne(e,t,n){let o=fa("useDragForAggregateKeyframeDot"),i=vB(),l=(0,tr.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(u){o._debug("onDragStart",{target:u.target});let d=Number(u.target.dataset.pos),f=t(d);if(!f)return o._debug("no props found for ",{positionToFind:d}),!1;i(!0,d);let m=(0,bn.prism)(g7(f)).getValue().cur.keyframes,v=f.viewModel.type==="sheet"?f.viewModel.sheet.address:f.viewModel.sheetObject.address,g=(0,bn.val)(de().atomP.historic.coreByProject[v.projectId].sheetsById[v.sheetId].sequence.tracksByObject),h=_B(g,function(x,{trackId:S,objectKey:_}){var O,j;return m.every(z=>x.id!==z.kf.id)&&!(f.selection&&(j=(O=f.selection.byObjectKey[_])==null?void 0:O.byTrackId[S])!=null&&j.byKeyframeId[x.id])});if(EB(h),f.selection&&f.aggregateKeyframes[f.index].selected===0){let{selection:x,viewModel:S}=f,_=x.getDragHandlers(he(L({},v),{domNode:e,positionAtStartOfDrag:m[0].kf.position})).onDragStart(u);return _&&he(L({},_),{onClick:n.onClickFromDrag,onDragEnd:(...O)=>{var j;(j=_.onDragEnd)==null||j.call(_,...O),Ci()}})}let b=f,y=(0,bn.val)(b.layoutP.scaledSpace.toUnitSpace),k;return{onDrag(x,S,_){var O;let j=Math.max((O=vn.checkIfMouseEventSnapToPos(_,{}))!=null?O:m[0].kf.position+y(x),0);i(!0,j),k==null||k.discard(),k=void 0,k=de().tempTransaction(({stateEditors:z})=>{for(let V of m){let W=V.kf;z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},V.track.sheetObject.address),{trackId:V.track.id,keyframes:[he(L({},W),{position:j})],snappingFunction:(0,bn.val)(b.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(x){i(!1,-1),x?k==null||k.commit():(k==null||k.discard(),n.onClickFromDrag(u)),Ci()},onClick(x){n.onClickFromDrag(x)}}}}),[t,n.onClickFromDrag]),[s]=xt(e,l);return Xn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var bn,tr,N7,R7,F7,M7,Fh,nk,rk,ok,Mh,ak=P(()=>{Fe(),bn=je,tr=$(X()),be(),gn(),nt(),Jte(),ls(),pa(),$1(),Cr(),Dt(),Xt(),Fn(),Ne(),no(),Ii(),C8(),Ii(),ls(),R7=M.div(N7||(N7=R([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),F7=Object.freeze({selectedPositions:new Map,selection:void 0}),M7=tr.default.memo(ene),Fh=M7,nk=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(nk||{}),{AllSelected:rk,AtLeastOneUnselected:ok,NoneSelected:Mh}=nk}),hs,ik,U7,une=P(()=>{Fe(),hs=$(X()),Vte(),hh(),ak(),ls(),pa(),ik=(e,t)=>e.type==="propWithChildren"?hs.default.createElement(U7,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):hs.default.createElement(h7,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),U7=({viewModel:e,layoutP:t})=>{let n=fa("RightPropWithChildrenRow",e.pathToProp.join());return Xe(()=>{let o=sh(e);return hs.default.createElement(A4,{logger:n},hs.default.createElement(us,{leaf:e,node:hs.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(i=>ik(i,t))))},[e,t])}}),lk,V7,H7,cne=P(()=>{Fe(),lk=$(X()),une(),hh(),ls(),ak(),V7=({leaf:e,layoutP:t})=>Xe(()=>{let n=sh(e);return lk.default.createElement(us,{leaf:e,node:lk.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>ik(o,t)))},[e,t]),H7=V7}),Uh,K7,W7,dne=P(()=>{Fe(),Uh=$(X()),cne(),hh(),ls(),ak(),K7=({leaf:e,layoutP:t})=>Xe(()=>{let n=sh(e);return Uh.default.createElement(us,{leaf:e,node:Uh.default.createElement(Fh,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Uh.default.createElement(H7,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),W7=K7}),Ac,Ai,Vh,q7,$7,L7,Z7,G7=P(()=>{Fe(),Ac=je,Ai=$(X()),be(),Jee(),NB(),dne(),Vh=1e6,$7=M.ul(q7||(q7=R([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),Vh),L7=({layoutP:e})=>Xe(()=>{let t=(0,Ac.val)(e.tree),n=(0,Ac.val)(e.tree.top)+Math.max((0,Ac.val)(e.tree.heightIncludingChildren),(0,Ac.val)(e.dopeSheetDims.height));return Ai.default.createElement(Ai.default.Fragment,null,Ai.default.createElement(S1,{layoutP:e,height:n},Ai.default.createElement(oB,{layoutP:e,height:n},Ai.default.createElement($7,{style:{top:t.top+"px"}},Ai.default.createElement(W7,{leaf:t,layoutP:e})))))},[e]),Z7=L7});function sk(e,t,n,o){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),l="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");n===0&&(n=1e-4);let s="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");o===0&&(o=.001);let u="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(i,", ").concat(l,") scale(").concat(s,", ").concat(u,")")}function fne(e,t){let{index:n,trackData:o}=t,i=o.keyframes[n],l=o.keyframes[n+1];return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:s})=>{let{deleteKeyframes:u}=s.coreByProject.historic.sheetsById.sequence;u(he(L({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,l.id]}))})}}]})}var Hh,X7,Q7,Y7,J7,eN,uk=P(()=>{ma(),Ne(),gn(),nt(),Hh=$(X()),be(),Q7=M.path(X7||(X7=R([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),Y7="M 0 0 L 1 0 L 1 1",J7=e=>{let{index:t,trackData:n}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=i.position-o.position,[s,u]=Ye(null),[d]=fne(u,e),f=e.isScalar?Sp(o.value,e.propConfig):0,m=e.isScalar?Sp(i.value,e.propConfig):1,v=e.extremumSpace.fromValueSpace(f),g=e.extremumSpace.fromValueSpace(m)-v,h=sk(o.position,v,l,g),b=o.handles[2],y=o.handles[3],k=i.handles[0],x=i.handles[1],S="M 0 0 C ".concat(b," ").concat(y," ").concat(k," ").concat(x," 1 1");return Hh.default.createElement(Hh.default.Fragment,null,Hh.default.createElement(Q7,{ref:s,d:!o.type||o.type==="bezier"?S:Y7,style:{transform:h}}),d)},eN=J7});function pne(e,t){let n=(0,Bi.useRef)(t);n.current=t;let o=(0,Bi.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let i,l=n.current,s=(0,Bc.val)(l.layoutP.scaledSpace.toUnitSpace),u=(0,Bc.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),d=l.extremumSpace.lock();return{onDrag(f,m){i&&(i.discard(),i=void 0);let{index:v,trackData:g}=l,h=g.keyframes[v],b=g.keyframes[v+1],y=s(f)/(b.position-h.position),k=-m,x=u(k),S=l.extremumSpace.deltaToValueSpace(x),_=t.isScalar?h.value:0,O=t.isScalar?b.value:1,j=S/(O-_);if(l.which==="left"){let z=kt(h.handles[2]+y,0,1),V=h.handles[3]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{snappingFunction:(0,Bc.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[he(L({},h),{handles:[h.handles[0],h.handles[1],z,V]})]}))})}else{let z=kt(b.handles[0]+y,0,1),V=b.handles[1]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,Bc.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[he(L({},b),{handles:[z,V,b.handles[2],b.handles[3]]})]}))})}},onDragEnd(f){d(),f?i&&i.commit():i&&i.discard()}}}}),[]);xt(e,o)}function hne(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var Bc,Bi,tN,ck,nN,rN,oN,aN,iN,dk,mne=P(()=>{Ne(),gn(),Dt(),nt(),Bc=je,Rt(),Bi=$(X()),be(),uk(),rt(),ck=M.circle(tN||(tN=R([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),rN=M.circle(nN||(nN=R([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),tt,ck),aN=M.path(oN||(oN=R([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),iN=e=>{let[t,n]=Ye(null),{index:o,trackData:i}=e,l=i.keyframes[o],s=i.keyframes[o+1],[u]=hne(n,e);pne(n,e);let d=e.which==="left"?l.handles[2]:s.handles[0],f=l.position+(s.position-l.position)*d,m=e.which==="left"?l.handles[3]:s.handles[1],v=e.isScalar?l.value:0,g=e.isScalar?s.value:1,h=v+(g-v)*m,b=e.extremumSpace.fromValueSpace(h),y=b-e.extremumSpace.fromValueSpace(e.which==="left"?v:g),k=sk(e.which==="left"?l.position:s.position,e.extremumSpace.fromValueSpace(e.which==="left"?v:g),f-(e.which==="left"?l.position:s.position),y);return Bi.default.createElement("g",null,Bi.default.createElement(rN,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Bi.default.createElement(ck,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Bi.default.createElement(aN,{d:"M 0 0 L 1 1",style:{transform:k}}),u)},dk=iN});function gne(e){let[t,n]=(0,Ca.useState)(!1);Ro(t,e.props.keyframe.position);let o=(0,Ca.useRef)(e.props);o.current=e.props;let i=(0,Ca.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){n(!0);let s=!!l.altKey,u=o.current,d=(0,Kh.val)(u.layoutP.scaledSpace.toUnitSpace),f=(0,Kh.val)(u.layoutP.graphEditorVerticalSpace.toExtremumSpace),m=u.extremumSpace.lock(),v;return{onDrag(g,h){let b=u.trackData.keyframes[u.index],y=d(g),k=-h,x=f(k),S=u.extremumSpace.deltaToValueSpace(x),_=[],O=he(L({},b),{position:b.position+y,value:b.value+S,handles:[...b.handles]});if(_.push(O),s){let j=u.trackData.keyframes[u.index-1];if(j&&Math.abs(b.value-j.value)>0){let V=he(L({},j),{handles:[...j.handles]});_.push(V),V.handles[3]=yne(j.handles[3],j.value,j.value,b.value,O.value)}let z=u.trackData.keyframes[u.index+1];if(z&&Math.abs(b.value-z.value)>0){let V=he(L({},z),{handles:[...z.handles]});_.push(V),V.handles[1]=bne(V.handles[1],V.value,V.value,b.value,O.value)}}v==null||v.discard(),v=de().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},u.sheetObject.address),{trackId:u.trackId,keyframes:_,snappingFunction:(0,Kh.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(g){n(!1),m(),g?v==null||v.commit():(v==null||v.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Xn(t,"draggingPositionInSequenceEditor","move"),t}function vne(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function yne(e,t,n,o,i){return(o-t)*e/(i-n)}function bne(e,t,n,o,i){return((t-o)*e+o-t+n-i)/(n-i)}var Kh,Ca,lN,fk,sN,uN,cN,dN,kne=P(()=>{Ne(),gn(),Dt(),nt(),Kh=je,Ca=$(X()),be(),Xt(),Xt(),rt(),Fn(),Cr(),zh(),wi(),fk=M.circle(lN||(lN=R([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),uN=M.circle(sN||(sN=R([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,fk,Io),cN=e=>{let[t,n]=Ye(null),{index:o,trackData:i}=e,l=i.keyframes[o],[s]=vne(n,e),u=ki(e.itemKey),d=l.value,f=e.extremumSpace.fromValueSpace(d),m=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=gne({node:n,props:e,onDetectedClick:g=>m.toggle(g,g.target instanceof Element?g.target:n)});return Ca.default.createElement(Ca.default.Fragment,null,Ca.default.createElement(uN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},ro(l.position)),vn.includePositionSnapAttrs(l.position)),u.attrs),{className:v?"beingDragged":""})),Ca.default.createElement(fk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:u.flag===2?"white":void 0}}),m.node,s)},dN=cN});function wne(e){let[t,n]=(0,Ia.useState)(!1);Ro(t,e.props.keyframe.position);let o=(0,Ia.useRef)(e.props);o.current=e.props;let i=(0,Ia.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){n(!0);let s=o.current,u=(0,pk.val)(s.layoutP.scaledSpace.toUnitSpace),d=s.extremumSpace.lock(),f;return{onDrag(m,v){let g=s.trackData.keyframes[s.index],h=u(m),b=[],y=he(L({},g),{position:g.position+h,value:g.value,handles:[...g.handles]});b.push(y),f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},s.sheetObject.address),{trackId:s.trackId,keyframes:b,snappingFunction:(0,pk.val)(s.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(m){n(!1),d(),m?f==null||f.commit():(f==null||f.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Xn(t,"draggingPositionInSequenceEditor","ew-resize"),t}function xne(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var pk,Ia,fN,hk,pN,hN,mN,mk,Sne=P(()=>{Ne(),gn(),Dt(),nt(),pk=je,Ia=$(X()),be(),Xt(),Xt(),rt(),Fn(),Cr(),zh(),wi(),hk=M.circle(fN||(fN=R([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),hN=M.circle(pN||(pN=R([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,hk,Io),mN=e=>{let[t,n]=Ye(null),{index:o,trackData:i,itemKey:l}=e,s=i.keyframes[o],[u]=xne(n,e),d=ki(l),f=e.which==="left"?0:1,m=Oh([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=wne({node:n,props:e,onDetectedClick:h=>m.toggle(h,h.target instanceof Element?h.target:n)}),g=e.extremumSpace.fromValueSpace(f);return Ia.default.createElement(Ia.default.Fragment,null,Ia.default.createElement(hN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}},d.attrs),ro(s.position)),vn.includePositionSnapAttrs(s.position)),{className:v?"beingDragged":""})),Ia.default.createElement(hk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)"),fill:d.flag===2?"white":void 0}}),m.node,u)},mk=mN}),Wh,gN,vN,yN,bN,Ene=P(()=>{Wh=$(X()),be(),uk(),vN=M.path(gN||(gN=R([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),yN=e=>{let{index:t,trackData:n}=e,o="M 0 0 L 1 1",i=sk(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return Wh.default.createElement(Wh.default.Fragment,null,Wh.default.createElement(vN,{d:o,style:{transform:i}}))},bN=yN}),Yt,kN,wN,xN,SN,EN,_ne=P(()=>{Yt=$(X()),be(),uk(),mne(),kne(),Sne(),Ene(),wN=M.g(kN||(kN=R([`
  /* position: absolute; */
`]))),xN=Yt.default.createElement(Yt.default.Fragment,null),SN=e=>{let{index:t,trackData:n,isScalar:o}=e,i=n.keyframes[t],l=n.keyframes[t+1],s=i.connectedRight&&!!l&&l.value!==i.value;return Yt.default.createElement(wN,null,s?Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(eN,L({},e)),!i.type||i.type==="bezier"&&Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(dk,he(L({},e),{which:"left"})),Yt.default.createElement(dk,he(L({},e),{which:"right"})))):xN,o?Yt.default.createElement(dN,L({},e)):Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(mk,he(L({},e),{which:"left"})),Yt.default.createElement(mk,he(L({},e),{which:"right"})),Yt.default.createElement(bN,L({},e))))},EN=SN});function Pne(e,t){let n=1/0,o=-1/0;function i(l){n=Math.min(l,n),o=Math.max(l,o)}return e.forEach((l,s)=>{let u=Sp(l.value,t);if(i(u),!l.connectedRight)return;let d=e[s+1];if(!d)return;let f=(typeof d.value=="number"?d.value:1)-u;i(u+l.handles[3]*f),i(u+d.handles[1]*f)}),[n,o]}function Cne(e){let t=0,n=1;function o(i){t=Math.min(i,t),n=Math.max(i,n)}return e.forEach((i,l)=>{if(!i.connectedRight)return;let s=e[l+1];s&&(o(i.handles[3]),o(s.handles[1]))}),[t,n]}var ao,_N,PN,Ine=P(()=>{Do(),ao=$(X()),$h(),_ne(),ma(),Fe(),_N=ao.default.memo(({layoutP:e,trackData:t,sheetObject:n,trackId:o,color:i,pathToProp:l})=>{let s=xp(Qe(n.template.configPointer),l);if(Jr(s))return console.error("Composite prop types cannot be keyframed"),ao.default.createElement(ao.default.Fragment,null);let[u,d]=(0,ao.useState)(!1),f=(0,ao.useMemo)(()=>{let h=new Set;return function(){let b=h.size===0;h.add(y),b&&d(!0);function y(){let k=h.size>0;h.delete(y),k&&h.size===0&&d(!1)}return y}},[]),m=(0,ao.useMemo)(()=>{let h=s.type==="number"?Pne(t.keyframes,s):Cne(t.keyframes),b=x=>(x-h[0])/(h[1]-h[0]),y=x=>h[0]+k(x),k=x=>x*(h[1]-h[0]);return{fromValueSpace:b,toValueSpace:y,deltaToValueSpace:k,lock:f}},[t.keyframes]),v=(0,ao.useRef)(void 0);u||(v.current=m);let g=t.keyframes.map((h,b)=>ao.default.createElement(EN,{pathToProp:l,propConfig:s,itemKey:Ft.forTrackKeyframe(n,o,h.id),keyframe:h,index:b,trackData:t,layoutP:e,sheetObject:n,trackId:o,isScalar:s.type==="number",key:h.id,extremumSpace:v.current,color:i}));return ao.default.createElement("g",{style:{"--main-color":Nc[i].iconColor}},g)}),PN=_N}),CN,qh,IN,jN,jne=P(()=>{Ne(),Fe(),CN=je,qh=$(X()),Ine(),IN=e=>Xe(()=>{let{sheetObject:t,trackId:n}=e,o=(0,CN.val)(de().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),qh.default.createElement(qh.default.Fragment,null)):qh.default.createElement(PN,he(L({},e),{trackData:o}))},[e.trackId,e.layoutP]),jN=IN});function ON({clippedSpaceRange:e,clippedSpaceWidth:t,fps:n,gapWidth:o=120},i){let l=1/n,s=e.end-e.start,u=t/(n*s),d=Math.floor(o/u),f=(d<n?TN(n).find(g=>g>=d):n*Math.floor(d/n))*l,m=Math.floor(e.start/f),v=Math.ceil(e.end/f);for(let g=m;g<=v;g++){let h=g*f,b=h%1===0;i(h,b)}}var TN,zN=P(()=>{Rt(),TN=O0(e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t})});function One(e){let{clippedSpaceWidth:t,height:n,ctx:o,unitSpaceToClippedSpace:i,snapToGrid:l}=e;o.clearRect(0,0,t,n),ON(e,(s,u)=>{let d=l(s),f=Math.floor(i(d));o.strokeStyle=u?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(f,0),o.lineTo(f,n),o.stroke(),o.closePath()})}var Ni,Ri,DN,AN,BN,NN,RN,FN,MN,UN,gk,VN=P(()=>{Ni=je,Ri=$(X()),be(),zN(),Ne(),AN=M.div(DN||(DN=R([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),NN=M.canvas(BN||(BN=R([`
  position: relative;
  left: 0;
`]))),RN=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},FN=()=>window.devicePixelRatio||1,MN=e=>FN()/RN(e),UN=({layoutP:e,width:t,height:n})=>{let o=(0,Ri.useRef)(null),[i,l]=(0,Ri.useState)(null),{ctx:s,ratio:u}=(0,Ri.useMemo)(()=>{if(!i)return{};let d=i.getContext("2d"),f=MN(d);return{ctx:d,ratio:f}},[i]);return(0,Ri.useLayoutEffect)(()=>{if(!s)return;i.width=t*u,i.height=n*u;let d=(0,Ni.prism)(()=>{let f=(0,Ni.val)(e.sheet).getSequence();return{ctx:s,clippedSpaceRange:(0,Ni.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Ni.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Ni.val)(e.clippedSpace.fromUnitSpace),height:n,leftPadding:(0,Ni.val)(e.scaledSpace.leftPadding),fps:f.subUnitsPerUnit,snapToGrid:m=>f.closestGridPosition(m)}}).onChange(de().ticker,f=>{s.save(),s.scale(u,u),One(f),s.restore()},!0);return()=>{d()}},[s,t,n,e]),Ri.default.createElement(AN,{ref:o,style:{width:t+"px"}},Ri.default.createElement(NN,{ref:l,style:{width:t+"px",height:n+"px"}}))},gk=UN}),io,Fi,Nc,HN,KN,WN,qN,$N,LN,$h=P(()=>{Ne(),no(),Cp(),Fe(),io=je,Fi=$(X()),be(),G7(),NB(),jne(),VN(),Rn(),Nc={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},KN=M.div(HN||(HN=R([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),br(.03,"#1a1c1e")),qN=M.svg(WN||(WN=R([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),$N=({layoutP:e})=>Xe(()=>{let t=(0,io.val)(e.sheet),n=(0,io.val)(de().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,io.val)(e.graphEditorDims.height),i=(0,io.val)(e.scaledSpace.fromUnitSpace)(1),l=[];if(n)for(let[u,d]of Object.entries(n)){let f=t.getObject(u);if(!f)continue;let m=(0,io.val)(f.template.getMapOfValidSequenceTracks_forStudio());for(let[v,g]of Object.entries(d)){let h=ih(v),b=va(m,h);b&&l.push(Fi.default.createElement(jN,{key:"graph-".concat(u,"-").concat(v),sheetObject:f,pathToProp:h,layoutP:e,trackId:b,color:g}))}}let s=(0,io.val)(e.rightDims.width);return Fi.default.createElement(KN,{style:{width:s+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,io.val)(e.graphEditorVerticalSpace.space))}},Fi.default.createElement(gk,{layoutP:e,width:s,height:o}),Fi.default.createElement(S1,{layoutP:e,height:o},Fi.default.createElement(qN,{width:Vh,height:o,viewBox:"0 0 ".concat(Vh," ").concat(o)},Fi.default.createElement("g",{style:{transform:"translate(".concat((0,io.val)(e.scaledSpace.leftPadding),"px, ").concat((0,io.val)(e.graphEditorDims.padding.top),"px)")}},l))))},[e]),LN=$N}),ZN,nr,GN,XN,QN,YN,vk,JN,eR,tR,nR,rR,oR,aR,Tne=P(()=>{Ne(),no(),Ip(),Fe(),ZN=je,nr=$(X()),be(),Cb(),Dp(),$h(),oh(),bi(),BA(),GN={label:{color:"#9a9a9a"}},QN=M(l1)(XN||(XN=R([""]))),vk=M(s1)(YN||(YN=R([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),GN.label.color),eR=M.button(JN||(JN=R([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?Nc[e.graphEditorColor].iconColor:ya.offColor),tR=()=>nr.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},nr.default.createElement("g",{transform:"translate(0 100)"},nr.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),rR=M.span(nR||(nR=R([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),ga,vk),oR=({leaf:e})=>{var t;let n=Yu(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:i}=Pb(n,o,e.propConf),l=Xe(()=>{let g=e.sheetObject.address,h=to(e.pathToProp);return(0,ZN.val)(de().atomP.historic.projects.stateByProjectId[g.projectId].stateBySheetId[g.sheetId].sequenceEditor.selectedPropsByObject[g.objectKey][h])},[e]),s=(0,nr.useRef)(!1),u=typeof l=="string";s.current=u;let d=(0,nr.useCallback)(()=>{let g=e.sheetObject.address;de().transaction(({stateEditors:h})=>{s.current?h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(he(L({},g),{pathToProp:e.pathToProp})):(h.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(he(L({},g),{pathToProp:e.pathToProp})),h.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),f=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],m=!0,v=(0,nr.useRef)(null);return DA(v.current,e),nr.default.createElement(QN,{depth:e.depth},nr.default.createElement(vk,{ref:v,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:u===!0},nr.default.createElement(rR,null,f),i,nr.default.createElement(eR,{onClick:d,isSelected:u===!0,graphEditorColor:l??"1",style:{opacity:1},disabled:!m},nr.default.createElement(tR,null))))},aR=oR});function yk(e,t){de().transaction(({stateEditors:n})=>{n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(he(L({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var bk=P(()=>{Ne()}),ms,kk,iR,zne=P(()=>{ms=$(X()),oh(),Tne(),bk(),kk=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?ms.default.createElement(iR,{leaf:e,key:t}):ms.default.createElement(aR,{leaf:e,key:t}):ms.default.createElement(ms.default.Fragment,{key:t})},iR=({leaf:e})=>ms.default.createElement(rh,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>yk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>kk(t)))}),lR,sR,uR,Dne=P(()=>{lR=$(X()),oh(),zne(),bk(),Ne(),sR=({leaf:e})=>lR.default.createElement(rh,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{de().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>yk(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>kk(t))),uR=sR}),wk,cR,dR,Ane=P(()=>{Fe(),wk=$(X()),Dne(),oh(),bk(),wT(),cR=({leaf:e})=>Xe(()=>wk.default.createElement(rh,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{yk(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>wk.default.createElement(uR,{key:"sheetObject-"+bT(t.sheetObject),leaf:t}))),[e]),dR=cR}),xk,Lh,fR,pR,hR,mR,gR,vR,Bne=P(()=>{Fe(),xk=je,Lh=$(X()),be(),Ane(),pR=M.div(fR||(fR=R([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),mR=M.ul(hR||(hR=R([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),gR=({layoutP:e})=>Xe(()=>{let t=(0,xk.val)(e.tree),n=(0,xk.val)(e.leftDims.width);return Lh.default.createElement(pR,{style:{width:n+"px",top:t.top+"px"}},Lh.default.createElement(mR,null,Lh.default.createElement(dR,{leaf:t})))},[e]),vR=gR}),Sk,yR,bR,kR,wR,Nne=P(()=>{rt(),Ko(),Fe(),Rn(),Sk=$(X()),be(),VN(),bR=M.div(yR||(yR=R([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>po.rightBackground,br(.01,Pu(1*.03,Fl.panel.bg))),kR=({layoutP:e})=>{let t=Qe(e.rightDims.width),n=Qe(e.panelDims.height);return Sk.default.createElement(bR,{style:{width:t+"px"}},Sk.default.createElement(gk,{width:t,height:n,layoutP:e}))},wR=kR}),gs,xR,SR,ER,_R,Rne=P(()=>{Fe(),gs=$(X()),be(),Bne(),Nne(),G7(),cB(),SR=M.div(xR||(xR=R([`
  position: absolute;
  left: 0;
  right: 0;
`]))),ER=({layoutP:e})=>{let t=Qe(e.dopeSheetDims.height);return gs.default.createElement(SR,{style:{height:t+"px"}},gs.default.createElement(wR,{layoutP:e}),gs.default.createElement(uB,null,gs.default.createElement(vR,{layoutP:e}),gs.default.createElement(Z7,{layoutP:e})))},_R=ER});function Fne(e,t,n){return Ek.prism.memo(e,()=>(0,Ek.prism)(t),n).getValue()}var Ek,Mne=P(()=>{Ek=je});function pt(e){return function(t,n){return e(t,n())}}function Un(e){return Object.freeze({audience:Mi(e,8)?"internal":Mi(e,16)?"dev":"public",category:Mi(e,4)?"troubleshooting":Mi(e,2)?"todo":"general",level:Mi(e,512)?512:Mi(e,256)?256:Mi(e,128)?128:64})}function Mi(e,t){return(e&t)===t}function ht(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function PR(e=console,t={}){let n=he(L({},lo),{includes:L({},lo.includes)}),o={styled:Hne.bind(n,e),noStyle:Wne.bind(n,e)},i=Vne.bind(n);function l(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?o.styled:o.noStyle}return n.create=l(),{configureLogger(s){var u;s==="console"?(n.loggerConsoleStyle=lo.loggerConsoleStyle,n.create=l()):s.type==="console"?(n.loggerConsoleStyle=(u=s.style)!=null?u:lo.loggerConsoleStyle,n.create=l()):s.type==="keyed"?(n.creatExt=d=>s.keyed(d.names),n.create=i):s.type==="named"&&(n.creatExt=Une.bind(null,s.named),n.create=i)},configureLogging(s){var u,d,f,m,v;n.includes.dev=(u=s.dev)!=null?u:lo.includes.dev,n.includes.internal=(d=s.internal)!=null?d:lo.includes.internal,n.includes.min=(f=s.min)!=null?f:lo.includes.min,n.include=(m=s.include)!=null?m:lo.include,n.loggingConsoleStyle=(v=s.consoleStyle)!=null?v:lo.loggingConsoleStyle,n.create=l()},getLogger(){return n.create({names:[]})}}}function Une(e,t){let n=[];for(let{name:o,key:i}of t.names)n.push(i==null?o:"".concat(o," (").concat(i,")"));return e(n)}function Vne(e){let t=L(L({},this.includes),this.include(e)),n=this.filtered,o=this.named.bind(this,e),i=this.creatExt(e),l=ht(t,524),s=ht(t,522),u=ht(t,521),d=ht(t,529),f=ht(t,545),m=ht(t,265),v=ht(t,268),g=ht(t,273),h=ht(t,289),b=ht(t,137),y=ht(t,145),k=ht(t,73),x=ht(t,81),S=l?i.error.bind(i,Pn._hmm):n.bind(e,524),_=s?i.error.bind(i,Pn._todo):n.bind(e,522),O=u?i.error.bind(i,Pn._error):n.bind(e,521),j=d?i.error.bind(i,Pn.errorDev):n.bind(e,529),z=f?i.error.bind(i,Pn.errorPublic):n.bind(e,545),V=v?i.warn.bind(i,Pn._kapow):n.bind(e,268),W=m?i.warn.bind(i,Pn._warn):n.bind(e,265),B=g?i.warn.bind(i,Pn.warnDev):n.bind(e,273),Z=h?i.warn.bind(i,Pn.warnPublic):n.bind(e,273),re=b?i.debug.bind(i,Pn._debug):n.bind(e,137),D=y?i.debug.bind(i,Pn.debugDev):n.bind(e,145),G=k?i.trace.bind(i,Pn._trace):n.bind(e,73),C=x?i.trace.bind(i,Pn.traceDev):n.bind(e,81),Y={_hmm:S,_todo:_,_error:O,errorDev:j,errorPublic:z,_kapow:V,_warn:W,warnDev:B,warnPublic:Z,_debug:re,debugDev:D,_trace:G,traceDev:C,lazy:{_hmm:l?pt(S):S,_todo:s?pt(_):_,_error:u?pt(O):O,errorDev:d?pt(j):j,errorPublic:f?pt(z):z,_kapow:v?pt(V):V,_warn:m?pt(W):W,warnDev:g?pt(B):B,warnPublic:h?pt(Z):Z,_debug:b?pt(re):re,debugDev:y?pt(D):D,_trace:k?pt(G):G,traceDev:x?pt(C):C},named:o,utilFor:{internal(){return{debug:Y._debug,error:Y._error,warn:Y._warn,trace:Y._trace,named(xe,q){return Y.named(xe,q).utilFor.internal()}}},dev(){return{debug:Y.debugDev,error:Y.errorDev,warn:Y.warnDev,trace:Y.traceDev,named(xe,q){return Y.named(xe,q).utilFor.dev()}}},public(){return{error:Y.errorPublic,warn:Y.warnPublic,debug(xe,q){Y._warn('(public "debug" filtered out) '.concat(xe),q)},trace(xe,q){Y._warn('(public "trace" filtered out) '.concat(xe),q)},named(xe,q){return Y.named(xe,q).utilFor.public()}}}}};return Y}function Hne(e,t){let n=L(L({},this.includes),this.include(t)),o=[],i="";for(let d=0;d<t.names.length;d++){let{name:f,key:m}=t.names[d];if(i+=" %c".concat(f),o.push(this.style.css(f)),m!=null){let v="%c#".concat(m);i+=v,o.push(this.style.css(v))}}let l=this.filtered,s=this.named.bind(this,t),u=[i,...o];return CR(l,t,n,e,u,Kne(u),s)}function Kne(e){let t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}function Wne(e,t){let n=L(L({},this.includes),this.include(t)),o="";for(let u=0;u<t.names.length;u++){let{name:d,key:f}=t.names[u];o+=" ".concat(d),f!=null&&(o+="#".concat(f))}let i=this.filtered,l=this.named.bind(this,t),s=[o];return CR(i,t,n,e,s,s,l)}function CR(e,t,n,o,i,l,s){let u=ht(n,524),d=ht(n,522),f=ht(n,521),m=ht(n,529),v=ht(n,545),g=ht(n,265),h=ht(n,268),b=ht(n,273),y=ht(n,289),k=ht(n,137),x=ht(n,145),S=ht(n,73),_=ht(n,81),O=u?o.error.bind(o,...i):e.bind(t,524),j=d?o.error.bind(o,...i):e.bind(t,522),z=f?o.error.bind(o,...i):e.bind(t,521),V=m?o.error.bind(o,...i):e.bind(t,529),W=v?o.error.bind(o,...i):e.bind(t,545),B=h?o.warn.bind(o,...l):e.bind(t,268),Z=g?o.warn.bind(o,...i):e.bind(t,265),re=b?o.warn.bind(o,...i):e.bind(t,273),D=y?o.warn.bind(o,...i):e.bind(t,273),G=k?o.info.bind(o,...i):e.bind(t,137),C=x?o.info.bind(o,...i):e.bind(t,145),Y=S?o.debug.bind(o,...i):e.bind(t,73),xe=_?o.debug.bind(o,...i):e.bind(t,81),q={_hmm:O,_todo:j,_error:z,errorDev:V,errorPublic:W,_kapow:B,_warn:Z,warnDev:re,warnPublic:D,_debug:G,debugDev:C,_trace:Y,traceDev:xe,lazy:{_hmm:u?pt(O):O,_todo:d?pt(j):j,_error:f?pt(z):z,errorDev:m?pt(V):V,errorPublic:v?pt(W):W,_kapow:h?pt(B):B,_warn:g?pt(Z):Z,warnDev:b?pt(re):re,warnPublic:y?pt(D):D,_debug:k?pt(G):G,debugDev:x?pt(C):C,_trace:S?pt(Y):Y,traceDev:_?pt(xe):xe},named:s,utilFor:{internal(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named(K,ee){return q.named(K,ee).utilFor.internal()}}},dev(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named(K,ee){return q.named(K,ee).utilFor.dev()}}},public(){return{error:q.errorPublic,warn:q.warnPublic,debug(K,ee){q._warn('(public "debug" filtered out) '.concat(K),ee)},trace(K,ee){q._warn('(public "trace" filtered out) '.concat(K),ee)},named(K,ee){return q.named(K,ee).utilFor.public()}}}}};return q}var Pn,lo,IR=P(()=>{Pn={_hmm:Un(524),_todo:Un(522),_error:Un(521),errorDev:Un(529),errorPublic:Un(545),_kapow:Un(268),_warn:Un(265),warnDev:Un(273),warnPublic:Un(289),_debug:Un(137),debugDev:Un(145),_trace:Un(73),traceDev:Un(81)},lo={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,o,i;let l=this.cssMemo.get(e);if(l)return l;let s="color:".concat((n=(t=this.color)==null?void 0:t.call(this,e))!=null?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(s+=";font-weight:600"),(i=this.italic)!=null&&i.test(e)&&(s+=";font-style:italic"),this.cssMemo.set(e,s),s}}}}),_k,Zh,Gh=P(()=>{IR(),IR(),_k=PR(console,{_debug:function(){},_error:function(){}}),_k.configureLogging({dev:!0,min:64}),Zh=_k.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),ja,Ui,jR,qne=P(()=>{Do(),ja=je,Gh(),Po(),Ui=28,jR=(e,t)=>{var n;ja.prism.ensurePrism();let o=!0,i=Zf+Ui,l=0,s=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,u=s.byId[Ft.forSheet()].isCollapsed,d=(n=(0,ja.pointerToPrism)(u).getValue())!=null?n:!1,f={type:"sheet",isCollapsed:d,sheet:e,children:[],sheetItemKey:Ft.forSheet(),shouldRender:o,top:Zf,depth:0,n:l,nodeHeight:o?Ui:0,heightIncludingChildren:-1};l+=1;for(let y of Object.values((0,ja.val)(e.objectsP)))y&&m(y,f.children,f.depth+1,!d);f.heightIncludingChildren=i-f.top;function m(y,k,x,S){var _;let O=(0,ja.val)(y.template.getMapOfValidSequenceTracks_forStudio()),j=(0,ja.val)(y.template.configPointer);if(Object.keys(O).length===0)return;let z=s.byId[Ft.forSheetObject(y)].isCollapsed,V=(_=(0,ja.pointerToPrism)(z).getValue())!=null?_:!1,W={type:"sheetObject",isCollapsed:V,sheetItemKey:Ft.forSheetObject(y),shouldRender:S,top:i,children:[],depth:x,n:l,sheetObject:y,nodeHeight:S?Ui:0,heightIncludingChildren:-1};k.push(W),S&&(l+=1,i+=W.nodeHeight),v(y,O,[],j,W.children,x+1,S&&!V),W.heightIncludingChildren=i-W.top}function v(y,k,x,S,_,O,j){for(let[z,V]of Object.entries(k)){let W=S.props[z];g(y,V,[...x,z],W,_,O,j)}}function g(y,k,x,S,_,O,j){S.type==="compound"?h(y,k,S,x,S,_,O,j):S.type==="enum"?Zh.warn("Prop type enum is not yet supported in the sequence editor"):b(y,k,x,S,_,O,j)}function h(y,k,x,S,_,O,j,z){var V;let W=s.byId[Ft.forSheetObjectProp(y,S)].isCollapsed,B=(V=(0,ja.pointerToPrism)(W).getValue())!=null?V:!1,Z={type:"propWithChildren",isCollapsed:B,propConf:x,pathToProp:S,sheetItemKey:Ft.forSheetObjectProp(y,S),sheetObject:y,shouldRender:z,top:i,children:[],nodeHeight:z?Ui:0,heightIncludingChildren:-1,depth:j,trackMapping:k,n:l};O.push(Z),z&&(i+=Z.nodeHeight,l+=1),v(y,k,S,_,Z.children,j+1,z&&!B),Z.heightIncludingChildren=i-Z.top}function b(y,k,x,S,_,O,j){let z={type:"primitiveProp",propConf:S,depth:O,sheetItemKey:Ft.forSheetObjectProp(y,x),sheetObject:y,pathToProp:x,shouldRender:j,top:i,nodeHeight:j?Ui:0,heightIncludingChildren:j?Ui:0,trackId:k,n:l};_.push(z),l+=1,i+=z.nodeHeight}return f}});function $ne(e,t){let n=de(),o=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,Cn.prism)(()=>{var l;let s=Fne("tree",()=>jR(e,n),[]),u=(0,Cn.val)(t),d=(0,Cn.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),f=(0,Cn.val)(i.sequenceEditor.selectedPropsByObject),m=!!f&&Object.keys(f).length>0,{leftDims:v,rightDims:g,graphEditorDims:h,dopeSheetDims:b,horizontalScrollbarDims:y}=Cn.prism.memo("leftDims",()=>{var Z;let re={width:Math.floor(u.width*OR),height:u.height,screenX:u.screenX,screenY:u.screenY},D={width:u.width-re.width,height:u.height,screenX:u.screenX+re.width,screenY:u.screenY},G=m&&(d==null?void 0:d.isOpen)===!0,C=Math.floor((G?kt((Z=d==null?void 0:d.height)!=null?Z:.5,.1,.7):0)*u.heightWithoutBorder),Y=0+C,xe=u.height-Y,q={width:u.width,height:xe,screenX:u.screenX,screenY:u.screenY},K={isAvailable:m,isOpen:G,width:D.width,height:C,screenX:u.screenX,screenY:u.screenY+xe,padding:{top:20,bottom:20}};return{leftDims:re,rightDims:D,graphEditorDims:K,dopeSheetDims:q,horizontalScrollbarDims:{bottom:0}}},[u,d,m]),k=Cn.prism.memo("graphEditorVerticalSpace",()=>{let Z=h.height-h.padding.top-h.padding.bottom;return{space:Z,fromExtremumSpace(re){return re*Z},toExtremumSpace(re){return re/Z}}},[h]),[x,S]=Cn.prism.state("isSeeking",!1),_={isSeeking:x,setIsSeeking:S},O={},j=(l=(0,Cn.val)(o.sequence.clippedSpaceRange))!=null?l:TR,z=Cn.prism.memo("scaledSpace",()=>{let Z=j.end-j.start,re=g.width,D=Z/re,G=re/Z;return{fromUnitSpace(C){return C*G},toUnitSpace(C){return C*D},leftPadding:10}},[j,g.width]),V=Cn.prism.memo("setClippedSpaceRange",()=>function(Z){n.transaction(({stateEditors:re})=>{let D=L({},Z);if(D.end<=D.start&&(D.end=D.start+1),D.start<0){let G=D.end-D.start;D.start=0,D.end=G}re.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(he(L({},e.address),{range:D}))})},[]),W=Cn.prism.memo("clippedSpace",()=>({range:j,width:g.width,fromUnitSpace(Z){return z.fromUnitSpace(Z-j.start)+z.leftPadding},toUnitSpace(Z){return z.toUnitSpace(Z-z.leftPadding)+j.start},setRange:V}),[j,g.width,z,V]),B=Cn.prism.memo("selection.current",()=>new Cn.Atom({}),[]);return i1("finalAtom",{sheet:e,tree:s,panelDims:u,leftDims:v,rightDims:g,dopeSheetDims:b,horizontalScrollbarDims:y,seeker:_,unitSpace:O,scaledSpace:z,clippedSpace:W,graphEditorDims:h,graphEditorVerticalSpace:k,selectionAtom:B}).pointer})}var Cn,OR,TR,Lne=P(()=>{Ne(),Mne(),zA(),Cn=je,qne(),Rt(),OR=.2,TR={start:0,end:10}});function Zne(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:o,unitSpaceToClippedSpace:i}=e,l="";ON(e,(s,u)=>{let d=o(s),f=i(d);u?l+=zR(n.formatFullUnitForGrid(d),f,"full-unit"):l+=zR(n.formatSubUnitForGrid(d),f,"sub-unit")}),t.innerHTML=l}function zR(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var Vi,Hi,DR,AR,Oa,BR,NR,RR,FR,MR,UR,VR=P(()=>{Vi=je,Rn(),Hi=$(X()),be(),zN(),Ne(),AR=M.div(DR||(DR=R([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),Oa={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Pu(.2,Oa.fullUnitStampColor)}},NR=M.div(BR||(BR=R([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),FR=M.div(RR||(RR=R([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),Oa.fullUnitStampColor,Oa.stampFontSize,Oa.fullUnitStampColor,Oa.subUnitStampColor),MR=({layoutP:e,width:t})=>{let n=(0,Hi.useRef)(null),[o,i]=(0,Hi.useState)(null);return(0,Hi.useLayoutEffect)(()=>{if(o)return(0,Vi.prism)(()=>{let l=(0,Vi.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,Vi.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Vi.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Vi.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,Vi.val)(e.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:s=>l.closestGridPosition(s)}}).onChange(de().ticker,Zne,!0)},[o,t,e]),Hi.default.createElement(AR,{ref:n,style:{width:t+"px"}},Hi.default.createElement(NR,{style:{width:t+"px"}},Hi.default.createElement(FR,{ref:i})))},UR=MR});function Gne(e){let[t,n]=(0,Pk.useState)(!1);return(0,Pk.useEffect)(()=>{if(n(!1),!e)return;let o=l=>{l.target===e?n(!0):n(!1)},i=()=>{n(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",i),()=>{n(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",i)}},[e]),t}var Pk,Xne=P(()=>{Pk=$(X())});function Qne(e,t){let n=0,[o,i]=e,[l,s]=t;return i-o>s-l?[l,s]:(o<l&&(n=0-o),i>s&&(n=s-i),[o+n,i+n])}var so,Ta,At,Ck,HR,Xh,KR,WR,qR=P(()=>{so=je,Fe(),rt(),Ne(),Wi(),gn(),Dt(),nt(),Ta=$(X()),be(),Xt(),At={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},Ck=1e3,Xh=M.div(HR||(HR=R([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>co-1,e=>e.enabled?At.enabled.backgroundColor:At.disabled.backgroundColor,Ck,At.hover.backgroundColor,At.dragging.backgroundColor,tt),KR=({layoutP:e})=>{let t=(0,Ta.useMemo)(()=>(0,so.prism)(()=>{let{projectId:f,sheetId:m}=(0,so.val)(e.sheet).address;return(0,so.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),[n,o]=Ye(null),[i]=mn(o,{menuItems:()=>{let f=(0,so.val)(e.sheet),m=t.getValue();return[{label:"Delete focus range",callback:()=>{de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(L({},f.address))}).commit()}},{label:m!=null&&m.enabled?"Disable focus range":"Enable focus range",callback:()=>{m!==void 0&&de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},f.address),{range:m.range,enabled:!m.enabled}))}).commit()}}]}}),l=Qe(e.scaledSpace.toUnitSpace),s=Qe(e.sheet),u=(0,Ta.useMemo)(()=>{let f,m;return{debugName:"FocusRangeStrip",onDragStart(v){let g,h=t.getValue();if(!h)return!1;let b=h.range.start,y=h.range.end,k=!1,x=(0,so.val)(e.sheet).getSequence();return{onDrag(S){if(h=t.getValue(),h){k=!0;let _=l(S),O=b+_,j=y+_;j<O&&(j=O),[f,m]=Qne([O,j],[0,x.length]).map(z=>x.closestGridPosition(z)),g&&g.discard(),g=de().tempTransaction(({stateEditors:z})=>{var V;z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},s.address),{range:{start:f,end:m},enabled:(V=h==null?void 0:h.enabled)!=null?V:!0}))})}},onDragEnd(){h&&(k&&g!==void 0?g.commit():g&&g.discard())}}},lockCSSCursorTo:"grabbing"}},[s,l]),[d]=xt(o,u);return Ro(d,-1),Xe(()=>{let f=t.getValue(),m=(f==null?void 0:f.range)||{start:0,end:0},v=(0,so.val)(e.clippedSpace.fromUnitSpace)(m.start),g=(0,so.val)(e.clippedSpace.fromUnitSpace)(m.end),h,b;return v<0&&(v=0),g>(0,so.val)(e.clippedSpace.width)&&(g=(0,so.val)(e.clippedSpace.width)),v>g?(b=0,h=0):(b=v,h=(g-v)/Ck),f?Ta.default.createElement(Ta.default.Fragment,null,i,Ta.default.createElement(Xh,{id:"range-strip",enabled:f.enabled,className:"".concat(d?"dragging":""," ").concat(f.enabled?"enabled":""),ref:n,style:{transform:"translateX(".concat(b,"px) scale(").concat(h,", 1)")}})):Ta.default.createElement(Ta.default.Fragment,null)},[e,n,t,i,d])},WR=KR}),za,Uo,$R,LR,ZR,GR,XR,QR,YR,Ik,Yne=P(()=>{za=je,Fe(),Ne(),Wi(),Fn(),Dt(),nt(),Uo=$(X()),be(),Xt(),qR(),Cr(),LR=M.div($R||($R=R([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-At.thumbWidth,At.thumbWidth,()=>co-1,({enabled:e})=>e?At.enabled.backgroundColor:At.disabled.backgroundColor,At.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",Io,()=>Xh,At.hover.backgroundColor,At.hover.stroke,()=>Xh,At.dragging.backgroundColor,At.dragging.stroke,At.dragging.backgroundColor),GR=M.div(ZR||(ZR=R([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?At.thumbWidth:-At.thumbWidth+1),QR=M.div(XR||(XR=R([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>Rc.backgroundColor,e=>e.type==="start"?-12:At.thumbWidth),YR=({layoutP:e,thumbType:t})=>{var n;let[o,i]=Ye(null),l=(0,Uo.useMemo)(()=>(0,za.prism)(()=>{let{projectId:f,sheetId:m}=(0,za.val)(e.sheet).address;return(0,za.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),s=(0,Uo.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let f,m,v=(0,za.val)(e.sheet),g={start:0,end:v.getSequence().length},h=l.getValue()||{range:g,enabled:!1},b=h.enabled,y=h.range[t],k=(0,za.val)(e.scaledSpace.toUnitSpace),x=k(At.rangeStripMinWidth);return{onDrag(S,_,O){var j;let z,V=vn.checkIfMouseEventSnapToPos(O,{ignore:i});if(V==null){let B=k(S);z=y+B}else z=V;m=((j=l.getValue())==null?void 0:j.range)||g,t==="start"?z=Math.max(Math.min(z,m.end-x),0):z=Math.min(Math.max(z,m.start+x),v.getSequence().length);let W=v.getSequence().closestGridPosition(z);f!==void 0&&f.discard(),f=de().tempTransaction(({stateEditors:B})=>{B.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},v.address),{range:he(L({},m),{[t]:W}),enabled:b}))})},onDragEnd(S){S?f==null||f.commit():f==null||f.discard()}}}}),[e]),[u]=xt(i,s);Xn(u,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let d=Qe(l);return Ro(u,(n=d==null?void 0:d.range[t])!=null?n:0),Xe(()=>{let f=l.getValue();if(!f)return null;let{enabled:m}=f,v=f.range[t],g=(0,za.val)(e.clippedSpace.fromUnitSpace)(v);return(g<0||(0,za.val)(e.clippedSpace.width)<g)&&(g=-1e4),Uo.default.createElement(LR,he(L(L({ref:o},vn.includePositionSnapAttrs(v)),ro(v)),{className:"".concat(u&&"dragging"," ").concat(m&&"enabled"),enabled:m,type:t,style:{transform:"translate3d(".concat(g,"px, 0, 0)")}}),Uo.default.createElement(GR,{type:t,enabled:m}),Uo.default.createElement(QR,{type:t}),Uo.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Uo.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Uo.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,l,u])},Ik=YR});function Jne(e,t){let[n,o]=(0,uo.useState)("none");return Xn(n!=="none","dragging",n==="creating"?"ew-resize":"move"),(0,uo.useMemo)(()=>{let i=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(s){let u,d=(0,Ki.val)(e.clippedSpace.toUnitSpace),f=(0,Ki.val)(e.scaledSpace.toUnitSpace),m=(0,Ki.val)(e.sheet),v=m.getSequence(),g=s.target.getBoundingClientRect(),h=d(s.clientX-g.left),b=f(At.rangeStripMinWidth);return{onDrag(y){let k=f(y),x=h,S=h+k;[x,S]=[kt(x,0,v.length),kt(S,0,v.length)].map(_=>v.closestGridPosition(_)),S<x?[x,S]=[Math.max(Math.min(S,x-b),0),x]:y>0&&(S=Math.min(Math.max(S,x+b),v.length)),u&&u.discard(),u=de().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},m.address),{range:{start:x,end:S},enabled:!0}))})},onDragEnd(y){y&&u!==void 0?u.commit():u&&u.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let s,u=t.current,d=t.current.addBoundsHighlightLock();return{onDrag(f,m){let v=he(L({},u.dims),{top:kt(u.dims.top+m,0,window.innerHeight-Wr),left:kt(u.dims.left+f,-u.dims.width+Wr,window.innerWidth-Wr)}),g=eh(v,{width:window.innerWidth,height:window.innerHeight});s==null||s.discard(),s=de().tempTransaction(({stateEditors:h})=>{h.studio.historic.panelPositions.setPanelPosition({position:g,panelId:u.panelId})})},onDragEnd(f){d(),f?s==null||s.commit():s==null||s.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(s){let[u,d]=s.shiftKey?["creating",i().onDragStart(s)]:["moving-panel",l().onDragStart(s)];return o(u),d===!1?!1:{onDrag(f,m,v,g,h){d.onDrag(f,m,v,g,h)},onDragEnd(f){var m;o("none"),(m=d.onDragEnd)==null||m.call(d,f)}}}}},[e,t])}var Ki,uo,JR,eF,tF,nF,ere=P(()=>{Ki=je,Fe(),Ne(),is(),Wi(),Fn(),Dt(),Xne(),ZA(),nt(),Rt(),uo=$(X()),be(),qR(),Yne(),Po(),eF=M.div(JR||(JR=R([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>co,e=>e.isShiftDown?"ew-resize":"move"),tF=({layoutP:e})=>{let[t,n]=Ye(null),o=as(),i=(0,uo.useRef)(o);i.current=o;let l=(0,uo.useMemo)(()=>(0,Ki.prism)(()=>{let{projectId:d,sheetId:f}=(0,Ki.val)(e.sheet).address;return(0,Ki.val)(de().atomP.ahistoric.projects.stateByProjectId[d].stateBySheetId[f].sequence.focusRange)}),[e]);xt(n,Jne(e,i));let s=$A("Shift"),u=Gne(n);return(0,uo.useEffect)(()=>{if(!s&&u)return i.current.addBoundsHighlightLock()},[!s&&u]),Xe(()=>uo.default.createElement(eF,{ref:t,isShiftDown:s},uo.default.createElement(WR,{layoutP:e}),uo.default.createElement(Ik,{thumbType:"start",layoutP:e}),uo.default.createElement(Ik,{thumbType:"end",layoutP:e})),[e,l,s])},nF=tF}),vs,co,Rc,rF,oF,aF,iF,Wi=P(()=>{Fe(),vs=$(X()),be(),VR(),Xt(),rt(),ere(),co=18,Rc={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},oF=M.div(rF||(rF=R([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),co,Rc.backgroundColor,Rc.borderColor,tt),aF=({layoutP:e})=>{let t=Qe(e.rightDims.width);return vs.default.createElement(vs.default.Fragment,null,vs.default.createElement(oF,L({},ro("hide")),vs.default.createElement(UR,{layoutP:e,width:t,height:co}),vs.default.createElement(nF,{layoutP:e})))},iF=aF}),qi,lF,sF,uF,cF,dF,fF,pF,hF,tre=P(()=>{qi=$(X()),be(),Fe(),Ne(),Dy(),bi(),lF=e=>isFinite(e)&&e>0,uF=M.div(sF||(sF=R([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),dF=M.div(cF||(cF=R([`
  `,`;
  white-space: nowrap;
`])),ga),fF=({deltaX:e})=>e*.25,pF=({layoutP:e})=>{let t=Qe(e.sheet),n=(0,qi.useMemo)(()=>{let i;return{temporarilySetValue(l){i&&(i.discard(),i=void 0),i=de().tempTransaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(l){i&&(i.discard(),i=void 0),de().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})}}},[e,t]),o=(0,qi.useRef)(null);return(0,qi.useLayoutEffect)(()=>{o.current.focus()},[]),Xe(()=>{let i=t.getSequence().length;return qi.default.createElement(uF,null,qi.default.createElement(dF,null,"Sequence length"),qi.default.createElement(rp,he(L({value:i},n),{isValid:lF,inputRef:o,nudge:fF})))},[t,n,o])},hF=pF});function nre(e,t){let n=(0,In.useRef)(t);n.current=t;let o=(0,In.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let s,u=n.current,d=(0,$i.val)(n.current.layoutP.sheet),f=d.getSequence().length,m=(0,$i.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,h){let b=m(v);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:y})=>{y.coreByProject.historic.sheetsById.sequence.setLength(he(L({},d.address),{length:f+b}))})},onDragEnd(v){v?s&&s.commit():s&&s.discard()}}}}),[]),[i]=xt(e,o);return Ro(i,-1),[i]}var $i,In,jk,Fc,mF,Da,gF,vF,yF,bF,kF,wF,xF,SF,EF,_F,PF,rre=P(()=>{Fe(),$i=je,In=$(X()),be(),Ko(),Wi(),nt(),Dt(),Ne(),Gr(),Xt(),Ll(),tre(),rt(),Qr(),jk=1e3,Fc={stripNormal:"#0000006c",stripActive:"#000000"},Da=M.div(mF||(mF=R([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>po.lengthIndicatorStrip,co,Fc.stripNormal,Fc.stripActive),vF=M.div(gF||(gF=R([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),co-15),bF=M.div(yF||(yF=R([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),tt,Da,Da,Fc.stripActive),wF=M.div(kF||(kF=R([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),tt,Da,Da,Fc.stripActive),SF=M.div(xF||(xF=R([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),jk,()=>po.lengthIndicatorCover,Da,Da),EF=-1e4,_F=({layoutP:e})=>{let[t,n]=Ye(null),[o]=nre(n,{layoutP:e}),{node:i,toggle:l,close:s}=Zr({debugName:"LengthIndicator"},()=>In.default.createElement(Xr,null,In.default.createElement(hF,{layoutP:e,onRequestClose:s})));return Xe(()=>{let u=(0,$i.val)(e.sheet),d=(0,$i.val)(e.rightDims.height),f=u.getSequence(),m=f.length,v=m,g=(0,$i.val)(e.clippedSpace.fromUnitSpace)(v),h=(0,$i.val)(e.clippedSpace.width),b,y;return g>h?(y=0,b=0):(g<0&&(g=0),y=g,b=(h-g)/jk),In.default.createElement(In.default.Fragment,null,i,In.default.createElement(Da,{style:{height:d+"px",transform:"translateX(".concat(y===0?EF:y,"px)")},className:o?"dragging":""},In.default.createElement(vF,null,In.default.createElement(wF,L({ref:t,onClick:k=>{l(k,n)}},ro("hide")),In.default.createElement($Y,null),In.default.createElement(LY,null)),In.default.createElement(bF,null,"Sequence length:"," ",f.positionFormatter.formatBasic(m)))),In.default.createElement(SF,{title:"Length",style:{height:d+"px",transform:"translateX(".concat(y,"px) scale(").concat(b,", 1)")}}))},[e,t,o,i])},PF=_F}),Ok,Vo,CF,IF,jF,OF,TF,zF,DF,AF,ore=P(()=>{Fe(),Ok=je,Vo=$(X()),be(),VR(),Ko(),Wi(),Xt(),IF=M.div(CF||(CF=R([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),OF=M.div(jF||(jF=R([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),Oa.stampFontSize,Oa.fullUnitStampColor,Rc.backgroundColor,()=>po.currentFrameStamp),zF=M.div(TF||(TF=R([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),DF=Vo.default.memo(({layoutP:e})=>{let[t,n]=Qe(gB()),o=Qe(e.clippedSpace.fromUnitSpace),{sequence:i,formatter:l,clippedSpaceWidth:s}=Xe(()=>{let m=(0,Ok.val)(e.sheet).getSequence(),v=(0,Ok.val)(e.clippedSpace.width);return{sequence:m,formatter:m.positionFormatter,clippedSpaceWidth:v}},[e]);if(t==-1)return Vo.default.createElement(Vo.default.Fragment,null);let u=n===3?i.closestGridPosition(t):t,d=o(u),f=d>=0&&d<=s;return Vo.default.createElement(Vo.default.Fragment,null,Vo.default.createElement(IF,null,Vo.default.createElement(OF,{style:{opacity:f?1:0,transform:"translate3d(calc(".concat(d,"px - 50%), 0, 0)")}},l.formatForPlayhead(u)),Vo.default.createElement(zF,{posType:n,style:{opacity:f?1:0,transform:"translate3d(".concat(d,"px, 0, 0)")}}))," ")}),AF=DF}),Ir,kn,BF,NF,RF,FF,MF,Qh,UF,Tk,VF,Yh,HF,Jh,KF,zk,WF,qF,are=P(()=>{Fe(),Ir=je,BP(),Rn(),kn=$(X()),be(),Ko(),Xt(),rt(),Dt(),NF=M.div(BF||(BF=R([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>po.horizontalScrollbar,tt),FF=M.div(RF||(RF=R([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),Qh=M.div(MF||(MF=R([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Rv("absolute","-4px")),Tk=M.div(UF||(UF=R([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Rv("absolute","0"),Rv("absolute","-4px")),Yh=M(Tk)(VF||(VF=R([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),Jh=M(Tk)(HF||(HF=R([`
  cursor: e-resize;
  left: 0px;
`]))),zk=M.div(KF||(KF=R([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",Yh,Jh,Qh,Yh,Qh,Jh),WF=({layoutP:e})=>{let t=(0,kn.useCallback)(k=>k.toFixed(2),[]),n=(0,kn.useMemo)(()=>(0,Ir.prism)(()=>{let k=(0,Ir.val)(e.rightDims.width)-25,x=(0,Ir.val)(e.clippedSpace.range),S=(0,Ir.val)(e.sheet).getSequence().length,_=Math.max(x.end,S),O=x.start/_*k,j=x.end/_*k;return{rightWidth:k,clippedSpaceRange:x,sequenceLength:S,assumedLengthOfSequence:_,rangeStartX:O,rangeEndX:j,bottom:(0,Ir.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:i,clippedSpaceRange:l,bottom:s}=Qe(n),[u,d]=(0,kn.useState)("nothing"),f=(0,kn.useMemo)(()=>{let k=(0,Ir.val)(n),x=()=>{k=(0,Ir.val)(n)},S=_=>_/k.rightWidth*k.assumedLengthOfSequence;return{onRangeDragStart(){return x(),{onDrag(_){d("both");let O=S(_),j=ui(k.clippedSpaceRange,z=>z+O);(0,Ir.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeStartDragStart(){return x(),{onDrag(_){d("start");let O=S(_),j={start:k.clippedSpaceRange.start+O,end:k.clippedSpaceRange.end};j.start>j.end-1&&(j.start=j.end-1),j.start<=0&&(j.start=0),(0,Ir.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeEndDragStart(){return x(),{onDrag(_){d("end");let O=S(_),j={start:k.clippedSpaceRange.start,end:k.clippedSpaceRange.end+O};j.end<j.start+1&&(j.end=j.start+1),j.end>=k.assumedLengthOfSequence&&(j.end=k.assumedLengthOfSequence),(0,Ir.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}}}},[e,n]),[m,v]=(0,kn.useState)(null);xt(m,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:f.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[g,h]=(0,kn.useState)(null);xt(g,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:f.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[b,y]=(0,kn.useState)(null);return xt(b,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:f.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),kn.default.createElement(NF,L({style:{bottom:s+8+"px"}},ro("hide")),kn.default.createElement(FF,null,kn.default.createElement(Qh,{ref:v,style:{width:"".concat(i-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),kn.default.createElement(Yh,{ref:h,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},kn.default.createElement(zk,{active:u==="both"||u==="start"},t(l.start))),kn.default.createElement(Jh,{ref:y,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},kn.default.createElement(zk,{active:u==="both"||u==="end"},t(l.end)))))},qF=WF}),$F,LF,ZF,GF,XF,ire=P(()=>{$F=$(X()),be(),ZF=M.div(LF||(LF=R([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),GF=e=>$F.default.createElement(ZF,{room:e.room}),XF=GF}),em,tm,Dk,QF,YF,JF,eM,tM,nM,rM,oM,lre=P(()=>{be(),Fe(),Dy(),bi(),em=$(X()),tm=$(X()),Dk=je,pf(),QF=e=>isFinite(e)&&e>=0,JF=M.div(YF||(YF=R([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),tM=M.div(eM||(eM=R([`
  `,`;
  white-space: nowrap;
`])),ga),nM=({deltaX:e})=>e*.25,rM=({layoutP:e,onRequestClose:t})=>{let n=(0,Dk.val)(e.sheet),o=n.getSequence(),i=(0,em.useMemo)(()=>{let s,u=o.position;return{temporarilySetValue(d){s&&(s=void 0),s=kt(d,0,o.length),o.position=s},discardTemporaryValue(){s&&(s=void 0,o.position=u,t("discardTemporaryValue"))},permanentlySetValue(d){s&&(s=void 0),o.position=kt(d,0,o.length),t("permanentlySetValue")}}},[e,o]),l=(0,em.useRef)(null);return(0,em.useLayoutEffect)(()=>{l.current.focus()},[]),Xe(()=>{let s=n.getSequence(),u=Number((0,Dk.val)(s.pointer.position).toFixed(3));return tm.default.createElement(JF,null,tm.default.createElement(tM,null,"Sequence position"),tm.default.createElement(rp,he(L({value:u},i),{isValid:QF,inputRef:l,nudge:nM})))},[n,i,l])},oM=rM}),aM,sre=P(()=>{aM=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),iM,ure=P(()=>{sre(),iM=e=>aM?e.metaKey===!0:e.ctrlKey===!0});function cre(){nm=!1}function dre(){nm=!0}function fre(){let e=de();(0,lM.useEffect)(()=>{let t=n=>{let o=n.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(n.key==="z"||n.key==="Z"||n.code==="KeyZ")if(iM(n))n.shiftKey===!0?e.redo():e.undo();else return;else if(n.code==="Space"&&!n.shiftKey&&!n.metaKey&&!n.altKey&&!n.ctrlKey){if(!nm)return;let i=mY();if(i)if(i.playing)i.pause();else{let{projectId:l,sheetId:s}=i.address,u=(0,jr.prism)(()=>{let m=(0,jr.val)(de().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[s].sequence.focusRange);return jr.prism.memo("shouldFollowFocusRange",()=>{let v=i.position;if(m){let g=v>=m.range.start&&v<=m.range.end;return m.enabled?!!g:!0}else return!0},[])&&m&&m.enabled?{range:[m.range.start,m.range.end],isFollowingARange:!0}:{range:[0,(0,jr.val)(i.pointer.length)],isFollowingARange:!1}}),d=i.playDynamicRange((0,jr.prism)(()=>(0,jr.val)(u).range),de().ticker),f=Ak(i);d.finally(()=>{f.set(void 0)}),f.set(u)}else return}else if(n.altKey&&(n.key==="\\"||n.code==="Backslash"||n.code==="IntlBackslash"))e.transaction(({stateEditors:i,drafts:l})=>{i.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;n.preventDefault(),n.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var lM,jr,nm,Ak,sM,Bk=P(()=>{lM=$(X()),Ne(),ure(),da(),jr=je,wp(),nm=!0,Ak=Lu(e=>new jr.Atom(void 0)),sM=Lu(e=>(0,jr.prism)(()=>{let t=Ak(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:n,sheetId:o}=e.address,i=(0,jr.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange);if(!i||!i.enabled)return!1;let l=(0,jr.val)(e.pointer.position);return l>=i.range.start&&l<=i.range.end}}))});function pre(e,t){return mn(e,{menuItems(){return[{label:"Place marker",callback:()=>{de().transaction(({stateEditors:n})=>{let o=(0,fo.val)(t.layoutP.sheet),i=o.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:JJ(),position:i.position}],snappingFunction:i.closestGridPosition})})}}]}})}var fo,rr,uM,Li,cM,dM,fM,Nk,pM,hM,mM,gM,vM,yM,hre=P(()=>{ire(),Dt(),nt(),Fe(),fo=je,pf(),rr=$(X()),be(),Ko(),Xt(),rt(),Gr(),Qr(),lre(),Bk(),Fn(),gn(),Ne(),Do(),Cr(),Ii(),Li=M.div(uM||(uM=R([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>po.playhead,e=>e.isVisible?"block":"none"),dM=M.div(cM||(cM=R([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),Io),Nk=M.div(fM||(fM=R([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),tt,Li,Li,Io,Li),hM=M.div(pM||(pM=R([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),Li),gM=M.div(mM||(mM=R([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),Nk,Li),vM=({layoutP:e})=>{let[t,n]=Ye(null),{node:o,toggle:i,close:l}=Zr({debugName:"Playhead"},()=>rr.default.createElement(Xr,null,rr.default.createElement(oM,{layoutP:e,onRequestClose:l}))),s=(0,rr.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let f=(0,fo.val)(e.sheet).getSequence(),m=f.position,v=(0,fo.val)(e.scaledSpace.toUnitSpace),g=(0,fo.val)(e.seeker.setIsSeeking);return g(!0),b1(),{onDrag(h,b,y){var k;let x=v(h);f.position=(k=vn.checkIfMouseEventSnapToPos(y,{ignore:n}))!=null?k:kt(m+x,0,f.length)},onDragEnd(h){g(!1),Ci()},onClick(h){i(h,t.current)}}}}),[e,n]),[u]=xt(n,s);Xn(u,"draggingPositionInSequenceEditor","ew-resize"),Ro(Qe(e.seeker.isSeeking)||u,-1);let[d]=pre(n,{layoutP:e});return Xe(()=>{let f=(0,fo.val)(e.seeker.isSeeking),m=(0,fo.val)(e.sheet).getSequence(),v=(0,fo.val)(sM(m)),g=m.positionPrism.getValue(),h=(0,fo.val)(e.clippedSpace.fromUnitSpace)(g),b=h>=0&&h<=(0,fo.val)(e.clippedSpace.width);return rr.default.createElement(rr.default.Fragment,null,d,o,rr.default.createElement(Li,L({isVisible:b,style:{transform:"translate3d(".concat(h,"px, 0, 0)")},className:"".concat(f&&"seeking"," ").concat(v&&"playheadattachedtofocusrange")},ro("hide")),rr.default.createElement(Nk,L({ref:t},vn.includePositionSnapAttrs(g)),rr.default.createElement(XF,{room:8}),rr.default.createElement(hM,null),rr.default.createElement(gM,null,m.positionFormatter.formatForPlayhead(m.closestGridPosition(g)))),rr.default.createElement(dM,he(L({},vn.includePositionSnapAttrs(g)),{className:f?"seeking":""}))))},[e,t,o])},yM=vM}),Zi,Mc,rm,bM,kM,wM,xM,mre=P(()=>{Zi=je,Fe(),Ne(),Wi(),Mc=$(X()),be(),rm=1e3,kM=M.div(bM||(bM=R([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),co,rm,e=>e.enabled?"#000000":"transparent"),wM=({layoutP:e})=>{let t=(0,Mc.useMemo)(()=>(0,Zi.prism)(()=>{let{projectId:n,sheetId:o}=(0,Zi.val)(e.sheet).address;return(0,Zi.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange)}),[e]);return Xe(()=>{let n=t.getValue();if(!n||!n.enabled)return null;let o=(0,Zi.val)(e.rightDims.height)-co,i=(0,Zi.val)(e.clippedSpace.fromUnitSpace),l=(0,Zi.val)(e.clippedSpace.width),s=[];{let u=0,d=i(n.range.start),f,m;u>d?(m=0,f=0):(d>l&&(d=l),m=u,f=(d-u)/rm),s.push({translateX:m,scaleX:f})}{let u=i(n.range.end),d=l,f,m;u>d?(m=0,f=0):(u<0&&(u=0),m=u,f=(d-u)/rm),s.push({translateX:m,scaleX:f})}return Mc.default.createElement(Mc.default.Fragment,null,s.map(({translateX:u,scaleX:d},f)=>Mc.default.createElement(kM,{key:"curtain-".concat(f),enabled:!0,style:{height:"".concat(o,"px"),transform:"translateX(".concat(u,"px) scaleX(").concat(d,")")}})))},[e,t])},xM=wM}),ys,SM,EM,_M,PM,CM,gre=P(()=>{ys=$(X()),be(),Fe(),Ne(),bi(),Uy(),EM=M.div(SM||(SM=R([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),M.div(_M||(_M=R([`
  `,`;
  white-space: nowrap;
`])),ga),PM=({layoutP:e,marker:t})=>{var n;let o=Qe(e.sheet),i=(0,ys.useMemo)(()=>{let s;return{temporarilySetValue(u){s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})},discardTemporaryValue(){s&&(s.discard(),s=void 0)},permanentlySetValue(u){s&&(s.discard(),s=void 0),de().transaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})}}},[e,o]),l=(0,ys.useRef)(null);return(0,ys.useLayoutEffect)(()=>{l.current.focus()},[]),ys.default.createElement(EM,null,ys.default.createElement(ap,he(L({value:(n=t.label)!=null?n:""},i),{isValid:()=>!0,inputRef:l})))},CM=PM});function vre(e,t){return mn(e,{menuItems(){return[{label:"Remove marker",callback:()=>{de().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function yre(e,t){let n=(0,wn.useRef)(t);n.current=t;let o=(0,wn.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(l){let s=n.current.marker,u=(0,om.val)(t.layoutP.scaledSpace.toUnitSpace),d;return b1(),{onDrag(f,m,v){var g;let h=s,b=Math.max((g=vn.checkIfMouseEventSnapToPos(v,{ignore:e}))!=null?g:h.position+u(f),0);d==null||d.discard(),d=de().tempTransaction(({stateEditors:y})=>{y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,om.val)(t.layoutP.sheet.address),markers:[he(L({},h),{position:b})],snappingFunction:(0,om.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(f){f?d==null||d.commit():d==null||d.discard(),Ci()}}}}),[]),[i]=xt(e,o);return Ro(i,t.marker.position),Xn(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}var om,wn,Rk,Fk,IM,jM,OM,TM,zM,am,DM,AM,BM,NM,RM,FM,bre=P(()=>{om=je,Fe(),Ne(),Fn(),gn(),nt(),wn=$(X()),be(),Xt(),Dt(),Ko(),Cr(),ch(),SB(),Ii(),Gr(),Qr(),gre(),Rk=12,Fk=12,IM=Rk*2,jM=Fk*2,TM=M.div(OM||(OM=R([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>po.marker),am=M.div(zM||(zM=R([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Jn(Rk,Fk)),DM=wn.default.memo(()=>wn.default.createElement(am,{children:wn.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wn.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),BM=M.div(AM||(AM=R([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),oo.CSS,oo.CSS_WHEN_SOMETHING_DRAGGING,oo.BEING_DRAGGED_CLASS,Io,am,oo.BEING_DRAGGED_CLASS,am,Jn(IM,jM)),NM=({layoutP:e,markerId:t})=>{let n=Qe(e.sheet.address),o=Qe(de().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let i=Qe(e.clippedSpace.width),l=Qe(e.clippedSpace.fromUnitSpace)(o.position),s=l<=0||l>i,u=s?-1e4:l,d=s?0:1;return wn.default.createElement(TM,{style:{transform:"translateX(".concat(u,"px) scale(").concat(d,")")}},wn.default.createElement(FM,{marker:o,layoutP:e}))},RM=NM,FM=({layoutP:e,marker:t})=>{let n=Qe(e.sheet.address),[o,i]=Ye(null),[l]=vre(i,{sheetAddress:n,markerId:t.id}),[s]=yre(i,{layoutP:e,marker:t}),{node:u,toggle:d,close:f}=Zr({debugName:"MarkerPopover"},()=>wn.default.createElement(Xr,null,wn.default.createElement(CM,{marker:t,layoutP:e,onRequestClose:f})));return wn.default.createElement(wn.default.Fragment,null,l,u,wn.default.createElement(BM,L({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:m=>{d(m,o.current)}},oo.reactProps({isDragging:s,position:t.position}))),wn.default.createElement(DM,null))}}),im,MM,UM,kre=P(()=>{Fe(),Ne(),im=$(X()),bre(),MM=({layoutP:e})=>{let t=Qe(e.sheet.address),n=de().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=Qe(n.allIds);return im.default.createElement(im.default.Fragment,null,o&&Object.keys(o).map(i=>im.default.createElement(RM,{key:i,layoutP:e,markerId:i})))},UM=MM}),VM,Ho,HM,KM,WM,qM,wre=P(()=>{Ko(),Fe(),VM=je,Ho=$(X()),be(),rre(),ore(),are(),hre(),Wi(),mre(),kre(),KM=M.div(HM||(HM=R([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>po.rightOverlay),WM=({layoutP:e})=>Xe(()=>{let t=(0,VM.val)(e.rightDims.width);return Ho.default.createElement(KM,{style:{width:t+"px"}},Ho.default.createElement(yM,{layoutP:e}),Ho.default.createElement(qF,{layoutP:e}),Ho.default.createElement(AF,{layoutP:e}),Ho.default.createElement(iF,{layoutP:e}),Ho.default.createElement(UM,{layoutP:e}),Ho.default.createElement(PF,{layoutP:e}),Ho.default.createElement(xM,{layoutP:e}))},[e]),qM=WM}),$M,lm,LM,ZM,GM,XM,xre=P(()=>{$M=je,Fe(),Ne(),lm=$(X()),be(),Ll(),Xt(),ZM=M.button(LM||(LM=R([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),GM=({layoutP:e})=>{let t=Qe(e.graphEditorDims.isOpen),n=(0,lm.useCallback)(()=>{let o=(0,$M.val)(e.graphEditorDims.isOpen);de().transaction(({stateEditors:i})=>{i.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return lm.default.createElement(ZM,L({onClick:n,title:"Toggle graph editor",className:t?"open":""},ro("hide")),lm.default.createElement(cJ,null))},XM=GM}),Or,vt,QM,YM,JM,eU,po,tU,nU,rU,oU,aU,iU,lU,sU,uU,Ko=P(()=>{da(),Fe(),zA(),Or=je,vt=$(X()),be(),Rne(),$h(),Lne(),wre(),is(),RD(),fA(),Xt(),ni(),Rt(),xre(),Po(),wi(),YM=M(o1)(QM||(QM=R([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),Ml.sequenceEditorPanel),eU=M.div(JM||(JM=R([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),po=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),nU=M(Yb)(tU||(tU=R([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),rU={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},oU={width:800,height:200},aU=e=>vt.default.createElement(Qb,{panelId:"sequenceEditor",defaultPosition:rU,minDims:oU},vt.default.createElement(iU,null)),iU=()=>{let{dims:e}=as(),[t,n]=(0,vt.useState)(null);return QO(t),Xe(()=>{let o=Or.prism.memo("panelSize",()=>{let g=e.width,h=e.height;return{width:g,height:h,widthWithoutBorder:g-2,heightWithoutBorder:h-4,screenX:e.left,screenY:e.top}},[e]),i=la(ca().filter(g=>Ud(g)||fr(g)).map(g=>fr(g)?g.sheet:g));if(la(i.map(g=>g.template)).length!==1)return vt.default.createElement(vt.default.Fragment,null);let l=i[0];if(!l)return vt.default.createElement(vt.default.Fragment,null);let s=i1("panelSizeP",o).pointer,u=Or.prism.memo("key",()=>JSON.stringify(l.address),[l]),d=Or.prism.memo("layout",()=>$ne(l,s),[l,s]).getValue();if((0,Or.val)(d.tree.children).length===0)return vt.default.createElement(vt.default.Fragment,null);let f=Or.prism.memo("containerRef",uU,[]),m=(0,Or.val)(d.graphEditorDims.isAvailable),v=(0,Or.val)(d.graphEditorDims.isOpen);return vt.default.createElement(YM,{ref:g=>{f(g),g!==t&&n(g)}},vt.default.createElement(eU,{style:{width:"".concat((0,Or.val)(d.leftDims.width),"px")}}),vt.default.createElement(bB,{layoutP:d},vt.default.createElement(lU,{layoutP:d}),vt.default.createElement(_R,{key:u+"-dopeSheet",layoutP:d}),v&&vt.default.createElement(LN,{key:u+"-graphEditor",layoutP:d}),m&&vt.default.createElement(XM,{layoutP:d}),vt.default.createElement(qM,{layoutP:d})))},[e,t])},lU=({layoutP:e})=>Xe(()=>{let t=(0,Or.val)(e.sheet);return vt.default.createElement(nU,{style:{width:(0,Or.val)(e.leftDims.width)}},vt.default.createElement(iy,null,vt.default.createElement(ua,null,t.address.sheetId," "),vt.default.createElement(Du,null,":"," "),vt.default.createElement(ua,null,t.address.sheetInstanceId," "),vt.default.createElement(Du,null," ",">"," "),vt.default.createElement(ua,null,"Sequence")))},[e]),sU=aU,uU=()=>{let e=null,t={passive:!1,capture:!1},n=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",n,t),e=o,o&&o.addEventListener("wheel",n,t)}}}),Gi,cU,dU,Sre=P(()=>{_Y(),Zb(),Gi=$(X()),Ne(),Fe(),Mee(),Ko(),cU=()=>{let e=Qe(de().paneManager.allPanesD),t=Object.entries(e).map(([n,o])=>Gi.default.createElement(TA,{key:"pane-".concat(n),paneInstance:o}));return Gi.default.createElement(Gi.default.Fragment,null,t,Gi.default.createElement(y4,null),Gi.default.createElement(zD,null),Gi.default.createElement(sU,null))},dU=cU}),fU,pU,hU,Ere=P(()=>{be(),Hp(),pU=M(ns)(fU||(fU=R([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),hU=pU}),_re=He((e,t)=>{var n,o;n=[],o=[];function i(l,s,u){var d,f,m,v,g,h,b,y;if(l===s)return 0;if(d=l.length,f=s.length,d===0)return f;if(f===0)return d;for(u&&(l=l.toLowerCase(),s=s.toLowerCase()),b=0;b<d;)o[b]=l.charCodeAt(b),n[b]=++b;for(y=0;y<f;)for(m=s.charCodeAt(y),v=g=y++,b=-1;++b<d;)h=m===o[b]?g:g+1,g=n[b],n[b]=v=g>v?h>v?v+1:h:h>g?g+1:h;return v}t.exports=i}),Pre=He((e,t)=>{var n=_re();function o(){var i,l,s,u,d,f=0,m=arguments[0],v=arguments[1],g=v.length,h=arguments[2];h&&(u=h.threshold,d=h.ignoreCase),u===void 0&&(u=0);for(var b=0;b<g;++b)d?l=n(m,v[b],!0):l=n(m,v[b]),l>m.length?i=1-l/v[b].length:i=1-l/m.length,i>f&&(f=i,s=v[b]);return f>=u?s:null}t.exports=o});function Cre(e,t,n="Did you mean ",o="?"){let i=(0,mU.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+o:""}var mU,Ire=P(()=>{mU=$(Pre())});function gU(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var jre=P(()=>{}),vU,Mk,yU=P(()=>{jre(),vU=e=>typeof e=="string"?'string("'.concat(gU(e,10),'")'):typeof e=="number"?"number(".concat(gU(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",Mk=vU}),bU,kU,Uk,wU=P(()=>{be(),gi(),kU=M(eI)(bU||(bU=R([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),Uk=kU}),bs,xU,SU,EU,ks,Uc=P(()=>{be(),rt(),bs=$(X()),sc(),tp(),zz(),wU(),SU=M.button(xU||(xU=R([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Uk),EU=bs.default.forwardRef((e,t)=>{var n=e,{title:o}=n,i=Js(n,["title"]);let[l,s]=ts({enabled:typeof o=="string"},()=>bs.default.createElement(Mb,null,o));return bs.default.createElement(bs.default.Fragment,null,l,bs.default.createElement(SU,L({ref:ep([s,t])},i))," ")}),ks=EU}),_U,PU,CU,IU,jU,Ore=P(()=>{_U=$(X()),Uc(),be(),rt(),CU=M(ks)(PU||(PU=R([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),IU=({config:e,testId:t})=>{var n;return _U.default.createElement(CU,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(n=e.svgSource)!=null?n:""}})},jU=IU});function Tre({value:e,label:t,icon:n,onClick:o,isSelected:i}){return ws.default.createElement(ws.default.Fragment,null,ws.default.createElement(ks,{forwardedAs:QC,className:i?"selected":void 0,"aria-label":t,onClick:o,title:t},n))}var ws,OU,TU,zre=P(()=>{ws=$(X()),gi(),Uc(),wU(),OU=({value:e,onChange:t,options:n})=>ws.default.createElement(Uk,null,n.map(({label:o,icon:i,value:l})=>ws.default.createElement(Tre,{key:l,value:l,isSelected:e===l,label:o,icon:i,onClick:()=>t(l)}))),TU=OU}),Vk,zU,DU,AU,BU,Dre=P(()=>{Vk=$(X()),be(),rt(),zre(),DU=M.div(zU||(zU=R([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),AU=({config:e})=>Vk.default.createElement(TU,{onChange:e.onChange,options:e.options.map(({label:t,value:n,svgSource:o})=>({label:t,value:n,icon:Vk.default.createElement(DU,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),BU=AU}),Vc,NU,RU,FU,MU,Are=P(()=>{Vc=$(X()),be(),rt(),Uc(),VO(),Gr(),RU=M.div(NU||(NU=R([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),FU=({config:e})=>{let t=(0,Vc.useRef)(null),n=Zr(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>Vc.default.createElement(mb,{items:e.items.map((o,i)=>({label:o.label,callback:()=>{var l;try{(l=o.onClick)==null||l.call(o)}catch(s){console.error(s)}}})),onRequestClose:()=>{n.close("clicked")}}));return Vc.default.createElement(RU,null,n.node,Vc.default.createElement(ks,{ref:t,onClick:o=>{n.open(o,t.current)}},e.label))},MU=FU});function Bre(e){return Hk[e]}var Hc,UU,Hk,VU,HU,Nre=P(()=>{Ire(),yU(),Hc=$(X()),Ore(),Dre(),Are(),UU=e=>Hc.default.createElement(Hc.default.Fragment,null,e.config.map((t,n)=>Hc.default.createElement(VU,{config:t,key:n}))),Hk={Icon:jU,Switch:BU,Flyout:MU},VU=({config:e})=>{let t=Bre(e.type);if(!t)throw new Error("No tool with tool.type ".concat(Mk(e.type)," exists. Did you mean ").concat(Cre(e.type,Object.keys(Hk))));return Hc.default.createElement(t,{config:e})},HU=UU}),KU,ho,WU,qU,$U,Kk,LU,ZU,Wk,GU=P(()=>{KU=je,Fe(),Ne(),ho=$(X()),be(),Nre(),qU=M.div(WU||(WU=R([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),Kk=M.div($U||($U=R([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),LU=({extension:e,toolbarId:t})=>{var n;let o=(0,ho.useMemo)(()=>new KU.Atom([]),[]),i=(n=e.toolbars)==null?void 0:n[t];(0,ho.useLayoutEffect)(()=>{let s=i==null?void 0:i(o.set.bind(o),de().publicApi);if(typeof s=="function")return s},[e,t,i]);let l=Qe(o.prism);return ho.default.createElement(HU,{config:l})},ZU=({toolbarId:e,showLeftDivider:t})=>{var n;let o=[],i=Qe(de().atomP.ephemeral.extensions.byId),l=!1;for(let[,s]of Object.entries(i))!s||!((n=s.toolbars)!=null&&n[e])||(o.push(ho.default.createElement(ho.default.Fragment,{key:"extensionToolbar-"+s.id},l?ho.default.createElement(Kk,null):void 0,ho.default.createElement(LU,{extension:s,toolbarId:e}))),l=!0);return o.length===0?null:ho.default.createElement(qU,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?ho.default.createElement(Kk,null):void 0,o)},Wk=ZU}),Kc,XU,QU,YU,sm,Rre=P(()=>{be(),Kc=$(X()),Uc(),QU=M(ks)(XU||(XU=R([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),YU=(0,Kc.forwardRef)((e,t)=>{var n=e,{children:o,hint:i,pinned:l,icon:s,pinHintIcon:u,unpinHintIcon:d}=n,f=Js(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[m,v]=(0,Kc.useState)(!1),g=m||i;return Kc.default.createElement(QU,he(L({},f),{pinned:l,ref:t,onMouseOver:()=>v(!0),onMouseOut:()=>v(!1)}),Kc.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},g&&!l?u:g&&l?d:s),o)}),sm=YU});function Fre(e){return qk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),qk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var qk,$k,Mre=P(()=>{qk=$(X()),$k=Fre});function Ure(e){return Lk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Lk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var Lk,Zk,Vre=P(()=>{Lk=$(X()),Zk=Ure}),Bt,JU,eV,tV,Gk,nV,Aa,rV,oV,aV,iV,lV,sV,uV,cV,dV,um,fV,pV,Xk,Qk,hV,mV,Hre=P(()=>{Fe(),Ne(),Bt=$(X()),be(),eV=M.div(JU||(JU=R([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),Gk=M.div(tV||(tV=R([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),Aa=M(Gk)(nV||(nV=R([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),oV=M(Gk)(rV||(rV=R([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),iV=M.div(aV||(aV=R([`
  font-weight: 600;
`]))),sV=M.div(lV||(lV=R([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),cV=M.div(uV||(uV=R([`
  margin-left: 2px;
`]))),um=M.div(dV||(dV=R([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),pV=M.div(fV||(fV=R([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),Xk="0.7.2",Qk=Xk.match(/^[^\-]+/)[0],hV=Bt.default.forwardRef((e,t)=>{let n=Qe(de().atomP.ahistoric.updateChecker.result.hasUpdates);return Bt.default.createElement(eV,{ref:t},Bt.default.createElement(Aa,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Bt.default.createElement(Aa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Bt.default.createElement(um,null),Bt.default.createElement(Aa,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Bt.default.createElement(Aa,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Bt.default.createElement(Aa,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Bt.default.createElement(um,null),Bt.default.createElement(oV,null,Bt.default.createElement(iV,null,"Version"),Bt.default.createElement(sV,null,Bt.default.createElement(cV,null,Xk," ",n===!0?"(outdated)":n===!1?"(latest)":""))),n===!0&&Bt.default.createElement(Bt.default.Fragment,null,Bt.default.createElement(um,null),Bt.default.createElement(Aa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(Qk)),className:"",target:"_blank"},"Update",Bt.default.createElement(pV,null)),Bt.default.createElement(Aa,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(Qk)),className:"",target:"_blank"},"What's new?")))}),mV=hV}),st,gV,vV,yV,bV,kV,wV,Yk,xV,Jk,SV,ew,EV,_V,Kre=P(()=>{Fe(),Ne(),st=$(X()),be(),sc(),Ere(),Hp(),gV=je,GU(),Rre(),Au(),Mre(),Vre(),Uc(),Gr(),Hre(),vc(),yV=M.div(vV||(vV=R([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),kV=M.div(bV||(bV=R([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),Yk=M.div(wV||(wV=R([`
  display: flex;
  gap: 8px;
`]))),Jk=M.div(xV||(xV=R([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),M.div(SV||(SV=R([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),ew=!1,EV=()=>{var e,t,n;let o=Xe(()=>{let y=(0,gV.val)(de().atomP.ephemeral.coreByProject);return Object.entries(y).map(([k,x])=>({projectId:k,state:x})).filter(({state:k})=>k.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[i,l]=ts({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?st.default.createElement(hU,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):st.default.createElement(ns,null,st.default.createElement(st.default.Fragment,null,"Outline"))),s=(e=Qe(de().atomP.ahistoric.pinOutline))!=null?e:!0,u=(t=Qe(de().atomP.ahistoric.pinDetails))!=null?t:!0,d=Qe(de().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,f=Zr(()=>{let y=m.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:y.right,maxY:8,minX:y.left-140,minY:8},verticalGap:2}},()=>st.default.createElement(mV,null)),m=(0,st.useRef)(null),v=(0,st.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(ew||(ew=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),d||window.__IS_VISUAL_REGRESSION_TESTING?!0:d),[d]),{hasNotifications:g}=Hb(),[h,b]=eD();return st.default.createElement(yV,null,st.default.createElement(Yk,null,i,st.default.createElement(sm,{ref:l,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinOutline(!((x=k.ahistoric.pinOutline)==null||x))})},icon:st.default.createElement(sy,null),pinHintIcon:st.default.createElement(Zk,null),unpinHintIcon:st.default.createElement($k,null),pinned:s}),o.length>0?st.default.createElement(kV,null,o.length):null,st.default.createElement(Wk,{showLeftDivider:!0,toolbarId:"global"})),st.default.createElement(Yk,null,h,st.default.createElement(sm,{ref:b,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinNotifications(!((x=k.ahistoric.pinNotifications)!=null&&x))})},icon:st.default.createElement(Gf,null),pinHintIcon:st.default.createElement(Gf,null),unpinHintIcon:st.default.createElement(Gf,null),pinned:(n=Qe(de().atomP.ahistoric.pinNotifications))!=null?n:!1},g&&st.default.createElement(Jk,{type:"warning"})),f.node,st.default.createElement(ks,{ref:m,onClick:y=>{f.toggle(y,m.current)}},st.default.createElement(vI,null),v&&st.default.createElement(Jk,{type:"info"})),st.default.createElement(sm,{ref:l,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinDetails(!((x=k.ahistoric.pinDetails)==null||x))})},icon:st.default.createElement(gI,null),pinHintIcon:st.default.createElement($k,null),unpinHintIcon:st.default.createElement(Zk,null),pinned:u})))},_V=EV}),PV,Wc,CV,qc,IV,jV,OV,TV,zV=P(()=>{PV=je,Fe(),Wc=$(X()),CV=$(xo()),qc=new PV.Atom({set:{},byId:{}}),IV=1,jV=()=>{let e=IV++;function t(o,i,l){qc.reduce(s=>({byId:he(L({},s.byId),{[e]:{comp:o,props:i,portalNode:l}}),set:he(L({},s.set),{[e]:!0})}))}function n(){qc.reduce(o=>{let i=L({},o.set),l=L({},o.byId);return delete i[e],{byId:l,set:i}})}return{mountOrRender:t,unmount:n}},OV=()=>{let e=Object.keys(Qe(qc.pointer.set));return Wc.default.createElement(Wc.default.Fragment,null,e.map(t=>Wc.default.createElement(TV,{key:"id-"+t,id:t})))},TV=({id:e})=>{let{comp:t,portalNode:n,props:o}=Qe(qc.pointer.byId[e]);return(0,CV.createPortal)(Wc.default.createElement(t,L({},o)),n)}});function Wre(e){let t=de(),[n,o]=Ye(void 0),i=PR();i.configureLogging({min:128,dev:nw,internal:nw});let l=i.getLogger().named("Theatre.js UIRoot");fre();let s=Qe(t.atomP.ahistoric.visibilityState);return(0,Jt.useEffect)(()=>(s==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[s]),Xe(()=>{let u=(0,tw.val)(t.atomP.ahistoric.visibilityState);return(0,tw.val)(t.atomP.ephemeral.initialised)?Jt.default.createElement(A4,{logger:l},Jt.default.createElement(FT,null,Jt.default.createElement(OY,null,Jt.default.createElement(FV,null),Jt.default.createElement(Rl.Provider,{value:o},Jt.default.createElement(ay,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},Jt.default.createElement(Jt.default.Fragment,null,Jt.default.createElement(AV,null),Jt.default.createElement(NV,{className:u==="everythingIsHidden"?"invisible":""},Jt.default.createElement(oy,{ref:n}),Jt.default.createElement(_V,null),Jt.default.createElement(dU,null),Jt.default.createElement(tD,null)))))))):null},[t,n,o])}var tw,Jt,DV,AV,BV,NV,RV,nw,FV,qre=P(()=>{Ne(),Fe(),tw=je,Jt=$(X()),be(),Sre(),Kre(),nt(),gi(),Bk(),Fn(),MT(),Oy(),zV(),rt(),Gh(),pa(),vc(),AV=typeof window<"u"?w3(DV||(DV=R([`
  :host {
    contain: strict;
  }
`]))):{},NV=M(D4)(BV||(BV=R([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),nw=/Playground.+Theatre\.js/.test((RV=typeof document<"u"?document==null?void 0:document.title:null)!=null?RV:""),FV=()=>Jt.default.createElement(OV,null)}),$re=He(e=>{var t=xo();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),MV={};b2(MV,{default:()=>HV});var UV,VV,HV,Lre=P(()=>{qre(),UV=$(X()),VV=$($re()),zV(),rt(),GU(),HV=class{constructor(){et(this,"containerEl",document.createElement("div")),et(this,"_renderTimeout"),et(this,"_documentBodyUIIsRenderedIn"),et(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),VV.default.createRoot(this.containerShadow).render(UV.default.createElement(Wre,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=jV();return n.mountOrRender(YQ(Wk),{toolbarId:e},t),n.unmount}}}),Zre=He(e=>{e.compare=i,e.reduce=l;var t,n,o;e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=o=0;function i(m,v){var g=m.length,h=v.length,b=s(m,v),y=b<g&&b<h?u(m,v):0,k=y+b-1;g-=k,h-=k;for(var x=f(g,h),S=g-1;S>=0;--S)for(var _=h-1;_>=0;--_)x[_][S]=d(x,m,v,b,S,_);return{prefix:b,matrix:x,suffix:y}}function l(m,v,g){var h,b,y,k,x=g.matrix,S=g.prefix;for(h=0;h<S;++h)v=m(v,o,h,h);for(y=h,S=x.length,h=0,b=0;h<S;)switch(k=x[h][b].type,v=m(v,k,h+y,b+y),k){case o:++h,++b;break;case t:++b;break;case n:++h;break}for(h+=y,b+=y,S=g.suffix,y=0;y<S;++y)v=m(v,o,h+y,b+y);return v}function s(m,v){for(var g=0,h=Math.min(m.length,v.length);g<h&&m[g]===v[g];)++g;return g}function u(m,v){for(var g=m.length-1,h=v.length-1,b=Math.min(g,h),y=0;y<b&&m[g-y]===v[h-y];)++y;return y}function d(m,v,g,h,b,y){return v[b+h]===g[y+h]?{value:m[y+1][b+1].value,type:o}:m[y][b+1].value<m[y+1][b].value?{value:m[y][b+1].value+1,type:t}:{value:m[y+1][b].value+1,type:n}}function f(m,v){var g=[],h,b,y;for(y=g[v]=[],b=0;b<m;++b)y[b]={value:m-b,type:t};for(h=0;h<v;++h)g[h]=[],g[h][m]={value:v-h,type:n};return g[v][m]={value:0,type:o},g}}),KV=He(e=>{e.cons=t,e.tail=n,e.map=o;function t(i,l){var s=l.length,u=new Array(s+1);u[0]=i;for(var d=0;d<s;++d)u[d+1]=l[d];return u}function n(i){for(var l=i.length-1,s=new Array(l),u=0;u<l;++u)s[u]=i[u+1];return s}function o(i,l){for(var s=new Array(l.length),u=0;u<l.length;++u)s[u]=i(l[u]);return s}}),Gre=He((e,t)=>{t.exports=s;var n=/\/|~1|~0/g,o="/",i="~",l="~1";function s(u,d){var f,m,v,g;for(f=u.charAt(0)===o?1:0,m="",n.lastIndex=f;v=n.exec(u);)if(g=v[0],m+=u.slice(f,n.lastIndex-g.length),f=n.lastIndex,g===o){if(d(m)===!1)return u;m=""}else m+=g===l?o:i;return m+=u.slice(f),d(m),u}}),rw=He(e=>{var t=Gre();e.find=m,e.join=g,e.absolute=v,e.parse=h,e.contains=b,e.encodeSegment=k,e.decodeSegment=y,e.parseArrayIndex=_,e.isValidArrayIndex=S;var n="/",o=/\//g,i="~1",l=/~1/g,s="~",u=/~/g,d="~0",f=/~0/g;function m(j,z,V,W){if(typeof z=="string"){if(z==="")return{target:j,key:void 0};if(z===n)return{target:j,key:""};var B=j,Z,re=W!==void 0;return t(z,function(D){if(j==null)return B=null,!1;Array.isArray(j)?Z=re?O(V,_(D),j,W):D==="-"?D:_(D):Z=D,B=j,j=j[Z]}),B===null?void 0:{target:B,key:Z}}}function v(j){return j[0]===n?j:n+j}function g(j){return j.join(n)}function h(j){var z=[];return t(j,z.push.bind(z)),z}function b(j,z){return z.indexOf(j)===0&&z[j.length]===n}function y(j){return j.replace(l,n).replace(f,s)}function k(j){return j.replace(u,d).replace(o,i)}var x=/^(0|[1-9]\d*)$/;function S(j){return x.test(j)}function _(j){if(S(j))return+j;throw new SyntaxError("invalid array index "+j)}function O(j,z,V,W){var B=z;if(B<0)throw new Error("array index out of bounds "+B);if(W!==void 0&&typeof j=="function"&&(B=j(z,V,W),B<0))throw new Error("could not find patch context "+W);return B}}),WV=He((e,t)=>{t.exports=n;function n(l){return l==null||typeof l!="object"?l:Array.isArray(l)?o(l):i(l)}function o(l){for(var s=l.length,u=new Array(s),d=0;d<s;++d)u[d]=n(l[d]);return u}function i(l){for(var s=Object.keys(l),u={},d,f=0,m=s.length;f<m;++f)d=s[f],u[d]=n(l[d]);return u}}),Xre=He((e,t)=>{t.exports=n;function n(l,s){return l===s?!0:Array.isArray(l)&&Array.isArray(s)?o(l,s):typeof l=="object"&&typeof s=="object"?i(l,s):!1}function o(l,s){if(l.length!==s.length)return!1;for(var u=0;u<l.length;++u)if(!n(l[u],s[u]))return!1;return!0}function i(l,s){if(l===null&&s!==null||l!==null&&s===null)return!1;var u=Object.keys(l),d=Object.keys(s);if(u.length!==d.length)return!1;for(var f=0,m;f<u.length;++f)if(m=u[f],!(m in s&&n(l[m],s[m])))return!1;return!0}}),Qre=He((e,t)=>{var n=rw();t.exports=function(m,v){var g=n.parse(m.path),h=n.parse(v.path),b=d(g,h),y=l(g,h,b.length),k=f(m),x=f(v);return b.length===0&&!y?[x,k]:y?i(k,g,x,h):o(k,g,x)};function o(m,v,g,h){if(m.path===g.path)throw new TypeError("cannot commute "+m.op+","+g.op+" with identical object paths");return[g,m]}function i(m,v,g,h){return v.length===h.length?s(m,v,g,h):(v.length>h.length?(v=u(g,h,m,v,-1),m.path=n.absolute(n.join(v))):(h=u(m,v,g,h,1),g.path=n.absolute(n.join(h))),[g,m])}function l(m,v,g){return n.isValidArrayIndex(m[g])&&n.isValidArrayIndex(v[g])}function s(m,v,g,h){var b=v.length-1,y=+v[b],k=+h[b],x;return y<k?m.op==="add"||m.op==="copy"?(x=h.slice(),x[b]=Math.max(0,k-1),g.path=n.absolute(n.join(x))):m.op==="remove"&&(x=h.slice(),x[b]=k+1,g.path=n.absolute(n.join(x))):g.op==="add"||g.op==="copy"?(x=v.slice(),x[b]=y+1,m.path=n.absolute(n.join(x))):y>k&&g.op==="remove"&&(x=v.slice(),x[b]=Math.max(0,y-1),m.path=n.absolute(n.join(x))),[g,m]}function u(m,v,g,h,b){var y=v.length-1,k=+v[y],x=+h[y],S=h.slice();return k>x||(m.op==="add"||m.op==="copy"?S[y]=Math.max(0,x-b):m.op==="remove"&&(S[y]=Math.max(0,x+b))),S}function d(m,v){var g=m.length,h=v.length;if(g===0||h===0||g<2&&h<2)return[];for(var b=g===h?g-1:Math.min(g,h),y=0;y<b&&m[y]===v[y];)++y;return m.slice(0,y)}function f(m){return m.op==="remove"?{op:m.op,path:m.path}:m.op==="copy"||m.op==="move"?{op:m.op,path:m.path,from:m.from}:{op:m.op,path:m.path,value:m.value}}}),qV=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),ow=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),$V=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),LV=He(e=>{var t=rw(),n=WV(),o=Xre(),i=Qre(),l=KV(),s=qV(),u=ow(),d=$V(),f=t.find,m=t.parseArrayIndex;e.test={apply:v,inverse:g,commute:h},e.add={apply:b,inverse:k,commute:x},e.remove={apply:j,inverse:V,commute:W},e.replace={apply:S,inverse:_,commute:O},e.move={apply:B,inverse:Z,commute:re},e.copy={apply:D,inverse:G,commute:x};function v(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=ge.target,N,oe;if(Array.isArray(A)?(N=m(ge.key),oe=A[N]):oe=ge.key===void 0?ge.target:ge.target[ge.key],!o(oe,K.value))throw new s("test failed "+JSON.stringify(K));return q}function g(q,K){return q.push(K),1}function h(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function b(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);return ge.key===void 0?A:(y(ge,A),q)}function y(q,K){var ee=q.target;if(Array.isArray(ee))if(q.key==="-")ee.push(K);else{if(q.key>ee.length)throw new u("target of add outside of array bounds");ee.splice(q.key,0,K)}else if(xe(ee))ee[q.key]=K;else throw new u("target of add must be an object or array "+q.key)}function k(q,K){var ee=K.context;return ee!==void 0&&(ee={before:ee.before,after:l.cons(K.value,ee.after)}),q.push({op:"test",path:K.path,value:K.value,context:ee}),q.push({op:"remove",path:K.path,context:ee}),1}function x(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(q,K)}function S(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||Y(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);if(ge.key===void 0)return A;var N=ge.target;return Array.isArray(N)?N[m(ge.key)]=A:N[ge.key]=A,q}function _(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert replace w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.cons(A.value,l.tail(N.after))}),q.push({op:"test",path:A.path,value:K.value}),q.push({op:"replace",path:A.path,value:A.value}),2}function O(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function j(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||ge.target[ge.key]===void 0)throw new u("path does not exist "+K.path);return z(ge),q}function z(q){var K=q.target,ee;if(Array.isArray(K))return ee=K.splice(m(q.key),1),ee[0];if(xe(K))return ee=K[q.key],delete K[q.key],ee;throw new u("target of remove must be an object or array")}function V(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert remove w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.tail(N.after)}),q.push({op:"add",path:A.path,value:A.value,context:N}),2}function W(q,K){return q.path===K.path&&K.op==="remove"?[K,q]:i(q,K)}function B(q,K,ee){if(t.contains(K.path,K.from))throw new u("move.from cannot be ancestor of move.path");var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);return y(ge,z(A)),q}function Z(q,K){return q.push({op:"move",path:K.from,context:K.fromContext,from:K.path,fromContext:K.context}),1}function re(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(q,K)}function D(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);if(C(A)||Y(A))throw new u("copy.from must exist");var N=A.target,oe;return Array.isArray(N)?oe=N[m(A.key)]:oe=N[A.key],y(ge,n(oe)),q}function G(q,K){throw new d("cannot invert "+K.op)}function C(q){return q===void 0||q.target==null&&q.key!==void 0}function Y(q){return q.key!==void 0&&q.target[q.key]===void 0}function xe(q){return q!==null&&typeof q=="object"}}),Yre=He(e=>{var t=LV(),n=WV(),o=ow();e.apply=l,e.applyInPlace=s,e.clone=n,e.isValidObject=d,e.defaultHash=u;var i={};function l(m,v,g){return s(m,n(v),g)}function s(m,v,g){if(g||(g=i),!Array.isArray(m))return v;for(var h,b,y=0;y<m.length;++y){if(b=m[y],h=t[b.op],h===void 0)throw new o("invalid op "+JSON.stringify(b));v=h.apply(v,b,g)}return v}function u(m){return d(m)||f(m)?JSON.stringify(m):m}function d(m){return m!==null&&Object.prototype.toString.call(m)==="[object Object]"}function f(m){return Object.prototype.toString.call(m)==="[object Array]"}}),Jre=He((e,t)=>{var n=LV();t.exports=function(i){var l=[],s,u;for(s=i.length-1;s>=0;s-=u)u=o(l,i[s],s,i);return l};function o(i,l,s,u){var d=n[l.op];return d!==void 0&&typeof d.inverse=="function"?d.inverse(i,l,s,u):1}}),eoe=He(e=>{var t=Zre(),n=KV(),o=Yre(),i=Jre(),l=rw(),s=l.encodeSegment;e.diff=f,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=i,e.clone=o.clone,e.InvalidPatchOperationError=ow(),e.TestFailedError=qV(),e.PatchNotInvertibleError=$V();var u=o.isValidObject,d=o.defaultHash;function f(_,O,j){return v(_,O,"",m(j,[])).patch}function m(_,O){return typeof _=="object"?{patch:O,hash:k(S,_.hash,d),makeContext:k(S,_.makeContext,x),invertible:_.invertible!==!1}:{patch:O,hash:k(S,_,d),makeContext:x,invertible:!0}}function v(_,O,j,z){return Array.isArray(_)&&Array.isArray(O)?h(_,O,j,z):u(_)&&u(O)?g(_,O,j,z):y(_,O,j,z)}function g(_,O,j,z){var V=Object.keys(O),W=z.patch,B,Z;for(B=V.length-1;B>=0;--B){Z=V[B];var re=j+"/"+s(Z);_[Z]!==void 0?v(_[Z],O[Z],re,z):W.push({op:"add",path:re,value:O[Z]})}for(V=Object.keys(_),B=V.length-1;B>=0;--B)if(Z=V[B],O[Z]===void 0){var D=j+"/"+s(Z);z.invertible&&W.push({op:"test",path:D,value:_[Z]}),W.push({op:"remove",path:D})}return z}function h(_,O,j,z){var V=n.map(z.hash,_),W=n.map(z.hash,O),B=t.compare(V,W);return b(_,O,j,z,B)}function b(_,O,j,z,V){var W=0;return t.reduce(function(B,Z,re,D){var G,C,Y=B.patch,xe=j+"/"+(D+W);return Z===t.REMOVE?(G=Y[Y.length-1],C=B.makeContext(D,_),B.invertible&&Y.push({op:"test",path:xe,value:_[D],context:C}),G!==void 0&&G.op==="add"&&G.path===xe?(G.op="replace",G.context=C):Y.push({op:"remove",path:xe,context:C}),W-=1):Z===t.ADD?(Y.push({op:"add",path:xe,value:O[re],context:B.makeContext(D,_)}),W+=1):v(_[D],O[re],xe,B),B},z,V)}function y(_,O,j,z){return _!==O&&(z.invertible&&z.patch.push({op:"test",path:j,value:_}),z.patch.push({op:"replace",path:j,value:O})),z}function k(_,O,j){return _(O)?O:j}function x(){}function S(_){return typeof _=="function"}}),Xi=He((e,t)=>{function n(o,i){for(var l=0,s=i.length-1;l<s;l++){if(!o[i[l]])return null;o=o[i[l]]}return o}t.exports=n}),Ba=He((e,t)=>{function n(i){return i==="~0"?"~":"/"}function o(i){var l=i.split("/");if(i.indexOf("~")===-1)return l;for(var s=0,u=l.length;s<u;s++)l[s].indexOf("~")!==-1&&(l[s]=l[s].replace(/~[01]/g,n));return l}t.exports=o}),toe=He((e,t)=>{var n=Xi(),o=Ba();function i(l,s){var u=o(s),d=u[u.length-1],f=n(l,u);return f?f[d]:void 0}t.exports=i}),cm=He((e,t)=>{function n(o,i){if(o===i)return!0;if(!(o&&i)||typeof o!="object"||typeof i!="object"||o.length!==i.length)return!1;if(Array.isArray(o)){if(!Array.isArray(i))return!1;for(var l=0,s=o.length;l<s;l++)if(!n(o[l],i[l]))return!1;return!0}var u=Object.keys(o);if(u.length!==Object.keys(i).length)return!1;for(var d=0,f=u.length;d<f;d++){var m=u[d];if(!n(o[m],i[m]))return!1}return!0}t.exports=n}),dm=He((e,t)=>{function n(o,i){if(i==="-")return o.length;for(var l=0,s=i.length;l<s;l++){var u=i.charCodeAt(l);if(57<u||u<48)return 1/0}return+i}t.exports=n}),fm=He((e,t)=>{var n=cm(),o=Xi(),i=dm(),l=Ba();function s(u,d,f,m){if(typeof f>"u")return"[op:add] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:add] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<b)return"[op:add] invalid array index: "+d;m(u,v).splice(b,0,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),ZV=He((e,t)=>{var n=Xi(),o=dm(),i=Ba();function l(s,u,d){var f=i(u),m=f[f.length-1],v=n(s,f);if(v===null)return"[op:remove] path not found: "+u;if(Array.isArray(v)){var g=o(v,m);if(v.length<=g)return"[op:remove] invalid array index: "+u;d(s,f).splice(g,1)}else delete d(s,f)[m]}t.exports=l}),GV=He((e,t)=>{var n=cm(),o=Xi(),i=dm(),l=Ba();function s(u,d,f,m){if(typeof f>"u")return"[op:replace] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:replace] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<=b)return"[op:replace] invalid array index: "+d;n(h[b],f)||m(u,v).splice(b,1,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),XV=He((e,t)=>{var n=fm(),o=Xi(),i=dm(),l=Ba();function s(u,d,f,m){if(f!==d){var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:move] path not found: "+d;var b=void 0;if(Array.isArray(h)){var y=i(h,g);if(h.length<=y)return"[op:move] invalid array index: "+f;b=h[y],m(u,v).splice(y,1)}else b=h[g],delete m(u,v)[g];return n(u,f,b,m)}}t.exports=s}),QV=He((e,t)=>{var n=Xi(),o=Ba(),i=fm();function l(s,u,d,f){var m=o(u),v=m[m.length-1],g=n(s,m);return g===null?"[op:copy] path not found: "+u:i(s,d,g[v],f)}t.exports=l}),YV=He((e,t)=>{var n=cm(),o=Xi(),i=Ba();function l(s,u,d){var f=i(u),m=f[f.length-1],v=o(s,f);if(v===null)return"[op:test] path not found: "+u;if(!n(v[m],d)){var g=JSON.stringify(v[m]),h=JSON.stringify(d);return"[op:test] not matched: "+g+" "+h}}t.exports=l}),aw=He((e,t)=>{function n(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var i=o.length,l=new Array(i),s=0;s<i;s++)l[s]=o[s];return l}for(var u=Object.keys(o),d={},f=0,m=u.length;f<m;f++){var v=u[f];d[v]=o[v]}return d}t.exports=n}),noe=He((e,t)=>{var n=toe(),o=fm(),i=ZV(),l=GV(),s=XV(),u=QV(),d=YV(),f=cm(),m=aw(),v=Ba();function g(h,b){return{get:function(y){return n(h,y)},add:function(y,k){return o(h,y,k,b)},remove:function(y){return i(h,y,b)},replace:function(y,k){return l(h,y,k,b)},move:function(y,k){return s(h,y,k,b)},copy:function(y,k){return u(h,y,k,b)},test:function(y,k){return d(h,y,k)},deepEqual:f,shallowCopy:m,toKeys:v}}t.exports=g}),roe=He((e,t)=>{function n(o,i,l,s){return s.error=l,s.partial?i[""]:o}t.exports=n}),ooe=He((e,t)=>{function n(o){return!!o}t.exports=n}),aoe=He((e,t)=>{function n(o){if(o)throw new TypeError(o)}t.exports=n}),ioe=He((e,t)=>{var n=aw();function o(i,l){for(var s=0,u=l.length-1;s<u;s++)i=i[l[s]]=n(i[l[s]]);return i}t.exports=o}),loe=He((e,t)=>{var n=aw();function o(l,s,u){var d=l[s];return u.has(d)||(d=n(d),u.add(d)),d}function i(l,s,u){for(var d=0,f=s.length-1;d<f;d++)l=l[s[d]]=o(l,s[d],u);return l}t.exports=i}),soe=He((e,t)=>{var n=noe(),o=roe(),i=ooe(),l=aoe(),s=ioe(),u=loe(),d=fm(),f=ZV(),m=GV(),v=XV(),g=QV(),h=YV(),b=Set||function(){var k=[];return k.has=function(x){return this.indexOf(x)!==-1},k.add=function(x){this.push(x)},k};function y(k,x,S){if(x.length===0)return k;S=S||{};for(var _=S.strict?l:i,O=x.length===1?s:function(Z){return function(re,D){return u(re,D,Z)}}(new b),j={"":k},z,V=0,W=x.length;V<W;V++){var B=x[V];switch(B.op){case"add":if(_(d(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"remove":if(_(f(j,""+B.path,O)))return o(k,j,B,S);break;case"replace":if(_(m(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"move":if(_(v(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"copy":if(_(g(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"test":if(_(h(j,""+B.path,B.value)))return o(k,j,B,S);break;default:if(S.custom&&S.custom[B.op]){if(z=z||n(j,O),_(S.custom[B.op](z,B,V,x)))return o(k,j,B,S)}else return _("[op:"+B.op+"] unknown"),o(k,j,B,S);break}}return j[""]}t.exports=y}),uoe=He((e,t)=>{t.exports=soe()}),coe=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():n.blobCompare=o()})(window,function(){return function(n){var o={};function i(l){if(o[l])return o[l].exports;var s=o[l]={i:l,l:!1,exports:{}};return n[l].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(l,s,u){i.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,s){if(1&s&&(l=i(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)i.d(u,d,(function(f){return l[f]}).bind(null,d));return u},i.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(s,"a",s),s},i.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},i.p="",i(i.s=4)}([function(n,o,i){var l=function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function(g,h){var b=[],y=!0,k=!1,x=void 0;try{for(var S,_=g[Symbol.iterator]();!(y=(S=_.next()).done)&&(b.push(S.value),!h||b.length!==h);y=!0);}catch(O){k=!0,x=O}finally{try{!y&&_.return&&_.return()}finally{if(k)throw x}}return b}(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function m(v,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,h){return g&&m(v.prototype,g),h&&m(v,h),v}}();function u(m){if(Array.isArray(m)){for(var v=0,g=Array(m.length);v<m.length;v++)g[v]=m[v];return g}return Array.from(m)}var d=i(2),f=function(m){function v(g){(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v);var h=function(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?b:y}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return h._messageId=1,h._messages=new Map,h._worker=g,h._worker.onmessage=h._onMessage.bind(h),h._id=Math.ceil(1e7*Math.random()),h}return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(v,m),s(v,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],k=arguments[3];return new Promise(function(x,S){var _=b._messageId++;b._messages.set(_,[x,S,k]),b._worker.postMessage([_,h,g],y||[])})}},{key:"postMessage",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments[2];return new Promise(function(k,x){var S=h._messageId++;h._messages.set(S,[k,x,y]),h._worker.postMessage([S,g],b||[])})}},{key:"emit",value:function(g){for(var h=arguments.length,b=Array(h>1?h-1:0),y=1;y<h;y++)b[y-1]=arguments[y];this._worker.postMessage({eventName:g,args:b})}},{key:"_onMessage",value:function(g){var h;if(!Array.isArray(g.data)&&g.data.eventName)return(h=function S(_,O,j){_===null&&(_=Function.prototype);var z=Object.getOwnPropertyDescriptor(_,O);if(z===void 0){var V=Object.getPrototypeOf(_);return V===null?void 0:S(V,O,j)}if("value"in z)return z.value;var W=z.get;return W!==void 0?W.call(j):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this)).call.apply(h,[this,g.data.eventName].concat(u(g.data.args)));var b,y=(b=g.data,Array.isArray(b)?b:Array.from(b)),k=y[0],x=y.slice(1);if(k===1)this._onEvent.apply(this,u(x));else{if(k!==0)throw new Error("Wrong message type '"+k+"'");this._onResult.apply(this,u(x))}}},{key:"_onResult",value:function(g,h,b){var y=this._messages.get(g),k=l(y,2),x=k[0],S=k[1];return this._messages.delete(g),h===1?x(b):S(b)}},{key:"_onEvent",value:function(g,h,b){var y=this._messages.get(g),k=l(y,3)[2];k&&k(h,b)}}]),v}(d);n.exports=f},function(n,o,i){n.exports=function(){return i(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(n,o,i){var l=function(){function u(d,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,f,m){return f&&u(d.prototype,f),m&&u(d,m),d}}(),s=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return l(u,[{key:"emit",value:function(d){if(!this.__listeners[d])return this;for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];var g=!0,h=!1,b=void 0;try{for(var y,k=this.__listeners[d][Symbol.iterator]();!(g=(y=k.next()).done);g=!0){var x=y.value;x.apply(void 0,m)}}catch(S){h=!0,b=S}finally{try{!g&&k.return&&k.return()}finally{if(h)throw b}}return this}},{key:"once",value:function(d,f){var m=this,v=function g(){m.off(d,g),f.apply(void 0,arguments)};return this.on(d,v)}},{key:"on",value:function(d,f){return this.__listeners[d]||(this.__listeners[d]=[]),this.__listeners[d].push(f),this}},{key:"off",value:function(d,f){return this.__listeners[d]=f?this.__listeners[d].filter(function(m){return m!==f}):[],this}}]),u}();n.exports=s},function(n,o,i){var l=window.URL||window.webkitURL;n.exports=function(s,u){try{try{var d;try{(d=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(s),d=d.getBlob()}catch{d=new Blob([s])}return new Worker(l.createObjectURL(d))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(s))}}catch{if(!u)throw Error("Inline worker is not supported");return new Worker(u)}}},function(n,o,i){i.r(o);var l=i(0),s=i.n(l),u=i(1),d=i.n(u);i.d(o,"workersEnabled",function(){return f}),i.d(o,"default",function(){return m});let f=!!window.Worker;class m{static toBinaryStringWithWorker(g,h){return Ht(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("binary",{blob:g,chunk:h});return b.terminate(),y})}static toBinaryStringWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsBinaryString(O)})}(g,h)}static toBinaryString(g,h,b=!0){return b&&f?this.toBinaryStringWithWorker(g,h):this.toBinaryStringWithoutWorker(g,h)}static toArrayBufferWithWorker(g,h){return Ht(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("buffer",{blob:g,chunk:h});return b.terminate(),y})}static toArrayBufferWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsArrayBuffer(O)})}(g,h)}static toArrayBuffer(g,h,b=!0){return b&&f?this.toArrayBufferWithWorker(g,h):this.toArrayBufferWithoutWorker(g,h)}static compareBuffersWithWorker(g,h){return Ht(this,null,function*(){if(g===h)return!0;let b=new s.a(new d.a),y=yield b.exec("compare",{buf1:g,buf2:h},[g,h]);return b.terminate(),y})}static compareBuffersWithoutWorker(g,h){return function(b,y){if(b===y)return!0;if(b.byteLength!==y.byteLength)return!1;let k=new DataView(b),x=new DataView(y);for(var S=b.byteLength;S--;)if(k.getUint8(S)!==x.getUint8(S))return!1;return!0}(g,h)}static compareBuffers(g,h,b=!0){return b&&f?this.compareBuffersWithWorker(g,h):this.compareBuffersWithoutWorker(g,h)}static sizeEqual(g,h){return g.size===h.size}static typeEqual(g,h){return g.type===h.type}static magicNumbersEqual(g,h,b=!0){return Ht(this,null,function*(){if(g===h)return!0;let y=[24,16,14,12,8,6,4],[k,x]=yield Promise.all([this.toBinaryString(g,24,b),this.toBinaryString(h,24,b)]);for(let S of y)if(k.substring(0,S)===x.substring(0,S))return!0;return!1})}static bytesEqualWithBinaryString(g,h,b,y=!0){return Ht(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toBinaryString(g,b,y),this.toBinaryString(h,b,y)]);return k===x})}static bytesEqualWithArrayBuffer(g,h,b,y=!0){return Ht(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toArrayBuffer(g,b,y),this.toArrayBuffer(h,b,y)]);return this.compareBuffers(k,x,y)})}static isEqual(g,h){return Ht(this,arguments,function*(b,y,{methods:k=["size","type","magic","byte"],byte:x="buffer",partial:S=!1,chunks:_=null,worker:O=!0}={}){let j=null;for(let z of k){if(j===!1||S&&j===!0)break;switch(z){case"byte":case"bytes":case"content":_=_ instanceof Array?_:[b.size],j=!0;for(let V of _){let W=!1;W=x==="buffer"?yield this.bytesEqualWithArrayBuffer(b,y,V,O):yield this.bytesEqualWithBinaryString(b,y,V,O),W||(j=!1)}break;case"magic":case"headers":case"numbers":case"mime":j=yield this.magicNumbersEqual(b,y,O);break;case"size":case"sizes":j=this.sizeEqual(b,y);break;case"type":case"types":j=this.typeEqual(b,y);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return j})}}}])})}),JV={};b2(JV,{ToolbarDropdownSelect:()=>Iae,default:()=>Oae}),Vt.exports=_q(JV),Ne(),qg();var eH=je;ni();var doe=0,foe=class{constructor(e){this._studio=e,et(this,"_id"),et(this,"_state",{type:"Ready"}),this._id=String(doe++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=L({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],n=this._studio.tempTransaction(i=>{let l=!0,s={set:(u,d)=>{if(!l)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:f,path:m}=(0,eH.getPointerParts)(u);if(!fr(f))throw new Error("We can only scrub props of Sheet Objects for now");i.set(u,d),t.push(u)}};try{e(s)}finally{l=!1}}),o=this._studio.tempTransaction(({stateEditors:i})=>{t.forEach(l=>{let{root:s,path:u}=(0,eH.getPointerParts)(l);if(!fr(s))return;let d=s.template.getDefaultsAtPointer(l);Md(d,(f,m)=>{i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(he(L({},s.address),{pathToProp:m}))},u)})});return{transaction:n,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},poe=je,tH=typeof window<"u"?Promise.resolve().then(()=>(Lre(),MV)).then(e=>e.default):null,hoe=class{constructor(e){this.studio=e,et(this,"_rendered",!1),et(this,"_nonSSRBits",tH?tH.then(t=>new t):Promise.reject()),et(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,poe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let n=!1,o=null;return this._nonSSRBits.then(i=>{n||(o=i.renderToolset(e,t))}).catch(i=>{console.error(i)}),()=>{if(o){o();return}n||(n=!0)}}},pm=je;function moe(e){return e}var goe=(e,t=moe)=>{let n=o=>({type:e,payload:t(o)});return n.type=e,n.is=o=>o&&o.type&&o.type===e,n},mo=goe,nH=$(eoe()),rH=$(uoe());kf();var hm,voe=new Uint8Array(16);function yoe(){if(!hm&&(hm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hm(voe)}var boe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function koe(e){return typeof e=="string"&&boe.test(e)}var woe=koe,en=[];for(mm=0;mm<256;++mm)en.push((mm+256).toString(16).substr(1));var mm;function xoe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(en[e[t+0]]+en[e[t+1]]+en[e[t+2]]+en[e[t+3]]+"-"+en[e[t+4]]+en[e[t+5]]+"-"+en[e[t+6]]+en[e[t+7]]+"-"+en[e[t+8]]+en[e[t+9]]+"-"+en[e[t+10]]+en[e[t+11]]+en[e[t+12]]+en[e[t+13]]+en[e[t+14]]+en[e[t+15]]).toLowerCase();if(!woe(n))throw TypeError("Stringified UUID is invalid");return n}var Soe=xoe;function Eoe(e,t,n){e=e||{};var o=e.random||(e.rng||yoe)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return Soe(o)}var _oe=Eoe,$c={replaceHistory:mo("@history/replaceHistory"),startHistoryFromScratch:mo("@history/startHistoryFromScratch"),undo:mo("@history/undo"),redo:mo("@history/redo")},Poe={type:"@history/unknownAction",payload:""},Coe={maxNumberOfCommits:100},Ioe=(e,t=Coe)=>{let n=iw(e(void 0,Poe));return function(o,i){return $c.startHistoryFromScratch.is(i)?iw(e(void 0,i.payload)):$c.replaceHistory.is(i)?i.payload:$c.undo.is(i)?o?Toe(o):n:$c.redo.is(i)?o?zoe(o):n:o?joe(o,e(o.innerState,i),t):iw(e(void 0,i))}};function iw(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function joe(e,t,n){if(t===e.innerState)return e;let o=Ooe(e.innerState,t);if(o.forwardDiff.length===0)return e;let i=si(e.listOfCommitHashes),l={currentCommitHash:o.hash,commitsByHash:L({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let s=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);e.listOfCommitHashes.slice(s+1).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(s+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(o.hash),l.commitsByHash[o.hash]=o,l.listOfCommitHashes.length>n.maxNumberOfCommits){let s=l.listOfCommitHashes.length-n.maxNumberOfCommits;l.listOfCommitHashes.slice(0,s).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(0,s)}return l}function Ooe(e,t){let n=nH.default.diff(e,t,{invertible:!1}),o=nH.default.diff(t,e,{invertible:!1}),i=Date.now(),l=_oe();return{forwardDiff:n,backwardDiff:o,timestamp:i,hash:l}}function Toe(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],o=(0,rH.default)(e.innerState,n.backwardDiff),i=t-1,l=i===-1?void 0:e.listOfCommitHashes[i];return he(L({},e),{currentCommitHash:l,innerState:o})}function zoe(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,o=e.listOfCommitHashes[n],i=e.commitsByHash[o],l=(0,rH.default)(e.innerState,i.forwardDiff);return he(L({},e),{currentCommitHash:o,innerState:l})}Gh();var gm={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},oH=mo("@storeBundle/replacePersistentState",e=>e),aH=mo("@storeBundle/reduceParts",e=>e),xs={historic:$c,replacePersistentState:oH,reduceParts:aH},iH=mo("@storeBundle/setInnerHistoricState",e=>e),Doe=(e=gm.historic,t)=>iH.is(t)?t.payload:e,lw=Ioe(Doe),lH=(e,t)=>{if(oH.is(t)){let{historic:n,ahistoric:o}=t.payload,i=(e==null?void 0:e.ephemeral)||gm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}else if(e){let{historic:n,ahistoric:o}=e.$persistent,{ephemeral:i}=e;if(aH.is(t)){let l={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},s=t.payload(l);if(s===l)return e;n.innerState!==s.historic&&(n=lw(n,iH(s.historic))),o=s.ahistoric,i=s.ephemeral}else{let l=lw(n,t);if(l===n)return e;n=l}return{$persistent:n===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:o},ephemeral:i}}else{let n=lw(void 0,{}),o=gm.ahistoric,i=gm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}},sH=mo("@history/pushTempAction",e=>e),uH=mo("@history/discardTempAction",e=>e),cH=mo("@history/commitTempAction",e=>e),Aoe=0,Boe=()=>{let e=Aoe++;return{push:t=>sH({id:e,originalAction:t}),discard:()=>uH(e),commit:()=>cH(e)}},Noe=(e,t)=>{if(e){let{tempActions:n,permanent:o}=e.$temps,i;if(sH.is(t))n=[...n,t];else if(cH.is(t)){let s=n.find(u=>u.payload.id===t.payload);s?(i=s.payload.originalAction,n=n.filter(u=>u.payload.id!==t.payload)):Zh.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else uH.is(t)?n=n.filter(s=>s.payload.id!==t.payload):i=t;i&&(o=lH(e.$temps.permanent,i));let l={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let s of n)l=s.payload.originalAction.payload(l);return L({$temps:{tempActions:n,permanent:o},$persistent:o.$persistent},l)}else{let n=lH(void 0,t);return{$temps:{permanent:n,tempActions:[]},$persistent:n.$persistent,historic:n.$persistent.historic.innerState,ahistoric:n.$persistent.ahistoric,ephemeral:n.ephemeral}}};no(),no(),Do();function dH(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let s of Object.keys(e))delete e[s];return}let n=t.slice(0,t.length-1),o=e,i=new WeakMap;for(let s of n){let u=o,d=u[s];if(typeof d!="object"||d===null)return;i.set(d,u),o=d}let l=t.slice().reverse();for(let s of l){if(delete o[s],Object.keys(o).length>0)return;o=i.get(o)}}function Roe(e,{scale:t,origin:n,translate:o}){let i=n+(e-n)*t;return o+i}function Tr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ss(e){return!!e&&!!e[Vn]}function Qi(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Woe}(e)||Array.isArray(e)||!!e[wH]||!!e.constructor[wH]||uw(e)||cw(e))}function Lc(e,t,n){n===void 0&&(n=!1),Es(e)===0?(n?Object.keys:xw)(e).forEach(function(o){n&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,i){return t(i,o,e)})}function Es(e){var t=e[Vn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:uw(e)?2:cw(e)?3:0}function sw(e,t){return Es(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Foe(e,t){return Es(e)===2?e.get(t):e[t]}function fH(e,t,n){var o=Es(e);o===2?e.set(t,n):o===3?(e.delete(t),e.add(n)):e[t]=n}function Moe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function uw(e){return Hoe&&e instanceof Map}function cw(e){return Koe&&e instanceof Set}function Yi(e){return e.o||e.t}function dw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=qoe(e);delete t[Vn];for(var n=xw(t),o=0;o<n.length;o++){var i=n[o],l=t[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(t[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function fw(e,t){return t===void 0&&(t=!1),pw(e)||Ss(e)||!Qi(e)||(Es(e)>1&&(e.set=e.add=e.clear=e.delete=Uoe),Object.freeze(e),t&&Lc(e,function(n,o){return fw(o,!0)},!0)),e}function Uoe(){Tr(2)}function pw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Wo(e){var t=$oe[e];return t||Tr(18,e),t}function pH(){return Zc}function hw(e,t){t&&(Wo("Patches"),e.u=[],e.s=[],e.v=t)}function vm(e){mw(e),e.p.forEach(Voe),e.p=null}function mw(e){e===Zc&&(Zc=e.l)}function hH(e){return Zc={p:[],l:Zc,h:e,m:!0,_:0}}function Voe(e){var t=e[Vn];t.i===0||t.i===1?t.j():t.O=!0}function gw(e,t){t._=t.p.length;var n=t.p[0],o=e!==void 0&&e!==n;return t.h.g||Wo("ES5").S(t,e,o),o?(n[Vn].P&&(vm(t),Tr(4)),Qi(e)&&(e=ym(t,e),t.l||bm(t,e)),t.u&&Wo("Patches").M(n[Vn],e,t.u,t.s)):e=ym(t,n,[]),vm(t),t.u&&t.v(t.u,t.s),e!==kH?e:void 0}function ym(e,t,n){if(pw(t))return t;var o=t[Vn];if(!o)return Lc(t,function(l,s){return mH(e,o,t,l,s,n)},!0),t;if(o.A!==e)return t;if(!o.P)return bm(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=o.i===4||o.i===5?o.o=dw(o.k):o.o;Lc(o.i===3?new Set(i):i,function(l,s){return mH(e,o,i,l,s,n)}),bm(e,i,!1),n&&e.u&&Wo("Patches").R(o,n,e.u,e.s)}return o.o}function mH(e,t,n,o,i,l){if(Ss(i)){var s=ym(e,i,l&&t&&t.i!==3&&!sw(t.D,o)?l.concat(o):void 0);if(fH(n,o,s),!Ss(s))return;e.m=!1}if(Qi(i)&&!pw(i)){if(!e.h.F&&e._<1)return;ym(e,i),t&&t.A.l||bm(e,i)}}function bm(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&fw(t,n)}function vw(e,t){var n=e[Vn];return(n?Yi(n):e)[t]}function gH(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function yw(e){e.P||(e.P=!0,e.l&&yw(e.l))}function bw(e){e.o||(e.o=dw(e.t))}function kw(e,t,n){var o=uw(t)?Wo("MapSet").N(t,n):cw(t)?Wo("MapSet").T(t,n):e.g?function(i,l){var s=Array.isArray(i),u={i:s?1:0,A:l?l.A:pH(),P:!1,I:!1,D:{},l,t:i,k:null,o:null,j:null,C:!1},d=u,f=wm;s&&(d=[u],f=xm);var m=Proxy.revocable(d,f),v=m.revoke,g=m.proxy;return u.k=g,u.j=v,g}(t,n):Wo("ES5").J(t,n);return(n?n.A:pH()).p.push(o),o}function km(e){return Ss(e)||Tr(22,e),function t(n){if(!Qi(n))return n;var o,i=n[Vn],l=Es(n);if(i){if(!i.P&&(i.i<4||!Wo("ES5").K(i)))return i.t;i.I=!0,o=vH(n,l),i.I=!1}else o=vH(n,l);return Lc(o,function(s,u){i&&Foe(i.t,s)===u||fH(o,s,t(u))}),l===3?new Set(o):o}(e)}function vH(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return dw(e)}var yH,Zc,ww=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Hoe=typeof Map<"u",Koe=typeof Set<"u",bH=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kH=ww?Symbol.for("immer-nothing"):((yH={})["immer-nothing"]=!0,yH),wH=ww?Symbol.for("immer-draftable"):"__$immer_draftable",Vn=ww?Symbol.for("immer-state"):"__$immer_state",Woe=""+Object.prototype.constructor,xw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,qoe=Object.getOwnPropertyDescriptors||function(e){var t={};return xw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},$oe={},wm={get:function(e,t){if(t===Vn)return e;var n=Yi(e);if(!sw(n,t))return function(i,l,s){var u,d=gH(l,s);return d?"value"in d?d.value:(u=d.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var o=n[t];return e.I||!Qi(o)?o:o===vw(e.t,t)?(bw(e),e.o[t]=kw(e.A.h,o,e)):o},has:function(e,t){return t in Yi(e)},ownKeys:function(e){return Reflect.ownKeys(Yi(e))},set:function(e,t,n){var o=gH(Yi(e),t);if(o!=null&&o.set)return o.set.call(e.k,n),!0;if(!e.P){var i=vw(Yi(e),t),l=i==null?void 0:i[Vn];if(l&&l.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Moe(n,i)&&(n!==void 0||sw(e.t,t)))return!0;bw(e),yw(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return vw(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,bw(e),yw(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Yi(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty:function(){Tr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Tr(12)}},xm={};Lc(wm,function(e,t){xm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xm.deleteProperty=function(e,t){return wm.deleteProperty.call(this,e[0],t)},xm.set=function(e,t,n){return wm.set.call(this,e[0],t,n,e[0])};var Loe=function(){function e(n){var o=this;this.g=bH,this.F=!0,this.produce=function(i,l,s){if(typeof i=="function"&&typeof l!="function"){var u=l;l=i;var d=o;return function(h){var b=this;h===void 0&&(h=u);for(var y=arguments.length,k=Array(y>1?y-1:0),x=1;x<y;x++)k[x-1]=arguments[x];return d.produce(h,function(S){var _;return(_=l).call.apply(_,[b,S].concat(k))})}}var f;if(typeof l!="function"&&Tr(6),s!==void 0&&typeof s!="function"&&Tr(7),Qi(i)){var m=hH(o),v=kw(o,i,void 0),g=!0;try{f=l(v),g=!1}finally{g?vm(m):mw(m)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return hw(m,s),gw(h,m)},function(h){throw vm(m),h}):(hw(m,s),gw(f,m))}if(!i||typeof i!="object")return(f=l(i))===kH?void 0:(f===void 0&&(f=i),o.F&&fw(f,!0),f);Tr(21,i)},this.produceWithPatches=function(i,l){return typeof i=="function"?function(d){for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];return o.produceWithPatches(d,function(g){return i.apply(void 0,[g].concat(m))})}:[o.produce(i,l,function(d,f){s=d,u=f}),s,u];var s,u},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Qi(n)||Tr(8),Ss(n)&&(n=km(n));var o=hH(this),i=kw(this,n,void 0);return i[Vn].C=!0,mw(o),i},t.finishDraft=function(n,o){var i=n&&n[Vn],l=i.A;return hw(l,o),gw(void 0,l)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!bH&&Tr(20),this.g=n},t.applyPatches=function(n,o){var i;for(i=o.length-1;i>=0;i--){var l=o[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}var s=Wo("Patches").$;return Ss(n)?s(n,o):this.produce(n,function(u){return s(u,o.slice(i+1))})},e}(),Hn=new Loe;Hn.produce,Hn.produceWithPatches.bind(Hn),Hn.setAutoFreeze.bind(Hn),Hn.setUseProxies.bind(Hn),Hn.applyPatches.bind(Hn);var Sw=Hn.createDraft.bind(Hn),Ew=Hn.finishDraft.bind(Hn);TG(),MG(),rX(),uv(),iX(),$h(),Rt(),ni();var zr={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,o]of e)t.byId[n]=o,t.allIds[n]=!0;return t},shallowCopy(e){return{byId:L({},e==null?void 0:e.byId),allIds:L({},e==null?void 0:e.allIds)}},add(e,t,n){return{byId:he(L({},e==null?void 0:e.byId),{[t]:n}),allIds:he(L({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=zr.create();for(let n=0;n<e.length;n++)t.byId=L(L({},t.byId),e[n].byId),t.allIds=L(L({},t.allIds),e[n].allIds);return t},remove(e,t){let n=zr.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=zr.shallowCopy(e);for(let[o,i]of Object.entries(n.byId))t(i)||(delete n.allIds[o],delete n.byId[o]);return n}},xH=e=>(_w=e,Pw),_w,tn=()=>{if(_w===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return _w},Pw;(e=>{(t=>{(n=>{(o=>{function i(l){let s=tn().historic;s.panelPositions!=null||(s.panelPositions={}),s.panelPositions[l.panelId]=l.position}o.setPanelPosition=i})(n.panelPositions||(n.panelPositions={})),(o=>{function i(){var l;return(l=tn().historic).panels!=null||(l.panels={}),tn().historic.panels}o._ensure=i,(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.outlinePanel!=null||(u.outlinePanel={}),u.outlinePanel}l._ensure=s,(u=>{function d(m){let v=[];for(let g of la(m))$g(g)?v.push(L({type:"Project"},g.address)):Ud(g)?(v.push(L({type:"Sheet"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.address)):E2(g)?v.push(L({type:"Sheet"},g.address)):fr(g)?(v.push(L({type:"SheetObject"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.sheet.address)):P2(g)&&v.push(L({type:"SheetObject"},g.address));l._ensure().selection=v}u.set=d;function f(){l._ensure().selection=[]}u.unset=f})(l.selection||(l.selection={}))})(o.outline||(o.outline={})),(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.sequenceEditor!=null||(u.sequenceEditor={}),u.sequenceEditor}l._ensure=s,(u=>{function d(){let m=l._ensure();return m.graphEditor!=null||(m.graphEditor={height:.5,isOpen:!1}),m.graphEditor}function f(m){d().isOpen=m.isOpen}u.setIsOpen=f})(l.graphEditor||(l.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(n.panels||(n.panels={})),(o=>{(i=>{function l(s){let u=tn().historic;return u.projects.stateByProjectId[s.projectId]||(u.projects.stateByProjectId[s.projectId]={stateBySheetId:{}}),u.projects.stateByProjectId[s.projectId]}i._ensure=l,(s=>{function u(f){let m=e.studio.historic.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),m.stateBySheetId[f.sheetId]}s._ensure=u;function d(f){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(f).selectedInstanceId=f.sheetInstanceId}s.setSelectedInstanceId=d,(f=>{function m(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;x[k.objectKey]||(x[k.objectKey]={});let S=x[k.objectKey],_=to(k.pathToProp),O=new Set(Object.keys(Nc));for(let[z,V]of Object.entries(km(x)))for(let[W,B]of Object.entries(V))O.delete(B);let j=O.size>0?O.values().next().value:Object.keys(Nc)[0];S[_]=j}f.addPropToGraphEditor=m;function v(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;if(!x[k.objectKey])return;let S=x[k.objectKey],_=to(k.pathToProp);S[_]&&dH(x,[k.objectKey,_])}f.removePropFromGraphEditor=v;function g(k){let x=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(k).sequenceEditor;return x.markerSet||(x.markerSet=zr.create()),x.markerSet}function h(k){let x=g(k.sheetAddress),S=k.markers.filter(z=>!!isFinite(z.position)).map(z=>he(L({},z),{position:k.snappingFunction(z.position)})),_=yu(S,"id"),O=zr.filter(x,z=>z&&!_[z.id]),j=yu(Object.values(O.byId),"position");S.forEach(({position:z})=>{let V=j[z];V&&(O=zr.remove(O,V.id))}),Object.assign(x,zr.merge([O,zr.create(S.map(z=>[z.id,z]))]))}f.replaceMarkers=h;function b(k){let x=g(k.sheetAddress);Object.assign(x,zr.remove(x,k.markerId))}f.removeMarker=b;function y(k){let x=g(k.sheetAddress).byId[k.markerId];x!==void 0&&(x.label=k.label)}f.updateMarker=y})(s.sequenceEditor||(s.sequenceEditor={}))})(i.stateBySheetId||(i.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.historic||(t.historic={})),(n=>{function o(i){tn().ephemeral.showOutline=i}n.setShowOutline=o,(i=>{(l=>{function s(u){let d=tn().ephemeral;return d.projects.stateByProjectId[u.projectId]||(d.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),d.projects.stateByProjectId[u.projectId]}l._ensure=s,(u=>{function d(f){let m=e.studio.ephemeral.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={stateByObjectKey:{}}),m.stateBySheetId[f.sheetId]}u._ensure=d,(f=>{function m(v){var g;let h=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(v).stateByObjectKey;return h[g=v.objectKey]!=null||(h[g]={}),h[v.objectKey]}f._ensure=m,(v=>{function g(b){let y=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(b);return y.valuesBeingScrubbed!=null||(y.valuesBeingScrubbed={}),y.valuesBeingScrubbed}v._ensure=g;function h(b){Cl(g(b),b.pathToProp,!0)}v.flag=h})(f.propsBeingScrubbed||(f.propsBeingScrubbed={}))})(u.stateByObjectKey||(u.stateByObjectKey={}))})(l.stateBySheetId||(l.stateBySheetId={}))})(i.stateByProjectId||(i.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ephemeral||(t.ephemeral={})),(n=>{function o(d){tn().ahistoric.pinOutline=d}n.setPinOutline=o;function i(d){tn().ahistoric.pinDetails=d}n.setPinDetails=i;function l(d){tn().ahistoric.pinNotifications=d}n.setPinNotifications=l;function s(d){tn().ahistoric.visibilityState=d}n.setVisibilityState=s;function u(d){let f=ah(d.map(g=>g.pathToProp)),m=d.map(({keyframe:g,pathToProp:h})=>({keyframe:g,pathToProp:h.slice(f.length)})),v=tn();v.ahistoric.clipboard?v.ahistoric.clipboard.keyframesWithRelativePaths=m:v.ahistoric.clipboard={keyframesWithRelativePaths:m}}n.setClipboardKeyframes=u,(d=>{(f=>{function m(v){let g=tn().ahistoric;return g.projects.stateByProjectId[v.projectId]||(g.projects.stateByProjectId[v.projectId]={stateBySheetId:{}}),g.projects.stateByProjectId[v.projectId]}f._ensure=m,(v=>{function g(b){let y=e.studio.ahistoric.projects.stateByProjectId._ensure(b);return y.collapsedItemsInOutline||(y.collapsedItemsInOutline={}),y.collapsedItemsInOutline}v._ensure=g;function h(b){let y=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(b);b.isCollapsed?y[b.itemKey]=!0:delete y[b.itemKey]}v.set=h})(f.collapsedItemsInOutline||(f.collapsedItemsInOutline={})),(v=>{function g(h){let b=e.studio.ahistoric.projects.stateByProjectId._ensure(h);return b.stateBySheetId[h.sheetId]||(b.stateBySheetId[h.sheetId]={}),b.stateBySheetId[h.sheetId]}v._ensure=g,(h=>{function b(y){let k=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(y);return k.sequence||(k.sequence={}),k.sequence}h._ensure=b,(y=>{function k(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange={range:S.range,enabled:S.enabled}}y.set=k;function x(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange=void 0}y.unset=x})(h.focusRange||(h.focusRange={})),(y=>{function k(x){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(x).clippedSpaceRange=L({},x.range)}y.set=k})(h.clippedSpaceRange||(h.clippedSpaceRange={})),(y=>{function k(S){let _=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S),O=_.collapsableItems;return O||(O=_.collapsableItems=zr.create()),O}function x(S){let _=k(S);Object.assign(_,zr.add(_,S.studioSheetItemKey,{isCollapsed:S.isCollapsed}))}y.set=x})(h.sequenceEditorCollapsableItems||(h.sequenceEditorCollapsableItems={}))})(v.sequence||(v.sequence={}))})(f.stateBySheetId||(f.stateBySheetId={}))})(d.stateByProjectId||(d.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(n=>{(o=>{function i(l){let s=tn().historic.coreByProject[l.projectId].revisionHistory,u=50;s.unshift(l.revision),s.length>u&&(s.length=u)}o.add=i})(n.revisionHistory||(n.revisionHistory={})),(o=>{function i(u){let d=tn().historic.coreByProject[u.projectId].sheetsById;return d[u.sheetId]||(d[u.sheetId]={staticOverrides:{byObject:{}}}),d[u.sheetId]}o._ensure=i;function l(u){let d=tn().historic.coreByProject[u.projectId].sheetsById[u.sheetId];if(!d)return;delete d.staticOverrides.byObject[u.objectKey];let f=d.sequence;f&&delete f.tracksByObject[u.objectKey]}o.forgetObject=l;function s(u){tn().historic.coreByProject[u.projectId].sheetsById[u.sheetId]&&delete tn().historic.coreByProject[u.projectId].sheetsById[u.sheetId]}o.forgetSheet=s,(u=>{function d(B){let Z=e.coreByProject.historic.sheetsById._ensure(B);return Z.sequence!=null||(Z.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),Z.sequence}u._ensure=d;function f(B){d(B).length=kt(parseFloat(B.length.toFixed(2)),.01,1/0)}u.setLength=f;function m(B){d(B).subUnitsPerUnit=kt(B.subUnitsPerUnit,1,Eq(2,12))}u.setSubUnitsPerUnit=m;function v(B){var Z;let re=e.coreByProject.historic.sheetsById.sequence._ensure(B).tracksByObject;return re[Z=B.objectKey]!=null||(re[Z]={trackData:{},trackIdByPropPath:{}}),re[B.objectKey]}function g(B,Z){let re=v(B),D=to(B.pathToProp);if(typeof re.trackIdByPropPath[D]=="string")return;let G=YJ(),C={type:"BasicKeyframedTrack",__debugName:"".concat(B.objectKey,":").concat(D),keyframes:[]};re.trackData[G]=C,re.trackIdByPropPath[D]=G}u.setPrimitivePropAsSequenced=g;function h(B){let Z=v(B),re=to(B.pathToProp),D=Z.trackIdByPropPath[re];typeof D=="string"&&(delete Z.trackIdByPropPath[re],delete Z.trackData[D],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(B))}u.setPrimitivePropAsStatic=h;function b(B){let Z=v(B);for(let re of Object.keys(Z.trackIdByPropPath)){let D=JSON.parse(re);if(B.pathToProp.every((G,C)=>D[C]===G)){let G=Z.trackIdByPropPath[re];if(typeof G!="string")continue;delete Z.trackIdByPropPath[re],delete Z.trackData[G]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(B)}u.setCompoundPropAsStatic=b;function y(B){return v(B).trackData[B.trackId]}function k(B){let Z=y(B);if(Z)return Z.keyframes.find(re=>re.id===B.keyframeId)}function x(B){let Z=B.snappingFunction(B.position),re=y(B);if(!re)return;let{keyframes:D}=re,G=D.findIndex(xe=>xe.position===Z);if(G!==-1){let xe=D[G];xe.value=B.value;return}let C=IP(D,xe=>xe.position<Z);if(C===-1){D.unshift({id:S8(),position:Z,connectedRight:!0,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value});return}let Y=D[C];D.splice(C+1,0,{id:S8(),position:Z,connectedRight:Y.connectedRight,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value})}u.setKeyframeAtPosition=x;function S(B){let Z=y(B);if(!Z)return;let{keyframes:re}=Z,D=re.findIndex(G=>G.position===B.position);D!==-1&&re.splice(D,1)}u.unsetKeyframeAtPosition=S;function _(B){let Z=y(B);if(!Z)return;let re=km(Z.keyframes).filter(D=>B.keyframeIds.includes(D.id)).map(D=>{let G=D.position,C=B.snappingFunction(Roe(G,B));return he(L({},D),{position:C})});W(he(L({},B),{keyframes:re}))}u.transformKeyframes=_;function O(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.map((re,D)=>{let G=Z.keyframes[D-1],C=B.keyframeIds.includes(re.id),Y=B.keyframeIds.includes(G==null?void 0:G.id);return C&&!Y?he(L({},re),{handles:[re.handles[0],re.handles[1],B.handles[0],B.handles[1]]}):C&&Y?he(L({},re),{handles:[B.handles[2],B.handles[3],B.handles[0],B.handles[1]]}):Y?he(L({},re),{handles:[B.handles[2],B.handles[3],re.handles[2],re.handles[3]]}):re}))}u.setTweenBetweenKeyframes=O;function j(B){var Z,re,D,G,C,Y,xe,q;let K=k(B);K&&(K.handles=[(re=(Z=B.end)==null?void 0:Z[0])!=null?re:K.handles[0],(G=(D=B.end)==null?void 0:D[1])!=null?G:K.handles[1],(Y=(C=B.start)==null?void 0:C[0])!=null?Y:K.handles[2],(q=(xe=B.start)==null?void 0:xe[1])!=null?q:K.handles[3]])}u.setHandlesForKeyframe=j;function z(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.filter(re=>B.keyframeIds.indexOf(re.id)===-1))}u.deleteKeyframes=z;function V(B){let Z=k(B);Z&&(Z.type=B.keyframeType)}u.setKeyframeType=V;function W(B){let Z=y(B);if(!Z)return;let re=km(Z.keyframes),D=B.keyframes.filter(q=>!(typeof q.value=="number"&&!isFinite(q.value)||!q.handles.every(K=>isFinite(K)))).map(q=>he(L({},q),{position:B.snappingFunction(q.position)})),G=yu(D,"id"),C=re.filter(q=>!G[q.id]),Y=yu(C,"position");D.forEach(({position:q})=>{let K=Y[q];K&&$P(C,K)});let xe=XP([...C,...D],"position");Z.keyframes=xe}u.replaceKeyframes=W})(o.sequence||(o.sequence={})),(u=>{(d=>{function f(h){var b;let y=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject;return y[b=h.objectKey]!=null||(y[b]={}),y[h.objectKey]}function m(h){let b=f(h);Cl(b,h.pathToProp,h.value)}d.setValueOfCompoundProp=m;function v(h){let b=f(h);Cl(b,h.pathToProp,h.value)}d.setValueOfPrimitiveProp=v;function g(h){let b=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject[h.objectKey];b&&dH(b,h.pathToProp)}d.unsetValueOfPrimitiveProp=g})(u.byObject||(u.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(n.sheetsById||(n.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(Pw||(Pw={}));function Cw(){let e,t,n=new Promise((i,l)=>{e=s=>{i(s),o.status="resolved"},t=s=>{l(s),o.status="rejected"}}),o={resolve:e,reject:t,promise:n,status:"pending"};return o}var Zoe=je;function Goe(e){let t=e.getState(),n=new Zoe.Atom(t);return e.subscribe(()=>{let o=e.getState();n.set(o),t=o}),n}F_();function Xoe(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var Gc;typeof self<"u"?Gc=self:typeof window<"u"?Gc=window:typeof Ln<"u"?Gc=Ln:Gc=Vt;var Qoe=Xoe(Gc),SH=Qoe,EH={INIT:"@@redux/INIT"};function _H(e,t,n){var o;if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(_H)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,l=t,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){return l}function v(y){if(typeof y!="function")throw new Error("Expected listener to be a function.");var k=!0;return f(),u.push(y),function(){if(k){k=!1,f();var x=u.indexOf(y);u.splice(x,1)}}}function g(y){if(!ff(y))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof y.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=i(l,y)}finally{d=!1}for(var k=s=u,x=0;x<k.length;x++){var S=k[x];S()}return y}function h(y){if(typeof y!="function")throw new Error("Expected the nextReducer to be a function.");i=y,g({type:EH.INIT})}function b(){var y,k=v;return y={subscribe:function(x){if(typeof x!="object")throw new TypeError("Expected the observer to be an object.");function S(){x.next&&x.next(m())}S();var _=k(S);return{unsubscribe:_}}},y[SH]=function(){return this},y}return g({type:EH.INIT}),o={dispatch:g,subscribe:v,getState:m,replaceReducer:h},o[SH]=b,o}function Yoe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,i){return function(){return o(i.apply(void 0,arguments))}})}function Joe(e){let t=Yoe();return _H(e.rootReducer,void 0,t)}Gh(),SP();var Iw=new WeakMap,eae=(e,t,n)=>{let o=d=>{e.dispatch(xs.replacePersistentState(d))},i=PH(n),l=()=>e.getState().$persistent;u();let s=()=>{let d=l(),f=Iw.get(e);d!==f&&(Iw.set(e,d),localStorage.setItem(i,JSON.stringify(d)))};e.subscribe(ov(s,1e3)),window&&window.addEventListener("beforeunload",s);function u(){let d=localStorage.getItem(i);if(d){let f,m=!0;try{f=JSON.parse(d),m=!1}catch{Zh.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{m||o(f),t()}}else t()}},tae=(e,t)=>{let n=PH(t),o=e.getState().$persistent;localStorage.removeItem(n),Iw.set(e,o)};function PH(e){return e+".persistent"}DT(),ni(),hu(),DP(),qg(),Cp();var Sm=je;ma(),Rt(),yU();function jw(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(ff(e)){let t={},n=!1;for(let[o,i]of Object.entries(e))jw(i)!==void 0&&(t[o]=i,n=!0);if(n)return t}else return}function CH(e,t,n){for(let[o,i]of Object.entries(e.props))if(i.type==="compound")CH(i,[...t,o],n);else{if(i.type==="enum")throw new Error("Not yet implemented");n(i,[...t,o])}}function nae(e,t,n){return{set:(o,i)=>{e();let l=jw(i);if(typeof l>"u")return;let{root:s,path:u}=(0,Sm.getPointerParts)(o);if(fr(s)){let d=s.template.getMapOfValidSequenceTracks_forStudio().getValue(),f=xp(s.template.staticConfig,u);if(!f)throw new Error("Object ".concat(s.address.objectKey," does not have a prop at ").concat(JSON.stringify(u)));let m=(v,g,h)=>{if(v==null)return;if(jw(g.deserializeAndSanitize(v))===void 0)throw new Error("Invalid value ".concat(Mk(v)," for object.props").concat(h.map(k=>"[".concat(JSON.stringify(k),"]")).join("")," is invalid"));let b=he(L({},s.address),{pathToProp:h}),y=ii(d,h);if(typeof y=="string"){let k=s.sheet.getSequence();k.position=k.closestGridPosition(k.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},b),{trackId:y,position:k.position,value:v,snappingFunction:k.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(he(L({},b),{value:v}))};if(f.type==="compound"){let v=(0,Sm.getPointerParts)(o).path,g=v.length;CH(f,v,(h,b)=>{let y=b.slice(g),k=va(l,y);if(typeof k<"u")m(k,h,b);else throw new Error("Property object.props".concat(b.map(x=>"[".concat(JSON.stringify(x),"]")).join("")," is required but not provided"))})}else{if(f.type==="enum")throw new Error("Enums aren't implemented yet");m(l,f,u)}}else if(_2(s)){let[d]=u;if(d==="subUnitsPerUnit"){if(typeof l!="number"||!lv(l)||l<1)throw new Error("Value ".concat(l," is not an integer, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(he(L({},s.address),{subUnitsPerUnit:l}))}else if(d==="length"){if(typeof l!="number"||l<=.001)throw new Error("Value ".concat(l," is not a positive number, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setLength(he(L({},s.address),{length:l}))}else throw new Error("Setting sequence prop ".concat(d," is not supported"))}else throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far")},unset:o=>{e();let{root:i,path:l}=(0,Sm.getPointerParts)(o);if(fr(i)){let s=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),u=va(i.template.getDefaultValues().getValue(),l),d=xp(i.template.staticConfig,l),f=(m,v)=>{let g=he(L({},i.address),{pathToProp:v}),h=ii(s,v);typeof h=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(he(L({},g),{trackId:h,position:i.sheet.getSequence().positionSnappedToGrid})):d!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(g)};d.type==="compound"?Md(u,(m,v)=>{f(m,v)},(0,Sm.getPointerParts)(o).path):f(u,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),n},get stateEditors(){return t}}}var rae=class{constructor(){et(this,"_reduxStore"),et(this,"_atom"),et(this,"atomP"),this._reduxStore=Joe({rootReducer:Noe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=Goe(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=Cw();return e.usePersistentStorage===!0?eae(this._reduxStore,()=>{this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return tae(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(xs.historic.startHistoryFromScratch(xs.reduceParts(t=>he(L({},t),{historic:e}))))}tempTransaction(e){let t=Boe(),n,o=t.push(xs.reduceParts(i=>{let l={historic:Sw(i.historic),ahistoric:Sw(i.ahistoric),ephemeral:Sw(i.ephemeral)},s=!0,u=()=>{if(!s)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},d=xH(l),f=nae(u,d,l);try{return e(f),s=!1,{historic:Ew(l.historic),ahistoric:Ew(l.ahistoric),ephemeral:Ew(l.ephemeral)}}catch(m){return n=m,i}finally{xH(void 0)}}));if(this._reduxStore.dispatch(o),n)throw this._reduxStore.dispatch(t.discard()),n;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(xs.historic.undo())}redo(){this._reduxStore.dispatch(xs.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=zT();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return L({},n)}},oae=je,Ow=class{constructor(){et(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};ni(),da(),Ne(),Rt(),Bk();var aae=class{constructor(e){et(this,"ui",{hide(){de().ui.hide()},get isHidden(){return de().ui.isHidden},restore(){de().ui.restore()},renderToolset(t,n){return de().ui.renderToolset(t,n)}}),et(this,"_cache",new Ow),et(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){cre()},__experimental_enablePlayPauseKeyboardShortcut(){dre()},__experimental_clearPersistentStorage(t){return de().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return de().createContentOfSaveFile(t)}})}initialize(e){return de().initialize(e)}extend(e,t){de().extend(e,t)}transaction(e){return de().transaction(({set:t,unset:n,stateEditors:o})=>e({set:t,unset:n,__experimental_forgetObject:i=>{if(!Zg(i))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(i.address)},__experimental_forgetSheet:i=>{if(!Lg(i))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(i.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,oae.prism)(()=>ca().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(n=>Zg(n)||Lg(n)).map(n=>de().corePrivateAPI(n));de().transaction(({stateEditors:n})=>{n.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=de();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return de().scrub()}getStudioProject(){let e=de().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return de().getStudioProject(e)}debouncedScrub(e=1e3){let t,n=ov(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let i=!0;try{t.capture(o),i=!1}finally{if(i){let l=t;t=void 0,l.discard()}else n()}}}}createPane(e){return de().paneManager.createPane(e)}destroyPane(e){return de().paneManager.destroyPane(e)}createContentOfSaveFile(e){return de().createContentOfSaveFile(e)}};x8();var Ji=je,iae=class{constructor(e){this._studio=e,et(this,"_cache",new Ow),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,Ji.prism)(()=>{if(!(0,Ji.val)(this._studio.coreP))return{};let e=(0,Ji.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,Ji.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let o of Object.values(e)){if(!o)continue;let i=t[o.paneClass];if(!i)continue;let{instanceId:l}=o,{extensionId:s,classDefinition:u}=i,d=Ji.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:s,instanceId:l,definition:u}),[u]);n[l]=d}return n}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,Ji.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),n=(0,Ji.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let i=1;i<1e3&&(o="".concat(e," #").concat(i),!!n[o]);i++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},Em=je;Ne();var IH=30*60*1e3,lae=1e3*60*60;function sae(){return Ht(this,null,function*(){let e=de().atomP.ahistoric.visibilityState;if((0,Em.val)(e)==="everythingIsVisible")return;let t=Cw(),n=(0,Em.pointerToPrism)(e).onStale(()=>{(0,Em.val)(e)==="everythingIsVisible"&&(n(),t.resolve(void 0))});return t.promise})}function uae(){return Ht(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield _m(500),yield sae();;){let e=(0,Em.val)(de().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,n=Date.now(),o=Math.abs(n-t);o<IH&&(yield _m(IH-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(t.ok){let n=yield t.json();if(!cae(n))throw new Error("Bad response");de().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:L({},n)}}),yield _m(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch{yield _m(lae)}}})}var _m=e=>new Promise(t=>setTimeout(t,e));function cae(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var dae=$(i3());function qo(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function jH(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let o=qo(n);return(i,l)=>o.then(s=>l(s.transaction(t,i).objectStore(t)))}var Tw;function _s(){return Tw||(Tw=jH("keyval-store","keyval")),Tw}function fae(e,t=_s()){return t("readonly",n=>qo(n.get(e)))}function pae(e,t,n=_s()){return n("readwrite",o=>(o.put(t,e),qo(o.transaction)))}function hae(e,t=_s()){return t("readwrite",n=>(n.delete(e),qo(n.transaction)))}function zw(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},qo(e.transaction)}function mae(e=_s()){return e("readonly",t=>{if(t.getAllKeys)return qo(t.getAllKeys());let n=[];return zw(t,o=>n.push(o.key)).then(()=>n)})}function gae(e=_s()){return e("readonly",t=>{if(t.getAll)return qo(t.getAll());let n=[];return zw(t,o=>n.push(o.value)).then(()=>n)})}function vae(e=_s()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([qo(t.getAllKeys()),qo(t.getAll())]).then(([o,i])=>o.map((l,s)=>[l,i[s]]));let n=[];return e("readonly",o=>zw(o,i=>n.push([i.key,i.value])).then(()=>n))})}var yae=e=>{let t=jH("theatrejs-".concat(e),"default-store");return{set:(n,o)=>pae(n,o,t),get:n=>fae(n,t),del:n=>hae(n,t),keys:()=>mae(t),entries:()=>vae(t),values:()=>gae(t)}};rD(),vc();var OH="theatre-0.4",bae=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,kae="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",wae=class{constructor(){et(this,"ui"),et(this,"publicApi"),et(this,"address"),et(this,"_projectsProxy",new pm.PointerProxy(new pm.Atom({}).pointer)),et(this,"projectsP",this._projectsProxy.pointer),et(this,"_store",new rae),et(this,"_corePrivateApi"),et(this,"_cache",new Ow),et(this,"paneManager"),et(this,"_coreAtom",new pm.Atom({})),et(this,"_initializedDeferred",Cw()),et(this,"_initializeFnCalled",!1),et(this,"_didWarnAboutNotInitializing",!1),et(this,"_coreBits"),et(this,"_rafDriver"),this.address={studioId:oc(10)},this.publicApi=new aae(this),this.ui=new hoe(this),this._attachToIncomingProjects(),this.paneManager=new iae(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(bae),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return Ht(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(kae);let t={persistenceKey:OH,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window>"u")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let n=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!n)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=n}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(n){this._initializedDeferred.reject(n);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),uae().catch(n=>{console.error(n)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,pm.pointerToPrism)(this.projectsP),t=n=>{for(let o of Object.values(n))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new foe(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let n=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,i=this._store.getState().ephemeral.extensions.byId[o];if(i&&!n){if(e===i||(0,dae.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:l})=>{var s,u;l.ephemeral.extensions.byId[e.id]=e;let d=l.ephemeral.extensions.paneClasses;n&&i&&((s=i.panes)==null||s.forEach(f=>{delete d[f.class]})),(u=e.panes)==null||u.forEach(f=>{if(typeof f.class!="string")throw new Error("pane.class must be a string");if(f.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let m=d[f.class];if(m)if(n&&m.extensionId===e.id)console.warn('Pane class "'.concat(f.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(f.class,'" already exists and is supplied by extension ').concat(m));d[f.class]={extensionId:e.id,classDefinition:f}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return Ht(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=yae("".concat(e.address.projectId,"-assets")),o=Kb(e),i=yield n.keys();yield Promise.all(i.map(f=>Ht(this,null,function*(){o.includes(f)||(yield n.del(f))}))),yield Promise.all(i.map(f=>Ht(this,null,function*(){var m,v;let g="".concat(t,"/").concat(f);try{(yield fetch(g,{method:"HEAD"})).ok&&(yield n.del(f))}catch{gc.error("Failed to access assets","Failed to access assets at ".concat((v=(m=e.config.assets)==null?void 0:m.baseUrl)!=null?v:"/",". This is likely due to a CORS issue."))}})));let l=new Map(yield n.entries()),s=new Map,u=f=>{if(s.has(f))return s.get(f);{let m=URL.createObjectURL(f);return s.set(f,m),m}},d=f=>{let m=l.get(f);if(!m)throw new Error("Asset with id ".concat(f," not found"));return u(m)};return{getAssetUrl:f=>l.has(f)?d(f):"".concat(t,"/").concat(f),createAsset:f=>Ht(this,null,function*(){var m,v,g;let h=Kb(e),b=!1;if(h.includes(f.name)){let y;try{y=(m=l.get(f.name))!=null?m:yield fetch("".concat(t,"/").concat(f.name)).then(k=>k.ok?k.blob():void 0)}catch{return gc.error("Failed to access assets","Failed to access assets at ".concat((g=(v=e.config.assets)==null?void 0:v.baseUrl)!=null?g:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(y){if(b=yield(yield Promise.resolve().then(()=>$(coe()))).default.isEqual(f,y),b)return f.name;{let k=x=>{let S=prompt(x,f.name);return S===null?!1:S===""?k("Asset name cannot be empty. Please choose a different file name for this asset."):h.includes(S)?(console.log(h),k("An asset with this name already exists. Please choose a different file name for this asset.")):(f=new File([f],S,{type:f.type}),!0)};if(!k("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return l.set(f.name,f),yield n.set(f.name,f),f.name})}})}clearPersistentStorage(e=OH){this._store.__experimental_clearPersistentStorage(e)}},Dw="__TheatreJS_StudioBundle",xae="__TheatreJS_CoreBundle",Sae="__TheatreJS_Notifications",Eae=class{constructor(e){this._studio=e,et(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,n=>{t=n}),this._studio.setCoreBits(t)}},_ae=$(X());be();var TH,Pae=M.div(TH||(TH=R([""]))),Cae=e=>_ae.default.createElement(Pae,null),Iae=Cae;vc();var Aw=new wae;Iq(Aw);var jae=Aw.publicApi,Oae=jae;Tae();function Tae(){if(typeof window>"u")return;let e=window[Dw];if(typeof e<"u")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(Dw," seems to be already set by a module other than @theatre/core."));let t=new Eae(Aw);window[Dw]=t;let n=window[xae];n&&n!==null&&n.type==="Theatre_CoreBundle"&&t.registerCoreBundle(n)}typeof window<"u"&&(window[Sae]={notify:gc});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(Ng,Ng.exports);var Ble=Ng.exports;const Nle=Ele(Ble),Rle={"KV Animation":{staticOverrides:{byObject:{Cube:{position:{sz:-100,sx:20},rotation:{y:0,x:-2},scale:{sx:1,sy:1}}}},sequence:{subUnitsPerUnit:30,length:7.61,type:"PositionalSequence",tracksByObject:{Cube:{trackData:{KB94C9Rtat:{type:"BasicKeyframedTrack",__debugName:'Cube:["position","sz"]',keyframes:[{id:"O6My02vjV6",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-50},{id:"4QlWokdrjt",position:1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},fUrgTcGCLD:{type:"BasicKeyframedTrack",__debugName:'Cube:["rotation","x"]',keyframes:[{id:"9m1WTehvrj",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-2},{id:"uG3Q9aZe4E",position:1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"pexKV_qg-n",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},"Q4NSA45-IR":{type:"BasicKeyframedTrack",__debugName:'Cube:["position","sx"]',keyframes:[{id:"K1C7-nCoYN",position:1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"biU-waWGHc",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:20},{id:"IrBM1arvXH",position:3.9,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-20}]},"-20mmPE1ck":{type:"BasicKeyframedTrack",__debugName:'Cube:["rotation","y"]',keyframes:[{id:"JYjx2XXBd1",position:2,connectedRight:!0,handles:[.5,1,.652937123363665,.11931818181818182],type:"bezier",value:0},{id:"ulKoFNAXXS",position:3.933,connectedRight:!0,handles:[.18956046600808296,.9886363636363636,.5,0],type:"bezier",value:-2},{id:"njNXWkmj48",position:5.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-2},{id:"0JDDjHwwK_",position:6.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.15190624536418929}]},RLOcCqQa8p:{type:"BasicKeyframedTrack",__debugName:'Cube:["rotation","z"]',keyframes:[{id:"zJM7vvp7B0",position:2,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"0O4LUSd0RO",position:3.033,connectedRight:!0,handles:[.20100241056569756,.9693956611570248,.5,0],type:"bezier",value:-.27848101265822783},{id:"BFVtLG3d0n",position:3.933,connectedRight:!0,handles:[.5,1,1,-.04132395382395382],type:"bezier",value:-.27848101265822783},{id:"EAhPMZoH5q",position:4.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5}]},cV7eZTuWBt:{type:"BasicKeyframedTrack",__debugName:'Cube:["position","sy"]',keyframes:[{id:"KZDjoN0VBv",position:3.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0},{id:"eZy1o6e3eS",position:4.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-7}]},TDaGcDpsDC:{type:"BasicKeyframedTrack",__debugName:'Cube:["position","px"]',keyframes:[{id:"npYVf4-sKd",position:1,connectedRight:!0,handles:[.5,1,.7868027591795177,-.02580985590234164],type:"bezier",value:0},{id:"DZkEc6rpsT",position:2,connectedRight:!0,handles:[.06758968616011182,.9810986531115045,.6734809160543065,-.008298755186721992],type:"bezier",value:-20},{id:"FNGosqlEcu",position:3.933,connectedRight:!0,handles:[.2694529931383558,1,.5,0],type:"bezier",value:20}]},"xfuR-UovSF":{type:"BasicKeyframedTrack",__debugName:'Cube:["position","py"]',keyframes:[{id:"7HxHhq82qm",position:3.933,connectedRight:!0,handles:[.5,1,1,-.030298539746669167],type:"bezier",value:0},{id:"2Qea-bLC01",position:4.533,connectedRight:!0,handles:[.6752075357254679,1,.5,0],type:"bezier",value:-10},{id:"tq2ozDPSFV",position:5,connectedRight:!0,handles:[.5,1,.42693262490593636,.1122396918373385],type:"bezier",value:-10},{id:"PlzhV1jPhg",position:5.267,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-13.6},{id:"Uhj7HWBklX",position:5.667,connectedRight:!0,handles:[.6333100688300236,.4215302174523868,.4171848213955921,.6362714912724671],type:"bezier",value:3.947121250125248},{id:"c98vh8w4Fk",position:6.233,connectedRight:!0,handles:[.8624207902624479,1.0363960886025705,.5,0],type:"bezier",value:29.113924050632907}]},P4hN5cN4ek:{type:"BasicKeyframedTrack",__debugName:'Cube:["position","pz"]',keyframes:[{id:"ftqmBSsdRg",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-50},{id:"sfk6OZMH4N",position:1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:0}]},"14sFjrug7y":{type:"BasicKeyframedTrack",__debugName:'Cube:["scale","sx"]',keyframes:[{id:"h4GdPMTcle",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"iikPFhW8ym",position:5,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"BfGiQGxggW",position:5.267,connectedRight:!0,handles:[.376596082237443,.9659090909090909,.8299598316140482,-.005681818181818182],type:"bezier",value:.3},{id:"adgE1zaxJe",position:5.733,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.2911392405063276},{id:"8XEsmKnSp3",position:6.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]},mDlQGGsRzW:{type:"BasicKeyframedTrack",__debugName:'Cube:["scale","sy"]',keyframes:[{id:"0W899ZkTwJ",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"ZILERekrtt",position:5.267,connectedRight:!0,handles:[.5,1,.6824656073438227,-.005681818181818182],type:"bezier",value:1},{id:"TDF1z5uS3T",position:5.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7}]},P8Or0T7iM7:{type:"BasicKeyframedTrack",__debugName:'Cube:["color"]',keyframes:[{id:"zwC14xHyzu",position:1,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:0,b:0,a:1}},{id:"uZ0tVcDQX2",position:3.933,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:0,g:.09803921568627451,b:.7450980392156863,a:1}},{id:"XoQtdcKdTM",position:4.5,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1656195869448318e-23,g:.09803924093248287,b:.7450980111471813,a:1}},{id:"68XacIS0uV",position:4.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.7490196078431373,g:.42745098039215684,b:0,a:1}},{id:"x2CNAQCPeM",position:5.333,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.8289826317845583,g:.39944849307142416,b:6619319605834062e-20,a:1}},{id:"LPLgDJEGXc",position:5.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.3176470588235294,g:1,b:0,a:1}},{id:"ywKnIpODzX",position:5.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:0,g:.5019607843137255,b:.8117647058823529,a:1}},{id:"lQ8a64zg9s",position:5.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.2784313725490196,g:.14901960784313725,b:.788235294117647,a:1}},{id:"JQLnFzcs-g",position:5.967,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:.6352941176470588,g:.19215686274509805,b:.7686274509803922,a:1}},{id:"A_kqkqseeJ",position:6.567,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:{r:1,g:.30196078431372547,b:0,a:1}}]},"uEzUn-r4KH":{type:"BasicKeyframedTrack",__debugName:'Cube:["scale","sz"]',keyframes:[{id:"aTVMo3QlM_",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"dKnQwpsOPA",position:5.267,connectedRight:!0,handles:[.5,1,.6990533898296247,-.005681818181818182],type:"bezier",value:1},{id:"yYsb4hKJl9",position:5.533,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7}]}},trackIdByPropPath:{'["position","sz"]':"KB94C9Rtat",'["rotation","x"]':"fUrgTcGCLD",'["position","sx"]':"Q4NSA45-IR",'["rotation","y"]':"-20mmPE1ck",'["rotation","z"]':"RLOcCqQa8p",'["position","sy"]':"cV7eZTuWBt",'["position","px"]':"TDaGcDpsDC",'["position","py"]':"xfuR-UovSF",'["position","pz"]':"P4hN5cN4ek",'["scale","sx"]':"14sFjrug7y",'["scale","sy"]':"mDlQGGsRzW",'["color"]':"P8Or0T7iM7",'["scale","sz"]':"uEzUn-r4KH"}}}}}},Fle="0.4.0",Mle=["pfU2eGxGxL9K_6Ki","Gs6mmPkXjYJN29Uz"],Ule={sheetsById:Rle,definitionVersion:Fle,revisionHistory:Mle};Nle.initialize();const yq=An.getProject("SampleProject",{state:Ule}),bq=yq.sheet("KV Animation");yq.ready.then(()=>bq.sequence.play({iterationCount:1/0}));const Ys=new _le;Ys.background=new Ple("#1d1d26");const Vle=new Cle(7,7,7),kq=new Ile({color:"#ff9900",emissive:"#049ef4"}),Zn=new jle(Vle,kq);Ys.add(Zn);const Hle=bq.object("Cube",{rotation:An.types.compound({x:An.types.number(Zn.rotation.x,{range:[-2,2]}),y:An.types.number(Zn.rotation.y,{range:[-2,2]}),z:An.types.number(Zn.rotation.z,{range:[-2,2]})}),position:An.types.compound({px:An.types.number(Zn.position.x,{range:[-100,100]}),py:An.types.number(Zn.position.y,{range:[-100,100]}),pz:An.types.number(Zn.position.z,{range:[-100,100]})}),scale:An.types.compound({sx:An.types.number(Zn.scale.x,{range:[0,4]}),sy:An.types.number(Zn.scale.y,{range:[0,4]}),sz:An.types.number(Zn.scale.z,{range:[0,4]})}),color:An.types.rgba({r:255,g:0,b:0,a:1})});Hle.onValuesChange(Vt=>{const{x:dr,y:En,z:Rg}=Vt.rotation;Zn.rotation.set(dr*Math.PI,En*Math.PI,Rg*Math.PI);const{px:Rd,py:ea,pz:Fg}=Vt.position;Zn.position.set(Rd,ea,Fg);const{sx:Mg,sy:Ug,sz:Vg}=Vt.scale;Zn.scale.set(Mg,Ug,Vg),kq.color=Vt.color});const Kle=new Ole("#ffffff",1);Ys.add(Kle);const v2=new Tle("#ff0",10,50,50);v2.position.set(-20,40,10);v2.lookAt(new zle(0,0,0));Ys.add(v2);const Bd=new Dle(45,document.body.clientWidth/window.innerHeight,1,1e3);Bd.position.z=50;const Nd=new Ale({antialias:!0});Nd.render(Ys,Bd);const Wle=document.querySelector("#app");Wle.appendChild(Nd.domElement);const wq=()=>{Nd.render(Ys,Bd),window.requestAnimationFrame(wq)};wq();const xq=()=>{const Vt=document.body.clientWidth,dr=window.innerHeight;Nd.setSize(Vt,dr),Nd.setPixelRatio(Math.min(window.devicePixelRatio,2)),Bd.aspect=Vt/dr,Bd.updateProjectionMatrix()};xq();window.addEventListener("resize",xq);
